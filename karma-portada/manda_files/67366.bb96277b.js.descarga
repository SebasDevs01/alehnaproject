"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["67366"],{3558:function(e,t,n){n.d(t,{Uy:function(){return C},V2:function(){return B}});var r=n(79066),o=n(35383),i=n(5377),a=n(45996),u=n(54333),s=n(72516),l=n(93085),c=n(4676),d=n(73455),p=n(10625),f=n(73691),g=n(35144),h=n(90542),v=n(48700),m=n(57007),y=n(65030),b=n(89458),_=n(38306),w=n(46036),x=n(78711),S=n(69511),L=n(37630),C=(0,p.p)("exploreCategorizedAtomsAtom@tiktok/webapp-atoms",{}),k=(0,p.p)("exploreCategorizedListAtom@tiktok/webapp-atoms",function(e){return(0,l.A)(e(C),function(t){return t?e(t):y.hA})},function(){});function I(e){h.f.sendEvent("row_load_more",{page_name:v.L.Explore,enter_method:"scroll",is_success:+!!e,is_follow:"0"})}var T=(0,c.i)(k,function(e,t){return{getExploreList:function(n){return(0,r._)(function(){var r,l,c,h,v,k,T;return(0,s.__generator)(this,function(s){switch(s.label){case 0:r=n.categoryType,c=(l=(0,g.x)()).language,h=l.abTestVersion,(v=e(C)[r])||(v=(0,d._)((0,p.p)("catAtom_".concat(r,"@tiktok/webapp-atoms"),y.hA),{rehydrationKey:"desktop.explorePage.exploreList.".concat(r)}),t(C,function(e){return(0,a._)((0,i._)({},e),(0,o._)({},r,v))})),s.label=1;case 1:return s.trys.push([1,3,,4]),k=(0,w.z)(),t(v,function(e){return(0,a._)((0,i._)({},e),{loading:!0})}),[4,(0,S.e)({language:(0,f.uk)(c),aid:y.xE,count:x.H,categoryType:r,clientABVersions:null==h?void 0:h.versionName,isNonPersonalized:(0,L.XN)(),video_encoding:k})];case 2:return(T=s.sent()).itemList=function(e,t){if(!t)return t;var n=e(C),r=[],o=!0,i=!1,a=void 0;try{for(var s,l=Object.values(n)[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c&&r.push.apply(r,(0,u._)(e(c).list))}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var d=new Set(r);return t.filter(function(e){return!d.has(e.id)})}(e,T.itemList),I(T.statusCode===m.s.Ok),(0,b.Tj)(e,t,v,_.Lz.Explore,T),[3,4];case 3:return s.sent(),I(!1),(0,b.e_)(t,v),[3,4];case 4:return[2]}})})()},resetExploreList:function(n){var r=e(C)[n.categoryType];r&&t(r,y.hA)}}}),B=T.useAtomService;T.useServiceDispatchers,T.useServiceState},18117:function(e,t,n){n.d(t,{g:function(){return S},m:function(){return L}});var r=n(41386),o=n(5377),i=n(45996),a=n(16327),u=n(6586),s=n(69513),l=n(40099),c=n(11854),d=n(82761),p=n(77443),f=n(62650),g=n(48859),h=n(38306),v=n(89458),m=n(72961),y=n(43264),b=n(44117),_=n(729),w=n(59384),x=n(46329),S=(0,d.$)("BrowserContext@tiktok/fe-shared")({isLiveBrowserShowing:!1,isBrowserModeShowing:!1,showBrowserMode:s.A,closeBrowserMode:s.A});function L(){var e=(0,u._)((0,l.useState)(!1),2),t=e[0],n=e[1],s=(0,u._)((0,l.useState)({}),2),d=s[0],S=s[1],L=(0,u._)((0,l.useState)(),2),C=L[0],k=L[1],I=(0,u._)((0,w.BI)(function(e){return{showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey,currentIndex:e.currentIndex,enterWindowTimeSec:e.enterWindowTimeSec}},c.bN),2),T=I[0],B=T.showingBrowserMode,M=T.itemListKey,P=T.currentIndex,O=T.enterWindowTimeSec,D=I[1],E=(0,l.useRef)(0),A=(0,l.useRef)(0),R=(0,l.useRef)(0),F=(0,l.useRef)(0),V=(0,l.useRef)(0),z=(0,l.useRef)(null),N=(0,l.useRef)(null),j=(0,x.hL)({currentIndex:P}),W=j.authorId,K=j.groupId,U=(0,m.L$)((0,x.Og)({currentIndex:P})).currentId,G=void 0===U?"":U,q=(0,m.L$)((0,y.W)(function(){return["user"]},[])).user,$=(0,u._)((0,p.S)(_.k,{selector:function(e){return e[G]},dependencies:[G]}),1)[0],Y=(0,l.useMemo)(function(){return{author_id:W,group_id:K}},[W,K]),H=(0,l.useCallback)(function(){var e=Math.floor((Number(new Date)-A.current)/1e3),t=(0,i._)((0,o._)((0,i._)((0,o._)({},f.L.getScreenRatio()),{duration:e}),Y),{play_mode:g.Tk.BrowserMode});f.L.handleExitBrowser(t)},[Y]),J=function(){null!==N.current&&window.removeEventListener("resize",N.current)};(0,l.useEffect)(function(){var e,n=function(){if(t){var e=f.L.getScreenRatio(),n=e.height_max,r=e.width_max,i=e.width,a=e.height,u=e.height_ratio,s=e.width_ratio,l=Number(new Date),c=(0,o._)({height_ratio_after:u,width_ratio_after:s,height_ratio:F.current/n,width_ratio:V.current/r,height_after:a,width_after:i,height:F.current,width:V.current,height_max:n,width_max:r,duration:(l-R.current)/1e3},Y);R.current=l,F.current=a,V.current=i,f.L.handleAdjustBrowserSize(c)}};if(J(),t){var r=function(){clearTimeout(e),e=setTimeout(n,500)};window.addEventListener("resize",r),N.current=r}if(0===E.current){var i=Number(new Date);E.current=i,A.current=i,R.current=i}return function(){J()}},[t,Y]);var Z=(0,l.useMemo)(function(){return{capture:!0}},[]),Q=(0,l.useCallback)(function(){null!==z.current&&window.removeEventListener("beforeunload",z.current,Z)},[Z]);(0,l.useEffect)(function(){var e=function(){var e=Math.floor((Number(new Date)-O)/1e3),n=(0,o._)((0,i._)((0,o._)({},f.L.getScreenRatio()),{duration:e}),t?Y:{});f.L.handleCloseWindow(n),t&&H()};return Q(),z.current=e,window.addEventListener("beforeunload",e,Z),function(){Q()}},[Q,O,t,Z,H,Y]);var X=(0,b.J)(),ee=(0,l.useCallback)(function(e){if(!X()){var t=e.teaParams,u=e.reportTeaParams,s=e.enterFrom,l=(0,a._)(e,["teaParams","reportTeaParams","enterFrom"]);(0,r._)(document.activeElement,HTMLElement)&&document.activeElement.blur(),D.showBrowserMode(l),n(!0),S(null!=t?t:{}),k(s);var c=(null==t?void 0:t.author_id)&&(null==q?void 0:q.uid)===t.author_id,d=f.L.getScreenRatio(),p=(0,i._)((0,o._)({},null!=u?u:t,d),{play_mode:g.Tk.BrowserMode,is_self_content:c}),h=d.width;F.current=d.height,V.current=h;var v=Number(new Date);A.current=v,R.current=v,f.L.handleEnterBrowserOpt(p)}},[D,X]),et=(0,l.useCallback)(function(e){n(!1),D.closeBrowserMode(e),H()},[D,H]),en=(0,l.useMemo)(function(){var e=new Set([h.Lz.ForYou,h.Lz.Following]);return!!B&&(0,v.Jl)($)&&e.has(M)},[B,M,$]);return{itemListKey:M,currentIndex:P,showBrowserMode:ee,isLiveBrowserShowing:en,closeBrowserMode:et,isBrowserModeShowing:B,disableUpdate:!t,teaParams:d,enterFrom:C}}},46329:function(e,t,n){n.d(t,{GL:function(){return eL},Ky:function(){return ek},hL:function(){return eB},rw:function(){return eM},Bc:function(){return eA},JE:function(){return ey},Wj:function(){return eS},WQ:function(){return ex},HK:function(){return eE},dD:function(){return ev},ih:function(){return eP},jd:function(){return eD},Og:function(){return eI},V0:function(){return eb},FQ:function(){return ew},DX:function(){return eO},Oz:function(){return e_},Dk:function(){return eT}});var r=n(5377),o=n(6586),i=n(2787),a=n(53036),u=n(59510),s=n(26869),l=n(40099),c=n(11854),d=n(84933),p=n(65491),f=n(10874),g=n(85223),h=n(21931),v=n(90314),m=n(89786),y=n(77443),b=n(23680),_=n(48859),w=n(47149),x=n(43691),S=n(37786),L=n(62650),C=n(80281),k=n(39950),I=n(86119),T=n(59952),B=n(17407),M=n(62085),P=n(38306),O=n(31847),D=n(45755),E=n(4676),A=n(10625),R=n(8561),F=n(65030),V=n(3558),z=(0,A.p)("exploreActiveCategoryTypeAtom@tiktok/webapp-atoms",R.Yl.ExploreCategoryType_UNDEFINED);(0,A.p)("exploreBrowserListAtom@tiktok/webapp-atoms",function(e){var t=e(V.Uy)[e(z)];return t?e(t):F.hA},function(){});var N=(0,E.i)(z,function(e,t){return{prepareBrowserMode:function(e){t(z,e)}}}),j=N.useServiceState;N.useServiceDispatchers;var W=n(20386),K=n(32536),U=n(93844),G=n(43264),q=n(57007),$=n(72961),Y=n(23636),H=n(80366),J=n(59384),Z=n(78790),Q=n(17505),X=n(80599),ee=n(80863),et=n(32906),en=n(83168),er=n(19298),eo=n(89130),ei=n(19660),ea=n(11196),eu=n(45615),es=n(30234),el=n(84501),ec=n(32878),ed=n(82473),ep=n(49244),ef=n(729),eg=n(35521),eh=n(71027);function ev(e){var t=e.itemListKey,n=e.item,r=e.author,i=e.needUrlDelegate,u=e.onCloseBrowserMode,c=e.disableUpdate,d=void 0!==c&&c,p=(0,f.useLocation)(),g=p.pathname,h=p.search,m=(0,f.useHistory)(),b=(0,eu._u)(),_=(0,l.useRef)(!1),w=(0,o._)((0,y.S)(el.C,{dependencies:[],selector:function(e){return{searchValue:e.searchValue,previousSearchValue:e.previousSearchValue}}}),2),x=w[0],S=x.searchValue,L=x.previousSearchValue,C=w[1],k=C.setPreviousSearchValue,I=C.setSearchValue,T=C.setInputFocus;(0,l.useEffect)(function(){k(S),I("");var e=function(){I(L),T(!1),u({fromPopState:!0})};return window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}},[]),(0,l.useEffect)(function(){if(n&&t&&i&&!d){(0,f.matchPath)(location.pathname,{path:v.vI.liveRoom})&&(_.current=!0);var e=n.scheduleTime,o=n.author,u=(0,a.A)((0,s.parse)(h),"sender_device","sender_web_id","item_id"),l=e?(0,ee.fJ)({uniqueId:void 0===o?"":o,secUid:null==r?void 0:r.secUid}):(0,s.stringifyUrl)({url:b(n),query:u},{skipNull:!0});if(_.current&&null!==window.history.state&&/^(?!.*@.*\/video).*$/.test(location.pathname)&&/^(?!.*@.*\/photo).*$/.test(location.pathname))return void window.history.replaceState(null,"",location.pathname);_.current?window.history.replaceState(window.history.state,"video-detail",l):(window.history.pushState(window.history.state,"video-detail",l),_.current=!0)}},[null==r?void 0:r.secUid,m,n,g,t,i,h,d])}var em=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()};function ey(e){var t=e.onCloseBrowserMode,n=e.onNextVideo,i=e.onPrevVideo,a=e.pause,u=e.setPause,s=e.embedVisibleRef,c=e.group_id,d=e.handleLikeClick,p=e.author_id,h=e.itemListKey,v=e.onJumpSamePage,I=e.shouldPause,T=e.photoVideoRef,O=e.isPhotoMode,D=e.photoTeaParams,E=e.setIsShowPhoto,A=e.itemMute,R=e.playerRef,F=(0,es.m)().isRTL,V=(0,o._)((0,l.useState)(!1),2),z=V[0],N=V[1],j=(0,o._)((0,l.useState)(0),2),W=j[0],K=j[1],U=(0,H.Em)(),G=(0,B.$4)().setNeedClearInput,q=(0,y.w)(ec.aL),$=(0,o._)((0,y.S)(el.C,{dependencies:[],selector:function(e){return{previousSearchValue:e.previousSearchValue,searchValue:e.searchValue}}}),2),Y=$[0],Q=Y.previousSearchValue,ee=Y.searchValue,et=$[1].setSearchValue,ei=(0,er.ah)({playMode:_.ey.BrowserMode,itemMute:void 0!==A&&A}),eu=ei.mute,ed=ei.setMute,ep=(0,o._)((0,J.BI)(function(e){return e.isCreatorBrowserMode}),2),ef=ep[0],eg=ep[1],eh=(0,l.useCallback)(function(e){e.preventDefault(),e.stopPropagation(),ed(!eu,w.c.Keydown,D)},[ed,eu,D,c,p]),ev=(0,b.P)(en.hf,{selector:function(e){return e.showing},dependencies:[]}),ey=(0,b.P)(X.y7,{selector:function(e){return e.showing},dependencies:[]}),eb=(0,M.mZ)(function(e){return e.isOpen}),e_=(0,l.useCallback)(function(e){var t,n,r,o,i,s,l,c,d,p,f,g,h,v,m,y;O?a?(null==(r=T.current)||null==(n=r.swiper)||null==(t=n.play)||t.call(n),null==(s=T.current)||null==(i=s.audio)||null==(o=i.play)||o.call(i)):(null==(d=T.current)||null==(c=d.swiper)||null==(l=c.pause)||l.call(c,e),null==(g=T.current)||null==(f=g.audio)||null==(p=f.pause)||p.call(f)):a?null==(v=R.current)||null==(h=v.play)||h.call(v,!0):null==(y=R.current)||null==(m=y.pause)||m.call(y),u(!a)},[O,u,a,T,c,p,R]),ew=(0,f.useLocation)().pathname,ex=(0,f.useHistory)(),eS=(0,l.useCallback)(function(e,n){if(em(e),et(Q),U){var r;t({fromPopState:n,playProgress:null==(r=R.current)?void 0:r.currentTime,shouldPause:I})}else K(1),N(!0)},[U,I,t,Q,et,R]),eL=(0,l.useCallback)(function(e){em(e),eg.handleExitCreatorMode()},[eg]),eC=(0,l.useRef)(-1),ek=(0,l.useCallback)(function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click,i=e>0?ec.RW.Forward:ec.RW.BackWard;window.clearTimeout(eC.current),q.setSeekType(i),eC.current=window.setTimeout(function(){q.setSeekType(ec.RW.None)},2e3),null==(r=R.current)||null==(n=r.seekTime)||n.call(r,(null==(t=R.current)?void 0:t.currentTime)+e),x.V.handleVideoControlChange({play_mode:_.Tk.BrowserMode,author_id:null!=p?p:"",group_id:c,enter_method:o,click_section:o===w.c.Click?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"})},[p,c]),eI=(0,l.useRef)(""),eT=(0,l.useCallback)(function(e,t,n){if(t.includes(ew)&&ew!==m.OZ.home){eS(e),v();return}U||(em(e),K(4),N(!0),eI.current=t),n&&S.O.handleGeneralClick(n,{scene:"video_feed"})},[eS,U,ew,v]),eB=(0,l.useCallback)(function(){O&&(E(!1),setTimeout(function(){E(!0)},0))},[O,E]),eM=(0,g.Rx)(),eP=(0,l.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click;if(e&&em(e),eM(t),ee&&et(""),U){n(),u(!1);var o=(0,r._)({enter_method:t,play_mode:_.Tk.BrowserMode,group_id:c,author_id:null!=p?p:"",skipped_group_num:0,skipped_group_ids:""},D);L.L.handleVideoChange(o,"next"),h===P.Lz.ForYou&&L.L.handleHotVideoChange(o,"next"),eB()}else K(3),N(!0)},[U,n,u,c,p,D,h,eB,ee,et]),eO=(0,l.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.c.Click;if(e&&em(e),eM(t),ee&&et(""),U){i(),u(!1);var n=(0,r._)({enter_method:t,play_mode:_.Tk.BrowserMode,group_id:c,author_id:null!=p?p:"",skipped_group_num:0,skipped_group_ids:""},D);L.L.handleVideoChange(n,"prev"),h===P.Lz.ForYou&&L.L.handleHotVideoChange(n,"prev"),eB()}else K(2),N(!0)},[i,u,c,p,D,h,eB,ee,et]),eD=(0,l.useCallback)(function(e){e&&em(e),ee&&et(""),U?(u(!1),eB()):(K(3),N(!0))},[U,u,eB,ee,et]),eE=(0,Z.mE)(function(e){return{isMiniPlayerShowing:e.isMiniPlayerShowing}}).isMiniPlayerShowing,eA=(0,l.useCallback)(function(e){if(!(e.keyCode!==eo.D.Esc&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase()))&&"true"!==e.target.getAttribute("contenteditable")&&!eb){var t=new Map([[eo.D.Esc,function(){!eE&&(ef?(eL(e),u(!1)):ev||ey||s.current||eS(e))}],[eo.D.Down,function(){eP(e,w.c.Keydown)}],[eo.D.Space,function(){e_(C.kC.Keyboard)}],[eo.D.Right,function(){ek(F?ea.a:ea.S,w.c.Keydown)}],[eo.D.Left,function(){ek(F?ea.S:ea.a,w.c.Keydown)}],[eo.D.Up,function(){eO(e,w.c.Keydown)}],[eo.D.L,function(){d(w.c.Keydown)}],[eo.D.M,function(){eh(e)}]]),n=e.keyCode;t.has(n)&&(e.preventDefault(),t.get(n)())}},[s,eS,d,eP,eO,eh,eb,ev,ey,e_,eL,ef,ek,F,u,eE]),eR=(0,l.useCallback)(function(){switch(W){case 1:var e;t({playProgress:null==(e=R.current)?void 0:e.currentTime,shouldPause:I});break;case 2:i(),u(!1);break;case 3:n(),u(!1);break;case 4:eI.current&&ex.push(eI.current)}N(!1),G(!0),k.ao.handleLeaveComment({group_id:c})},[W,c,ex,I,t,n,i,G,u]),eF=(0,l.useCallback)(function(){K(0),N(!1),k.ao.handleKeepComment({group_id:c})},[c]);return(0,l.useEffect)(function(){return document.addEventListener("keydown",eA),function(){document.removeEventListener("keydown",eA)}},[eA]),{handleLinkClick:eT,handleClose:eS,handleCloseCreatorMode:eL,handleNext:eP,handlePrev:eO,preventDefault:em,togglePlay:e_,showLeaveModal:z,noEditingContent:U,handleConfirmLeave:eR,handleCancelLeave:eF,handleSeek:ek,handleClickCreatorVid:eD}}function eb(e){var t=e.id,n=e.authorId,r=e.playMode,o=e.needDispose,i=void 0===o||o,a=e.handleCommentScrollDown,u=e.handleCommentHitTop,s=(0,O.BY)(),c=(0,l.useRef)(null),d=(0,l.useCallback)(function(){k.ao.handleCommentLoadMore({play_mode:r,group_id:t,author_id:n}),s.fetchComment({aweme_id:t})},[s,t]);return(0,l.useEffect)(function(){return function(){i&&s.setCommentItem({itemId:t,item:O.lN})}},[s,t,i]),(0,ei.O9)({elemRef:c,onHitBottom:d,bottomThreshold:200,throttle:200}),(0,ei.yE)({elemRef:c,onHitTop:u,onScrollDown:a}),c}function e_(e){var t=e.showLeaveModal,n=e.group_id,r=(0,o._)((0,O.kH)(function(e){var t;return null!=(t=e[n])?t:{loading:!1}},c.bN),1)[0].loading;(0,l.useEffect)(function(){t&&k.ao.handleClose({group_id:n,is_comments_loaded:r?k.uO.Loading:k.uO.Loaded})},[n,t]),(0,l.useEffect)(function(){return function(){k.ao.handleClose({group_id:n,is_comments_loaded:r?k.uO.Loading:k.uO.Loaded})}},[n,r])}var ew=function(e){var t=e.currentIndex,n=e.handlePrev,r=e.hasNext,o=e.handleNext,a=e.itemListKey,s=e.isUiOptimise,c=void 0!==s&&s,d=(0,U.s)(),f=(0,l.useCallback)((0,u.A)(function(e){a&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?o(e,w.c.Scroll):e.deltaY<=-1&&n(e,w.c.Scroll))},100),[o,n]);return(0,l.useEffect)(function(){return window.addEventListener("wheel",f),function(){window.removeEventListener("wheel",f)}}),(0,i.FD)(i.FK,{children:[(0,i.Y)(eh.d4,{disabled:0===t,isPrev:!0,onClick:n,"data-e2e":"arrow-left",role:"button","aria-label":d("pc_web_previous_btn"),isUiOptimise:c,children:(0,i.Y)(p.A,{width:26,height:26,fill:"#fff"})}),(0,i.Y)(eh.d4,{disabled:!r,isPrev:!1,onClick:o,"data-e2e":"arrow-right",role:"button","aria-label":d("pc_web_next_btn"),isUiOptimise:c,children:(0,i.Y)(p.A,{width:26,height:26,fill:"#fff"})})]})},ex=function(e){var t,n,r=!0,i=(0,ed.yS)(null==e?void 0:e.author),a=(null!=(t=(0,G.W)(function(){return["user"]},[]))?t:{}).user,u=void 0===a?{}:a,s=(0,o._)((0,l.useState)(!1),2),c=s[0],d=s[1],p=(0,l.useCallback)(function(e){e.stopPropagation(),I.d.handleClickAnalyticsButton(),d(!0)},[]),f=(0,l.useCallback)(function(){d(!1)},[]);u||(r=!1);var g=null!=u?u:{},h=g.secUid,v=g.analyticsOn;return h===(null!=(n=null==i?void 0:i.secUid)?n:"")&&v||(r=!1),{showAnalyticsButton:r,showAnalyticsModal:c,handleOpenAnalyticsModal:p,handleCloseAnalyticsModal:f}};function eS(e,t){var n=eC({itemListKey:e,stateSelector:function(e){var t;return{listLength:null!=(t=null==e?void 0:e.list.length)?t:0,statusCode:null==e?void 0:e.statusCode}}}),r=n.listLength,o=n.statusCode,i=(0,J.JD)(function(e){return{isBrowserModeOpen:e.showingBrowserMode,browserModeIndex:e.currentIndex}},c.bN),a=i.isBrowserModeOpen,u=i.browserModeIndex,s=(0,D.Z9)(function(e){return{isImmersivePlayerOpen:e.isOpen,index:e.index}}),d=s.isImmersivePlayerOpen,p=s.index,f=(0,l.useMemo)(function(){return d?p:u},[u,p,d]);(0,l.useEffect)(function(){(a||d)&&o===q.s.Ok&&(!r||r-f<=3)&&t()},[f,t,a,d,r,o])}function eL(e){var t=e.itemListKey,n=e.exploreCategoryType,r=e.config,i=e.handler,a=(0,D.Z9)(function(e){return{index:e.index,isOpen:e.isOpen,immersivePlayerListLength:e.itemList.length,itemListSourceConfig:e.itemListSourceConfig}},c.bN),u=a.index,s=a.isOpen,d=a.immersivePlayerListLength,p=a.itemListSourceConfig,f=(null==p?void 0:p.mode)==="single"?p.itemListKey:void 0,g=(0,J.JD)(function(e){return e.currentIndex},c.bN),h=s?u:g,v=j(),m=(0,o._)((0,eg.Zl)(function(e){var t;return{activeItemListKey:e.activeItemListKey,listLength:e.browserList.length,keyToLoadMore:null!=(t=e.keyToLoadMore)?t:""}},c.bN),2),y=m[0],b=y.activeItemListKey,_=y.listLength,w=y.keyToLoadMore,x=m[1],S=s?d:_,L=s?f:b,C=eC({itemListKey:w,stateSelector:function(e){var t,n;return{statusCode:null!=(t=null==e?void 0:e.statusCode)?t:q.s.Ok,loading:null!=(n=null==e?void 0:e.loading)&&n}}}),k=C.statusCode,I=C.loading;(0,l.useEffect)(function(){x.registerBrowserListConfig({itemListKey:t,config:r})},[t,r,x]),(0,l.useEffect)(function(){(t!==P.Lz.Explore||void 0===n||n===v)&&(I||L!==t||S&&!(S-h<=3)||(k===q.s.Ok?!1===i(w)&&x.freezeSourceWithKey(w):t!==w&&x.freezeSourceWithKey(w)))},[I,h,L,t,S,k,x,w])}function eC(e){var t=e.itemListKey,n=e.stateSelector,r=e.dependencies,o=(0,W.D)(t),i=(0,d.X)(o||eg.Eq,{selector:n,equalityFn:c.bN}),a=(0,b.P)(ep.O,{selector:function(e){var r;return n(null!=(r=e[t])?r:null)},dependencies:null!=r?r:[t]});return o?i:a}var ek=function(e){var t=e.itemListKey,n=e.currentIndex;return eC({itemListKey:(0,J.JD)(function(e){return e.isCreatorBrowserMode})?P.Lz.CreatorTab:null!=t?t:"",stateSelector:function(e){var t,r;return e?{currentId:e.browserList[n],prefetchId1:null!=(t=e.browserList[n+1])?t:"",prefetchId2:null!=(r=e.browserList[n+2])?r:"",listLength:e.browserList.length}:null},dependencies:[t,n]})},eI=function(e){var t=e.currentIndex,n=(0,J.JD)(function(e){return e.isCreatorBrowserMode});return(0,eg.d8)(function(e){if(!(null==e?void 0:e.browserList))return null;var r,o,i=n?e.creatorBrowserList:e.browserList;return{currentId:i[t],prefetchId1:null!=(r=i[t+1])?r:"",prefetchId2:null!=(o=i[t+2])?o:"",listLength:i.length}},c.bN)},eT=function(){var e=(0,J.JD)(function(e){return e.isCreatorBrowserMode});return(0,eg.d8)(function(t){return(null==t?void 0:t.browserList)?e?t.creatorBrowserList:t.browserList:[]},c.bN)},eB=function(e){var t,n=e.currentIndex,r=(0,$.L$)(eI({currentIndex:n})).currentId,i=void 0===r?"":r,a=(0,o._)((0,y.S)(ef.k,{selector:function(e){return e[i]},dependencies:[i]}),1)[0],u=null!=(t=null==a?void 0:a.id)?t:"";return{authorId:null==a?void 0:a.authorId,groupId:u}};function eM(e,t,n){var r=(0,o._)((0,K.sK)(function(e){var t,n,r;return{loading:null!=(t=e.loading)&&t,hasMoreLatest:null!=(n=e.hasMoreLatest)&&n,hasMorePrevious:null!=(r=e.hasMorePrevious)&&r}},c.bN),2),i=r[0],a=i.loading,u=i.hasMoreLatest,s=i.hasMorePrevious,d=r[1];return(0,l.useCallback)(function(){(!n||!a&&u)&&(n||!a&&s)&&d.getCreatorTabList({key:P.Lz.CreatorTab,secUid:e,createTime:t,fetchType:n?h.N.LoadLatest:h.N.LoadPrevious})},[a,s,u,n,e,t,d])}var eP=function(){var e=(0,U.s)(),t=e("pc_web_login"),n=e("pc_web_login_to_comment"),r=n.indexOf("%s");return{prefixText:n.slice(0,r),loginText:t,endText:n.slice(r).replace("%s","")}},eO=function(e){return e?new Map([[P.Lz.ForYou,"one-column-item"],[P.Lz.Following,"one-column-item"]]).get(e):e},eD=function(e){var t=e.itemListKey,n=e.currentIndex,r=(0,$.L$)(ek({itemListKey:t,currentIndex:n})).currentId,i=void 0===r?"":r,a=(0,o._)((0,y.S)(ef.k,{selector:function(e){return e[i]},dependencies:[i]}),1)[0];return{liveRoomInfo:null==a?void 0:a.liveRoomInfo,requestId:null==a?void 0:a.logId}},eE=function(e,t,n){var r=(0,Q.reW)().withMultiInstance,o=(0,T.RT)(),i=o===t,a=o===_.ey.BrowserMode,u=(0,T.w)(e,t,n),s=(0,T.R3)(e,t),l=Y.b.DEFAULT;return i&&a?l=u?Y.b.ACTIVE:s&&r?Y.b.BACKUP:Y.b.DEFAULT:i&&(l=Y.b.ACTIVE),l};function eA(e){var t=e.handleNext,n=e.handlePrev,r=e.currentId,o=(0,Q.TFl)(),i=o.fixLastRef,a=o.scrollOPT,u=(0,l.useRef)(""),s=(0,l.useRef)(0),c=(0,l.useRef)(0),d=(0,l.useRef)(null),p=(0,l.useRef)(!0),f=(0,l.useRef)(""),g=(0,l.useRef)(null),h=(0,l.useRef)(0),v=(0,et._g)(function(e){if(u.current!==r||i){e.stopPropagation(),d.current&&clearTimeout(d.current),d.current=window.setTimeout(function(){c.current=0},100);var o=new Date().getTime(),a=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY||-e.detail)),l=o-s.current;c.current=c.current+1,s.current=o,l>100&&1===c.current&&(a<0?t(e,w.c.Scroll):n(e,w.c.Scroll),i||(u.current=r))}},[r,t,n],20),m=(0,l.useCallback)(function(e){var r,o=e.deltaY,i=null!=(r=e.timeStamp)?r:performance.now(),a=i-(h.current||i);h.current=i;var u=o<0?"prev":o>0?"next":"";if(u&&!(10>Math.abs(o))){u!==f.current&&(g.current&&clearTimeout(g.current),p.current=!0);var s=0!==e.deltaMode||Math.abs(o)>=30&&a>35;p.current&&("next"===u?t(e,w.c.Scroll):n(e,w.c.Scroll),p.current=!1,f.current=u),g.current&&clearTimeout(g.current),g.current=window.setTimeout(function(){p.current=!0},s?160:300)}},[t,n]),y=(0,l.useCallback)(function(e){a?m(e):v(e)},[a,v,m]);return(0,l.useEffect)(function(){return function(){d.current&&clearTimeout(d.current),g.current&&clearTimeout(g.current)}},[]),y}},71027:function(e,t,n){n.d(t,{$2:function(){return v},CY:function(){return h},F3:function(){return L},II:function(){return N},Ii:function(){return A},Jr:function(){return S},Mu:function(){return x},O8:function(){return g},QN:function(){return C},RK:function(){return F},Rq:function(){return O},TP:function(){return z},_P:function(){return f},cR:function(){return m},d4:function(){return k},es:function(){return T},fJ:function(){return B},iH:function(){return y},jc:function(){return V},kn:function(){return M},lG:function(){return I},oK:function(){return P},rh:function(){return b},sh:function(){return E},xS:function(){return D},zm:function(){return R}});var r=n(35383),o=n(5377),i=n(45996),a=n(12751),u=n(44975),s=n(1573),l=n(84287),c=n(90160),d=n(24373),p=n(19351),f=(0,a.default)("div",{target:"e1e2m1gr0",label:"0be0dc34--DivBrowserModeContainer"})(function(e){return{position:"fixed",left:0,top:0,right:0,bottom:0,background:e.theme.colors.BGPrimary,zIndex:l.s.BrowserMode,display:"flex",flexDirection:"row"}}),g={left:"-80px",right:"-80px",width:"auto"},h={maxWidth:"419px"},v={maxWidth:"419px"},m=(0,a.default)(d.x,{target:"e1e2m1gr2",label:"0be0dc34--StyledVideoBlurBackground"})(function(e){var t=e.withBlurBG,n=e.withLinearGradientBG;return{position:"absolute",width:"10%",height:"10%",filter:void 0!==t&&t?"blur(2px)":"none",left:"50%",top:"50%",transform:"scale(11)",opacity:void 0!==n&&n?"0":"0.3"}}),y=(0,a.default)("div",{target:"e1e2m1gr3",label:"0be0dc34--DivVideoWrapper"})({position:"absolute",left:0,width:"100%",height:"100%",cursor:"pointer",":hover":(0,r._)({},"".concat(p.ht),{opacity:1}),":focus-within":(0,r._)({},"".concat(p.ht),{opacity:1})}),b=(0,a.default)(s.A,{target:"e1e2m1gr4",label:"0be0dc34--StyledPlayIcon"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"});b.defaultProps=(0,i._)((0,o._)({},b.defaultProps),{"data-e2e":"browse-video-play"});var _="1px solid blue",w=(0,a.default)("button",{target:"e1e2m1gr5",label:"0be0dc34--ButtonBasicButtonContainer"})(function(e){var t=e.theme.colors;return{position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",background:t.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:"2px solid ".concat(t.Negative)}}},function(e){var t=e.theme;return(0,c.oO)({theme:t,isUiOptimise:!0})}),x=(0,a.default)(w,{target:"e1e2m1gr6",label:"0be0dc34--StyledCloseIconContainer"})(function(e){var t=e.needOffset;return{width:"40px",height:"40px",top:"20px",transition:"opacity .3s",zIndex:100,backgroundColor:"",transform:"translateY(".concat(16*!!(void 0!==t&&t),"px)"),":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,start:"20px"})});x.defaultProps=(0,i._)((0,o._)({},x.defaultProps),{"data-e2e":"browse-close"});var S=(0,a.default)(w,{target:"e1e2m1gr7",label:"0be0dc34--StyledExitCreatorModeIconContainer"})(function(e){var t=e.theme,n=e.needOffset;return{top:"20px",zIndex:100,backgroundColor:t.colors.ConstBGInverse4,height:"40px",padding:"0 10px",minWidth:"40px",borderRadius:"80px",transform:"translateY(".concat(16*!!(void 0!==n&&n),"px)"),":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,start:"20px"})}),L=(0,a.default)("div",{target:"e1e2m1gr8",label:"0be0dc34--DivExitCreatorModeTextContainer"})({display:"flex",flexDirection:"row",alignItems:"center"}),C=(0,a.default)("div",{target:"e1e2m1gr9",label:"0be0dc34--DivExitCreatorModeText"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,fontWeight:"semiBold",fontFamily:"TikTokFont",fontSize:16}),{color:"#fff",height:"24px",textAlign:"center",fontSize:"16px",display:"flex",alignItems:"center",lineHeight:"24px"},(0,c.mp)({direction:t.direction,paddingStart:"5px"})]}),k=(0,a.default)(w,{target:"e1e2m1gr10",label:"0be0dc34--StyledVideoSwitch"})(function(e){var t=e.isPrev,n=e.theme.colors;return{width:"40px",height:"40px",transform:t?"rotate(-90deg)":"rotate(90deg)",top:t?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:e.isUiOptimise?"":n.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"20px"})}),I=(0,a.default)("div",{target:"e1e2m1gr13",label:"0be0dc34--DivReportText"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{padding:"10px 16px",backgroundColor:t.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:t.colors.ConstTextInverse,WebkitAppRegion:"no-drag",":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:_}},(0,c.oO)({theme:t,isUiOptimise:!0}),(0,c.mp)({direction:t.direction,end:"20px"})]});I.defaultProps=(0,i._)((0,o._)({},I.defaultProps),{"data-e2e":"browse-report"});var T=(0,a.default)("div",{target:"e1e2m1gr14",label:"0be0dc34--DivIconWrapper"})(function(e){var t=e.theme;return[(0,c.zy)({theme:t,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{width:"40px",height:"40px",backgroundColor:t.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:t.colors.ConstTextInverse,WebkitAppRegion:"no-drag","&:focus-visible":{outline:_}},(0,c.oO)({theme:t,isUiOptimise:!0}),(0,c.mp)({direction:t.direction,end:"20px"})]});T.defaultProps=(0,i._)((0,o._)({},T.defaultProps),{"data-e2e":"browse-ellipsis"});var B=(0,a.default)(u.A,{target:"e1e2m1gr15",label:"0be0dc34--StyledIconFlag"})(function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,marginEnd:"5px"})},{verticalAlign:"middle"}),M=(0,a.default)("button",{target:"e1e2m1gr16",label:"0be0dc34--ButtonVoiceControlNew"})(c.WA,function(e){return{display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.theme.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:_}}},function(e){var t=e.theme;return(0,c.oO)({theme:t,isUiOptimise:!0})});M.defaultProps=(0,i._)((0,o._)({},M.defaultProps),{"data-e2e":"browse-sound"});var P=(0,a.default)("div",{target:"e1e2m1gr17",label:"0be0dc34--DivVoiceControlContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",zIndex:1,bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"20px"})}),O=(0,a.default)("div",{target:"e1e2m1gr18",label:"0be0dc34--DivCaptionContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction,n=e.showMiniPlayer;return(0,c.mp)({direction:t,end:n?"116px":"68px"})}),D=(0,a.default)("div",{target:"e1e2m1gr19",label:"0be0dc34--DivMiniPlayerContainer"})(function(e){var t=e.widerBottom;return{position:"absolute",bottom:void 0!==t&&t?"60px":"20px"}},function(e){var t=e.theme.direction;return(0,c.mp)({direction:t,end:"68px"})}),E=(0,a.default)("div",{target:"e1e2m1gr20",label:"0be0dc34--DivSearchBarContainer"})(function(e){var t=e.useNarrowSearchBar,n=void 0!==t&&t;return[{position:"absolute",zIndex:1,width:"100%",display:"flex",justifyContent:"center",left:0,right:0,margin:"auto",alignItems:"center",height:"85px",WebkitAppRegion:"no-drag","@media(max-width: 1600px)":{width:n?"50%":"100%"},"@media(max-width: 1300px)":{display:n?"none":"flex"}}]}),A=(0,a.default)("div",{target:"e1e2m1gr21",label:"0be0dc34--DivVideoContainer"})(function(e){var t=e.theme.colors,n=e.withLinearGradientBlueBG,o=e.withLinearGradientBlackBG;return[{flex:"1 0 600px",maxWidth:"100%",background:void 0!==o&&o?"linear-gradient(180deg, #2b2b2b 0%, #000000 40%)":void 0!==n&&n?"linear-gradient(180deg, #101820 0%, #1c2b35 100%)":t.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px",":hover":(0,r._)({},"".concat(E,", ").concat(T,", ").concat(D,", ").concat(P,", ").concat(x,", ").concat(k),{opacity:1})}]}),R=(0,a.default)("div",{target:"e1e2m1gr22",label:"0be0dc34--DivWarnInfoPosition"})({position:"absolute",bottom:0,left:0,right:0}),F=(0,a.default)("div",{target:"e1e2m1gr23",label:"0be0dc34--FooterBtnWrapper"})(function(e){return{display:e.display||"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",textDecoration:"none"}}),V=(0,a.default)("a",{target:"e1e2m1gr24",label:"0be0dc34--AAnalyticsWrapper"})(function(e){var t=e.theme,n=t.colors,r=t.direction;return[{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:n.ConstTextInverse,background:n.ToastDefault,cursor:"pointer",textDecoration:"none",":hover":{opacity:.7,color:n.ConstTextInverse,textDecoration:"none"},":active":{opacity:.5,color:n.ConstTextInverse,textDecoration:"none"},":visited":{opacity:1,color:n.ConstTextInverse,textDecoration:"none"}},(0,c.mp)({direction:r,marginEnd:"8px"})]}),z=(0,a.default)("div",{target:"e1e2m1gr25",label:"0be0dc34--DivSearchBarBackground"})(function(e){var t=e.useNarrowSearchBar;return{position:"absolute",height:"85px",width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 100%)","@media(max-width: 1600px)":{width:void 0!==t&&t?"200%":"100%"}}}),N=(0,a.default)("div",{target:"e1e2m1gr26",label:"0be0dc34--DivVideoClosedCaptionContainer"})({position:"absolute",insetInlineStart:"10px",bottom:"10px",zIndex:"1"})},19351:function(e,t,n){n.d(t,{AK:function(){return s},Vi:function(){return l},Zx:function(){return h},gt:function(){return a},ht:function(){return f},l5:function(){return u},n9:function(){return c},p5:function(){return g}});var r=n(35383),o=n(12751),i=n(90160),a=(0,o.default)("div",{target:"e1num1xc0",label:"0be0dc34--DivSeekBarContainer"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"}),u=(0,o.default)("div",{target:"e1num1xc1",label:"0be0dc34--DivSeekBarTimeContainer"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"}),s=(0,o.default)("div",{target:"e1num1xc2",label:"0be0dc34--DivSeekBarProgress"})(function(e){var t=e.theme.colors;return{height:"4px",width:"100%",backgroundColor:t.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer","&:focus-visible":{outline:"2px solid ".concat(t.Negative)}}}),l=(0,o.default)("div",{target:"e1num1xc3",label:"0be0dc34--DivSeekBar"})(function(e){var t=e.theme,n=t.direction;return{height:"4px",width:"100%",backgroundColor:t.colors.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===n?"right":"left"}}),c=(0,o.default)("div",{target:"e1num1xc4",label:"0be0dc34--DivSeekBarCircle"})(function(e){var t=e.theme.direction;return(0,i.mp)({direction:t})},function(e){var t=e.theme.direction;return{display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:"translate(".concat("rtl"===t?"50%":"-50%",", -50%)"),cursor:"pointer",zIndex:1}}),d="calc(100% - 160px)",p="translateX(-50%)",f=(0,o.default)("div",{target:"e1num1xc5",label:"0be0dc34--DivVideoControlContainer"})(function(e){var t,n=e.show,o=e.extraBottomSpace,i=e.isDisplayForAnyWidth,a=e.isNarrow,u=e.useFullWideInNarrow;return t={width:void 0!==a&&a?"calc(100% - 250px)":d,height:"24px",paddingInline:"16px",position:"absolute",opacity:n?"1":"0",transition:"opacity .3s",bottom:o?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:p,maxWidth:"56.25vh"},(0,r._)(t,":hover ".concat(s),{height:"6px"}),(0,r._)(t,":hover ".concat(l),{height:"6px"}),(0,r._)(t,":hover ".concat(c),{display:"block"}),(0,r._)(t,"@media (max-width: 900px)",{display:i?"":"none"}),(0,r._)(t,"@media (max-width: 1430px)",void 0!==u&&u?{maxWidth:"unset",width:d,marginInlineStart:"4px",left:"unset",transform:"none"}:{}),(0,r._)(t,"zIndex",1),t}),g=(0,o.default)("div",{target:"e1num1xc6",label:"0be0dc34--DivVideoControlBottom"})({width:d,height:"28px",position:"absolute",bottom:0,left:"50%",transform:p,cursor:"initial",maxWidth:"56.25vh"}),h=(0,o.default)("div",{target:"e1num1xc7",label:"0be0dc34--DivVideoControlTop"})(function(e){return{width:d,height:"10px",position:"absolute",bottom:e.widerBottom?"92px":"52px",left:"50%",transform:p,cursor:"initial",maxWidth:"56.25vh"}})},84501:function(e,t,n){n.d(t,{C:function(){return N}});var r=n(48748),o=n(95170),i=n(7120),a=n(5377),u=n(45996),s=n(6586),l=n(79262),c=n(23999),d=n(95719),p=n(62564),f=n(76773),g=n(31014),h=n(24451),v=n(72916),m=n(68710),y=n(74690),b=n(80339),_=n(90542),w=n(90059),x=n(48859),S=n(57007),L=n(66772),C=n(78990),k=n(82379),I=n(1455),T=n(9659),B=n(10829),M=n(48106),P=n(38653),O=n(10354),D=n(84772),E=n(56904),A=n(96062);function R(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var F=function(){function e(t){(0,o._)(this,e),this.fetch=t}var t=e.prototype;return t.getSugList=function(e){var t=(0,u._)((0,a._)({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:E.Z4.FixedWww})},t.getGeneralSugList=function(e){var t=(0,u._)((0,a._)({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:E.Z4.FixedWww})},t.getMobileGeneralSugList=function(e){var t=(0,u._)((0,a._)({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:E.Z4.FixedWww})},e}();function V(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function z(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}F=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}([(0,D._q)(),R("design:type",Function),R("design:paramtypes",[void 0===A.p?Object:A.p])],F);var N=function(e){function t(e,n,i,a,u,s){var l;return(0,o._)(this,t),(l=(0,r._)(this,t)).service=e,l.home=n,l.biz=i,l.videoPlayerJotai=a,l.search=u,l.personalization=s,l.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""},l}(0,i._)(t,e);var n=t.prototype;return n.setVideoPageType=function(e,t){e.videoPageType=t},n.setSearchValue=function(e,t){e.searchValue=t},n.setPreviousSearchValue=function(e,t){e.previousSearchValue=t},n.setInputFocus=function(e,t){e.inputFocus=t},n.handleInputFocusChange=function(e){return e.pipe((0,d.M)(function(e){e&&w.$G.handleSearchEntry({enter_method:"enter"})}),(0,p.T)(this.getActions().setInputFocus))},n.setNewSugSessionTimeStamp=function(e,t){e.newSugSessionTimeStamp=t},n.setList=function(e,t){e.sugList=t},n.setMobileList=function(e,t){e.mobileSugList=t},n.setLoading=function(e,t){e.loading=t},n.setActiveIndex=function(e,t){e.activeIndex=t},n.setActiveUp=function(e){e.activeIndex=Math.max(0,e.activeIndex-1)},n.setActiveDown=function(e){var t=e.sugList,n=e.activeIndex;e.activeIndex=Math.min(t.length,n+1)},n.setQueryId=function(e,t){e.queryId=t},n.getSugList=function(e){var t=this;return e.pipe((0,f.w)("keyword"),(0,g.B)(500),(0,h.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,p.T)(function(e){var t=(0,s._)(e,7),n=t[0],r=t[1],o=t[2].appContext,i=t[3].bizContext,a=t[4].currentVideo,u=t[5].searchGlobalParams,l=t[6].isSearchPersonalized;return{payload:n,inputFocus:r.inputFocus,isLogin:!!(null==o?void 0:o.user),searchVideoForLoggedin:null==i?void 0:i.searchVideoForLoggedin,currentVideo:a,rootEnterFrom:null==u?void 0:u.rootEnterFrom,nonPersonalized:l?void 0:1}}),(0,v.n)(function(e){var n=e.payload,r=e.inputFocus,o=e.isLogin,i=e.searchVideoForLoggedin,s=e.currentVideo,l=e.rootEnterFrom,f=e.nonPersonalized;return n.keyword?(o||!i?t.service.getGeneralSugList({keyword:n.keyword,app_language:n.app_language,is_non_personalized_search:f}):t.service.getSugList((0,u._)((0,a._)({},n),{is_non_personalized_search:f}))).pipe((0,p.T)(function(e){var t=e.status_code,n=e.sug_list,r=void 0===n?[]:n,o=e.log_pb,i=[];return t===S.s.Ok&&r.length&&(i=r.map(function(e){var t;return(0,u._)((0,a._)({},e),{impr_id:null!=(t=null==o?void 0:o.impr_id)?t:""})})),(0,u._)((0,a._)({},e),{sug_list:i})}),(0,d.M)(function(e){var o=e.sug_list,i=e.words_query_record,u=e.log_pb;if(r){var c,d,p=t.state.videoPageType===x.Tk.BrowserMode,f={impr_id:null!=(c=null==u?void 0:u.impr_id)?c:"",enter_from:l,raw_query:n.keyword,search_position:p?x.Tk.VideoDetail:_.f.commonParams.page_name,video_page_type:t.state.videoPageType,enter_group_id:null!=(d=null==s?void 0:s.id)?d:""};w.$G.handleSugGroupImpression((0,a._)({words_source:"sug",words_num:String(o.length)},f)),o.forEach(function(e,t){var n;w.$G.handleSugImpression((0,a._)({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?w.k0.EnrichSug:w.k0.NormalSug,query_id:null!=(n=null==i?void 0:i.query_id)?n:"",group_id:e.word_record.group_id},f))})}}),(0,m.Z)(function(e){var n;return(0,c.of)(t.getActions().setList(e.sug_list),t.getActions().setQueryId(null==e||null==(n=e.words_query_record)?void 0:n.query_id))}),(0,y.Z)(t.getActions().setLoading(!0),t.getActions().setActiveIndex(-1)),(0,b.q)(t.getActions().setLoading(!1))):(0,c.of)(t.getActions().setList([]))}))},n.getMobileSugList=function(e){var t=this;return e.pipe((0,g.B)(500),(0,h.E)(this.state$,this.personalization.state$),(0,v.n)(function(e){var n=(0,s._)(e,3),r=n[0],o=r.keyword,i=r.app_language,l=n[1].newSugSessionTimeStamp,f=n[2].isSearchPersonalized;return o?t.service.getMobileGeneralSugList({keyword:o,app_language:i,is_non_personalized_search:f?void 0:1}).pipe((0,p.T)(function(e){var t=e.status_code,n=e.sug_list,r=void 0===n?[]:n,o=e.log_pb,i=[];return t===S.s.Ok&&r.length&&(i=r.map(function(e){var t;return(0,u._)((0,a._)({},e),{impr_id:null!=(t=null==o?void 0:o.impr_id)?t:""})})),(0,u._)((0,a._)({},e),{sug_list:i})}),(0,d.M)(function(e){var t=e.sug_list,n=e.words_query_record,r=e.log_pb,i=e.extra;w.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:o,search_position:_.f.commonParams.previous_page}),t.forEach(function(e,t){var a,u;w.$G.handleSugImpression({impr_id:null!=(a=null==r?void 0:r.impr_id)?a:"",words_source:"sug",words_position:t,words_content:e.content,raw_query:o,sug_type:e.extra_info.sug_user_id?w.k0.EnrichSug:w.k0.NormalSug,query_id:null!=(u=null==n?void 0:n.query_id)?u:"",group_id:e.word_record.group_id,search_position:_.f.commonParams.previous_page,new_sug_session_id:String(null!=l?l:null==i?void 0:i.now)})})}),(0,m.Z)(function(e){var n;return(0,c.of)(t.getActions().setMobileList(e.sug_list),t.getActions().setNewSugSessionTimeStamp(String(null!=l?l:null==(n=e.extra)?void 0:n.now)))}),(0,T.n)({})):(0,c.of)(t.getActions().setMobileList([]),t.getActions().setNewSugSessionTimeStamp(void 0))}))},t}(C.E);V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setVideoPageType",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setSearchValue",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,String]),z("design:returntype",void 0)],N.prototype,"setPreviousSearchValue",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Boolean]),z("design:returntype",void 0)],N.prototype,"setInputFocus",null),V([(0,k.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"handleInputFocusChange",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Object]),z("design:returntype",void 0)],N.prototype,"setNewSugSessionTimeStamp",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Array]),z("design:returntype",void 0)],N.prototype,"setList",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Array]),z("design:returntype",void 0)],N.prototype,"setMobileList",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Boolean]),z("design:returntype",void 0)],N.prototype,"setLoading",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Number]),z("design:returntype",void 0)],N.prototype,"setActiveIndex",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState]),z("design:returntype",void 0)],N.prototype,"setActiveUp",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState]),z("design:returntype",void 0)],N.prototype,"setActiveDown",null),V([(0,k.h5)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof SugState?Object:SugState,Object]),z("design:returntype",void 0)],N.prototype,"setQueryId",null),V([(0,k.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"getSugList",null),V([(0,k.Mj)(),z("design:type",Function),z("design:paramtypes",["undefined"==typeof Observable?Object:Observable]),z("design:returntype",void 0)],N.prototype,"getMobileSugList",null),N=V([(0,I.nV)("Sug"),z("design:type",Function),z("design:paramtypes",[void 0===F?Object:F,void 0===B.L?Object:B.L,void 0===L.$?Object:L.$,void 0===O.Q?Object:O.Q,void 0===P.tq?Object:P.tq,void 0===M.f?Object:M.f])],N)},86119:function(e,t,n){n.d(t,{d:function(){return o}});var r=n(90542),o={handleClickAnalyticsButton:function(){r.f.sendEvent("click_insight",{enter_method:"dropdown_button"})},handleClickAnalyticsVideoCover:function(e){r.f.sendEvent("video_play",{enter_from:"insight_page",widget_name:"video_detail",sub_widget:"null",enter_method:"video_card"}),r.f.sendEvent("click_insight",{enter_method:"invideo_button"}),r.f.sendEvent("enter_insight_detail",{widget_name:"video_detail",sub_widget:null,enter_method:"invideo_button",group_id:e})},handleProfileHoveShow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.f.sendEvent("livesdk_web_profile_hover_show",{is_ls_show:+!!e})}}}}]);