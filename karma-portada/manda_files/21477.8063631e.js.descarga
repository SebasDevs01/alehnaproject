"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["21477"],{46167:function(e,n,t){t.d(n,{p:function(){return d}});var r=t(16327),i=t(6586),o=t(40099),a=t(72702),u=t(35379),l=t(11854),d=function(e,n){var t=(0,i._)((0,a.l8)(function(n){return n[e]},l.bN),2),d=t[0],s=t[1],c=(0,u.nW)(function(e){return(null==d?void 0:d.author)?e.users[d.author]:void 0},l.bN);return{handleUpdatePhotoCover:(0,o.useCallback)(function(e){if(n&&(null==d?void 0:d.imagePost)){var t=e.naturalHeight,i=e.naturalWidth;d.author;var o=(0,r._)(d,["author"]);o.imagePost.cover.imageHeight=t,o.imagePost.cover.imageWidth=i,o.imagePost.shareCover.imageHeight=t,o.imagePost.shareCover.imageWidth=i,o.video.height=t,o.video.width=i,o.author=c,s.setItem(o)}},[c,n,d,s]),handleUpdatePhotoImages:(0,o.useCallback)(function(e){if(null==d||null==(n=d.imagePost)?void 0:n.images){d.author;var n,t=(0,r._)(d,["author"]);e.forEach(function(e,n){var r=e.naturalHeight,i=e.naturalWidth;t.imagePost.images[n].imageHeight=r,t.imagePost.images[n].imageWidth=i}),t.author=c,s.setItem(t)}},[c,d,s])}}},90384:function(e,n,t){t.d(n,{B:function(){return o}});var r=t(5377),i=t(41150),o=(0,t(55169).Ay)({resolved:{},chunkName:function(){return"card-desc"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return t.e("45862").then(t.bind(t,83720))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(function(e){return n.resolved[t]=!0,e})},requireSync:function(e){return t(this.resolve(e))},resolve:function(){return 83720}},(0,r._)({},i.PW))},71519:function(e,n,t){t.d(n,{Bp:function(){return s},Gj:function(){return g},OW:function(){return m},Yb:function(){return c},mp:function(){return v},vT:function(){return p},xk:function(){return d}});var r=t(12751),i=t(80074),o=t(91842),a=t(20986),u=t(7713),l=t(90160),d=(0,r.default)("div",{target:"ezlej0s0",label:"0be0dc34--DivCardFooter"})(function(e){var n=e.notPass;return[{position:"absolute",width:"100%",bottom:"0",height:n?"100%":"100px",background:n?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:n?"100%":"67px"},(0,l.jJ)({max:l.I9.Phone-1,style:n?null:{paddingTop:"72px"}})]}),s=(0,r.default)("span",{target:"ezlej0s1",label:"0be0dc34--SpanNotPass"})(function(e){var n=e.theme;return[(0,l.zy)({theme:n,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,l.jJ)({max:l.I9.Phone-1,style:{fontSize:"14px",lineHeight:"18px"}})]}),c=(0,r.default)("strong",{target:"ezlej0s2",label:"0be0dc34--StrongVideoCount"})(function(e){var n=e.theme;return[(0,l.zy)({theme:n,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}]}),f=function(e){var n=e.theme.direction;return[(0,l.mp)({direction:n,marginEnd:4}),{verticalAlign:"middle"},(0,l.jJ)({max:l.I9.Phone-1,style:{verticalAlign:"-.15em"}})]},h=function(e){var n=e.theme.direction;return{float:(0,l.t7)(n,"end"),position:"relative",top:"4px"}},v=(0,r.default)(i.A,{target:"ezlej0s3",label:"0be0dc34--StyledHeart"})(f),m=(0,r.default)(o.A,{target:"ezlej0s5",label:"0be0dc34--StyledPlay"})(f),g=(0,r.default)(a.A,{target:"ezlej0s6",label:"0be0dc34--StyledLock3pt"})(h),p=(0,r.default)(u.A,{target:"ezlej0s7",label:"0be0dc34--StyledTwoPerson"})(h)},5092:function(e,n,t){t.d(n,{g:function(){return eo}});var r=t(5377),i=t(45996),o=t(6586),a=t(2787),u=t(40099),l=t(11186),d=t(58021),s=t(72961),c=t(29781),f=t(17505),h=t(38306),v=t(48772),m=t(82307),g=t(83168),p=t(93844),y=t(45615),_=t(79348),b=t(76446),x=t(80863),P=t(29349),L=t(89130),C=t(75498),T=t(167),k=t(55503),S=t(71421),R=t(98433),w=function(e){return(0,a.FD)("svg",(0,i._)((0,r._)({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 48 48"},e),{children:[(0,a.Y)("path",{fill:"#fff",fillRule:"evenodd",d:"M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a7 7 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005q.001-.797.17-1.544",clipRule:"evenodd"}),(0,a.Y)("path",{fill:"#fff",d:"M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627s-1.265-4.608-4.133-6.626c-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5z"}),(0,a.Y)("path",{fill:"#fff",d:"M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004"})]}))},I=t(61681),E=t(41150),A=t(83403),M=t(8561),V=t(23680),U=t(77443),D=t(90542),F=t(48859),Y=t(47149),N=t(58175),B=t(90059),W=t(72702),z=t(15790),H=t(35379),O=t(95525),q=t(80925),j=t(47),G=t(61724),K=t(46167),X=t(18518),Z=t(77495),$=t(12257),J=t(90384),Q=t(71519),ee=(0,u.memo)(function(){var e=(0,p.s)();return(0,a.Y)(Q.xk,{notPass:!0,children:(0,a.Y)(Q.Bp,{children:e("cover_notice_violation")})})}),en=t(10333),et=t(93807),er=t(71032),ei=t(42794),eo=(0,u.memo)(function(e){var n,t,Q,eo,ea,eu,el,ed,es,ec=e.index,ef=e.id,eh=e.pageType,ev=e.itemListKey,em=e.mode,eg=void 0===em?d.F.Compact:em,ep=e.hasDescUnderItem,ey=e.borderRadius,e_=void 0===ey?"8px":ey,eb=e.teaParams,ex=e.searchTopCardType,eP=e.handleClick,eL=e.handleVideoClick,eC=e.searchType,eT=e.mute,ek=e.hasSound,eS=void 0!==ek&&ek,eR=e.volume,ew=void 0===eR?.7:eR,eI=e.handleToggleMute,eE=e.handleVideoEnd,eA=e.isActualRatioEnabled,eM=void 0!==eA&&eA,eV=e.style,eU=e.useHorizontalList,eD=e.children,eF=e.handleVideoPlay,eY=e.fullItemList,eN=e.descStyle,eB=(0,W.F3)(function(e){return e[ef]}),eW=(0,s.L$)(eB),ez=eW.video,eH=eW.itemMute,eO=void 0!==eH&&eH,eq=eW.showNotPass,ej=void 0!==eq&&eq,eG=eW.author,eK=void 0===eG?"":eG,eX=eW.scheduleTime,eZ=eW.authorId,e$=void 0===eZ?"":eZ,eJ=eW.secret,eQ=void 0!==eJ&&eJ,e0=eW.forFriend,e1=void 0!==e0&&e0,e4=eW.adLabelVersion,e7=eW.logId,e3=eW.isAd,e5=eW.music,e2=(0,s.L$)(ez),e8=e2.playAddr,e9=e2.duration,e6=e2.bitrateInfo,ne=e2.volumeInfo,nn=e2.bitrate,nt=e2.encodedType,nr=void 0===nt?"":nt,ni=e2.format,no=void 0===ni?"":ni,na=e2.videoQuality,nu=void 0===na?"":na,nl=e2.encodeUserTag,nd=void 0===nl?"":nl,ns=e2.codecType,nc=void 0===ns?"":ns,nf=e2.definition,nh=void 0===nf?"":nf,nv=e2.zoomCover,nm=e2.cover,ng=(0,z.D)(eB).isReposted,np=(0,c.mx)(eB),ny=(0,c.Q4)(eB),n_=!np&&!ny,nb=(0,f.Vv$)().isInProductHoldout,nx=(0,G.lN)().isInSearchPageRedesignExperiment,nP=(0,f.PV8)(),nL=(0,f.KSM)(),nC=nL.withNoBG,nT=nL.withLinearGradientBG,nk=(0,f.Rym)(ev===h.Lz.Explore).withBack,nS=(0,G.EL)(),nR=(0,v.y)().mute,nw=(0,V.P)(m.w).hideMaskTempVideoId,nI=(0,V.P)(g.hf,{selector:function(e){return e.blockedVideos||[]},dependencies:[]}),nE=(0,H.nW)(function(e){if(eK)return e.users[eK]}),nA=(0,U.w)(g.hf),nM=(0,o._)((0,O.eW)(),1)[0],nV=(0,p.s)(),nU=(0,l.u)().colors,nD=(0,j.s0)().isDetailPage,nF=(0,y._u)(),nY=(0,K.p)(null!=(eo=null==eB?void 0:eB.id)?eo:"",np).handleUpdatePhotoCover,nN=(0,_.d)({item:null!=eB?eB:{},playMode:F.ey.ThreeColumn}).showVideoMask,nB=(0,en.YR)({teaParams:eb,id:ef,pageType:eh}),nW=(0,c.MA)(eB),nz=(0,$.b1)(eB,eh),nH=(0,c.n5)(eB,ev===h.Lz.UserPost&&nM!==M.Fo.POPULAR&&nM!==M.Fo.OLDEST),nO=(0,u.useRef)(null),nq=(0,u.useRef)(null),nj=(0,u.useRef)(null),nG=(0,u.useRef)(null),nK=(0,u.useMemo)(function(){return eh===b.g.SearchLiveResult||ex===A.gA.Lives},[eh,ex]),nX=eh===b.g.SearchResult||eh===b.g.SearchVideoResult||nK||eh===b.g.SearchPhotoResult,nZ=(ev===h.Lz.UserLiked||ev===h.Lz.Favorites||ev===h.Lz.UserRepost)&&(null==eB?void 0:eB.isContentClassified),n$=nN&&nw!==ef||nZ,nJ=!eS||(null!=eT?eT:nR),nQ=(0,r._)({borderRadius:nk?"8px 16px":void 0,background:nk?nU.BGPlaceholderDefault:void 0},eV),n0=(0,u.useMemo)(function(){var e,n,t=np&&(null==eB||null==(n=eB.imagePost)||null==(e=n.cover.imageURL.urlList)?void 0:e[0])||nm;return nP?{zoomCover:nv,cover:t,quality:"720"}:{zoomCover:nv,cover:t,quality:"480"}},[np,null==eB||null==(n=eB.imagePost)?void 0:n.cover,nP,nm,nv]),n1=(0,s.L$)(nE),n4=n1.uniqueId,n7=n1.secUid,n3=void 0===n7?"":n7,n5=n1.nickname,n2=(0,s.L$)(e5),n8=n2.title,n9=n2.authorName,n6=nV("seo_user_video_cover",{videoText:null!=(ea=null==eB?void 0:eB.desc)?ea:"",videoAuthor:void 0===n5?"":n5,musicAuthor:void 0===n9?"":n9,musicName:void 0===n8?"":n8}),te=null!=(eu=null==eB?void 0:eB.music)?eu:{},tn=te.playUrl,tt=te.duration,tr=np&&eh===b.g.Explore;el=eg===d.F.Follow?"https://www.tiktok.com".concat((0,x.fJ)({uniqueId:void 0===n4?"":n4,secUid:null!=n3?n3:""})):"https://www.tiktok.com".concat(nF(eB));var ti=(0,u.useMemo)(function(){var e=P.f[eg].ratio;return eh===b.g.Explore&&eM&&(null==eB?void 0:eB.video)&&(e=eB.video.width/eB.video.height),e},[eg,eh,eM,null==eB?void 0:eB.video]),to=(0,u.useMemo)(function(){return(0,i._)((0,r._)((0,i._)((0,r._)({},eb,nB),{group_id:ef,author_id:e$,is_scheduled:!!eX,bitrate:Number(nn),encodedType:nr,format:no,videoQuality:nu,encodeUserTag:nd,codecType:nc,definition:nh,secret:eQ,forFriend:e1,isPaidPartnership:2===e4,isPinnedItem:nH,isReposted:ng}),nW,nz),{log_id:e7,isAd:e3,rank:null==eY?void 0:eY.indexOf(ef)})},[eb,nB,ef,e7,e3,e$,eX,nn,nr,no,nu,nd,nc,nh,eQ,e1,e4,nW,nz,nH,ng,eY]),ta=(0,u.useCallback)(function(e,n){var t;null==(t=nG.current)||t.call(nG,e,n)},[]),tu=(0,u.useCallback)(function(e){if(e.keyCode===L.D.Enter||e.keyCode===L.D.Space){var n;null==(n=nq.current)||n.click()}},[]),tl=(0,u.useCallback)(function(e){!n$&&(e.preventDefault(),e.stopPropagation(),eB&&nA.removeBlockVideo(eB.id))},[n$,eB,nA]),td=(0,u.useCallback)(function(e){return function(n){var t;null==(t=nj.current)||t.call(nj,n,e)}},[]),ts=(0,u.useCallback)(function(e){var n=e.handleVideoCardMouseEnter,t=e.handleLinkClick;nj.current=n,nG.current=t},[]),tc=(0,u.useCallback)(function(e){e.preventDefault()},[]),tf=(0,u.useCallback)(function(){var e,n=eh===b.g.SearchUserResult?Y.c.RecentVideo:Y.c.Scroll;N.A.handleVideoExposeReport({enter_method:n,author_id:null!=(e=null==nE?void 0:nE.id)?e:"",group_id:ef,rank:ec,page_name:D.f.commonParams.page_name,backend_source_event_tracking:""})},[null==nE?void 0:nE.id,ef,ec,eh]),th=(0,u.useRef)(null),tv=(0,u.useMemo)(function(){return[0]},[]);(0,C.B)({intersectionHandler:tf,element:th,threshold:tv,unobserveAfterIntersect:!0});var tm=(0,f.fHb)().delayAfterVideoPlay,tg=(0,f.W3$)(),tp=tg.delayUntilFirstItem,ty=tg.delayUntilAnyItem,t_=(0,f.lPE)().hasCommonVideoFirst,tb=(0,u.useCallback)(function(){ty&&(eh===b.g.User||eh===b.g.Profile)&&I.aY.updateUserProfileLoadEvent(),!ec&&(tm&&eh===b.g.Explore&&I.aY.updateExploreVideoLoadEvent(),tp&&(eh===b.g.User||eh===b.g.Profile)&&I.aY.updateUserProfileLoadEvent(),t_&&E.UX.includes(eh)&&I.aY.updateCommonLoadEvent())},[tm,ty,tp,t_,ec,eh]);(0,u.useEffect)(function(){var e=(tp||ty)&&(eh===b.g.User||eh===b.g.Profile),n=t_&&E.UX.includes(eh);np&&(ty||0===ec)&&(e||n)&&I.aY.updateCommonLoadEvent()},[np,ec,tp,t_,ty,eh]);var tx=(0,u.useCallback)(function(){tb(),null==eF||eF()},[]),tP=eh===b.g.CSI,tL=(0,u.useMemo)(function(){if(tP)return ei.kY;if(nD)return ei.iP;if(nX)if(nx)return ei.iP;else return ei.tE;return ei.aX},[tP,nD,nX,nx]),tC=(0,T.X)({item:(0,i._)((0,r._)({},eB),{author:nE}),originalAltText:function(){return n6}}),tT=q.Rg("video-card-for-bot-hook",{src:null==eB||null==(t=eB.video)?void 0:t.playAddr,poster:null==eB||null==(Q=eB.video)?void 0:Q.cover,posterAlt:tC,Img:Z.eL,Video:Z.wM});return(0,a.FD)(tL,{ref:th,hasDescUnderItem:ep,style:nQ,inHorizontalList:void 0!==eU&&eU,maxWidth:eh!==b.g.User||nb?void 0:"320px",id:"grid-item-container-".concat(ec),children:[(0,a.FD)(X.w,{e2eTag:"".concat(ev,"-item"),ratio:ti,borderRadius:nk?"0":e_,copyrightMuted:eO,onKeyDown:tu,children:[(0,a.FD)(ei.mF,{draggable:ev!==h.Lz.TrendingTopics&&void 0,showNotPass:null!=(ed=null==eB?void 0:eB.showNotPass)&&ed,href:el,onMouseEnter:td(Y.c.HoverCover),onClick:ta,tabIndex:-1,ref:nq,children:[(0,a.Y)(ei.Od,{width:100*ti,height:100}),nK?(0,a.Y)(et.s,{id:ef,searchType:null!=eC?eC:B.nX.Live,searchResultId:null==eb?void 0:eb.search_result_id}):(0,a.FD)(ei.w3,{withBack:nk,borderRadius:e_,onContextMenu:tc,children:[n_?null!=(es=null==tT?void 0:tT.videoCard4Bot)?es:(0,a.Y)(k.K,{desc:tC,horizontal:!1,mode:F.ey.ThreeColumn,ref:nO,id:ef,playUrl:void 0===e8?"":e8,index:ec,itemMute:nJ||eO,duration:e9,bitrateInfo:e6,teaParams:to,disableDownload:!0,volumeInfo:{Loudness:ew},bitrate:Number(nn),videoCover:n0,onVideoPlay:tx,onVideoError:tb,onTimeUpdate:tb,onVideoEnded:eE,fetchPriority:nS&&ec<3?"high":"auto",videoInfo:ez}):(0,a.FD)(ei.NR,{children:[(0,a.Y)(ei.zj,{video:n0,alt:tC,onLoad:function(e){return nY(e.target)}}),tr&&(0,a.Y)(S.Y,{index:ec,id:ef,mode:F.ey.ThreeColumn,duration:void 0===tt?0:tt,playUrl:void 0===tn?"":tn,teaParams:to,volumeInfo:(0,i._)((0,r._)({},void 0===ne?void 0:ne),{Loudness:ew}),itemMute:nJ||eO,onAudioPlay:tx,onAudioError:tb,onTimeUpdate:tb,preload:"metadata",playsInline:!0})]}),!eX&&ej&&(0,a.Y)(ee,{}),n$||nI.includes((null==eB?void 0:eB.id)||"")?(0,a.Y)(ei.es,{hasSolidBackground:nZ||nC,hasGradientBackground:nT,children:(0,a.Y)(ei.NL,{onClick:tl,children:(0,a.Y)(w,{width:"48",height:"48"})})}):null,(0,a.Y)(er.y,{id:ef,item:eB,pageType:eh,itemListKey:ev,userPostSortType:nM,hasSound:eS,isPageMuted:nJ,teaParams:eb,isLive:nK,handleToggleMute:eI})]}),(0,a.Y)(R.R,{videoData:eB,pageType:eh,itemListKey:ev,sortType:nM}),(0,a.Y)(er.u,{index:ec,id:ef,itemListKey:ev,pageType:eh,shouldShowM3AgeMask:nZ,isShowVideoMaskFinal:n$,teaParams:to,showNotPass:ej,handleClick:eP,handleVideoClick:eL,onInteractionUpdate:ts})]}),eD]}),!ej&&(0,a.Y)(J.B,{index:ec,id:ef,pageType:eh,mode:eg,itemListKey:ev,item:eB,isLive:nK,searchResultTeaParams:nB,author:nE,handleVideoCardMouseEnter:td,handleLinkClick:ta,descStyle:eN})]})})},10333:function(e,n,t){t.d(n,{Lf:function(){return h},WJ:function(){return g},YR:function(){return v},jB:function(){return m}});var r=t(5377),i=t(45996),o=t(2787),a=t(40099),u=t(93844),l=t(76446),d=t(7392),s=t(90542),c=t(90059),f=t(42794),h=function(e){var n=e.item,t=e.itemListKey,r=(0,u.s)(),i=null!=n?n:{},a=i.originalItem;return i.officalItem?(0,o.Y)(f.Qh,{"data-e2e":"".concat(t,"-official"),children:(0,o.Y)(f.Qz,{children:r("official_tag")})}):a?(0,o.Y)(f.Qh,{"data-e2e":"".concat(t,"-original"),children:(0,o.Y)(f.Qz,{children:r("original_tag")})}):null};function v(e){var n=e.teaParams,t=e.id,o=e.pageType;return(0,a.useMemo)(function(){var e,a=null!=n?n:{},u=a.search_id,d=a.search_keyword,s={};switch(u&&(s=(0,i._)((0,r._)({},s),{search_id:u,impr_id:u,search_keyword:d,search_result_id:t})),o){case l.g.SearchResult:e=c.nX.General;break;case l.g.SearchUserResult:e=c.nX.User;break;case l.g.SearchVideoResult:e=c.nX.Video;break;case l.g.SearchPhotoResult:e=c.nX.Photo;break;case l.g.SearchLiveResult:e=c.nX.Live;break;default:e=void 0}return e&&(s.search_type=e),s},[n,t,o])}function m(e){var n=e.teaParams,t=e.pageType;return(0,a.useMemo)(function(){return[l.g.SearchResult,l.g.SearchUserResult,l.g.SearchVideoResult,l.g.SearchPhotoResult,l.g.SearchLiveResult].includes(t)?(0,i._)((0,r._)({},n),{enter_from:"".concat(s.f.commonParams.page_name,"_result")}):n},[n,t])}var g=function(e){var n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],t=(0,(0,d.T)().timeTranslator)(1e3*Number((null!=e?e:{}).createTime));return(0,o.Y)(f.Jd,{onVideo:n,children:t})}},93807:function(e,n,t){t.d(n,{s:function(){return o}});var r=t(5377),i=t(41150),o=(0,t(55169).Ay)({resolved:{},chunkName:function(){return"search-live-item"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return Promise.all([t.e("41685"),t.e("84673"),t.e("65514"),t.e("95747"),t.e("71522"),t.e("44735"),t.e("88098"),t.e("7225"),t.e("56739")]).then(t.bind(t,45964))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(function(e){return n.resolved[t]=!0,e})},requireSync:function(e){return t(this.resolve(e))},resolve:function(){return 45964}},(0,r._)({},i.TN))},71032:function(e,n,t){t.d(n,{u:function(){return u},y:function(){return a}});var r=t(5377),i=t(41150),o=t(55169),a=(0,o.Ay)({resolved:{},chunkName:function(){return"footer-side-effects-island"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return t.e("89416").then(t.bind(t,21296))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(function(e){return n.resolved[t]=!0,e})},requireSync:function(e){return t(this.resolve(e))},resolve:function(){return 21296}},(0,r._)({},i.PW)),u=(0,o.Ay)({resolved:{},chunkName:function(){return"interaction-side-effects-island"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return t.e("50469").then(t.bind(t,6263))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(function(e){return n.resolved[t]=!0,e})},requireSync:function(e){return t(this.resolve(e))},resolve:function(){return 6263}},(0,r._)({},i.PW))},98934:function(e,n,t){t.d(n,{A:function(){return Y}});var r=t(2787),i=t(40099),o=t(88707),a=t.n(o),u=t(78316),l=t(58021),d=t(59952),s=t(59384),c=t(35521),f=t(18117),h=t(76446),v=t(79348),m=t(99822),g=t(96024),p=t(19298),y=t(38306),_=t(33919),b=t(83403),x=t(48859),P=t(47307),L=t(14610),C=t(72702),T=t(93844),k=t(11854),S=t(84812),R=t(33006),w=t(61724),I=t(47297),E=t(79891),A=t(17575),M=t(29349),V=t(45577),U=t(35479),D=(0,i.memo)(function(e){var n=e.index,t=e.data,o=e.mode,a=e.rootRef,u=(0,i.useMemo)(function(){return[0]},[]),l=(0,U.Wx)({root:null==a?void 0:a.current,threshold:u,rootMargin:"600px 0px",triggerOnce:!1}),d=l.ref,s=l.inView,c=(0,i.useRef)(null),f=(0,i.useMemo)(function(){return(0,V.P)([c,d])},[c,d]);return(0,r.Y)("div",{ref:f,children:s?(0,r.Y)(I.x,{index:n,data:t}):(0,r.Y)("div",{style:{width:"100%",aspectRatio:M.f[o].ratio.toString()}})})}),F=(0,i.memo)(function(e){var n=e.itemList,t=e.itemData,i=e.rootRef,o=e.mode,a=n.map(function(e,n){return(0,r.Y)(D,{index:n,data:t,rootRef:i,mode:o},e)});return(0,r.Y)(r.FK,{children:a})}),Y=(0,i.memo)((0,u.h)()(function(e){var n,t=e.mode,o=void 0===t?l.F.Compact:t,u=e.loading,M=e.itemList,V=e.pageType,U=e.itemListKey,D=e.onHitBottom,Y=e.threshold,N=e.borderRadius,B=e.renderMap,W=e.renderTitle,z=e.renderItemChildren,H=e.teaParams,O=e.searchTopCardType,q=e.notWrap,j=e.autoPlayFirst,G=void 0===j||j,K=e.handleClick,X=e.handleVideoClick,Z=e.searchType,$=e.hasMore,J=void 0===$||$,Q=e.mute,ee=e.hasSound,en=void 0!==ee&&ee,et=e.handleToggleMute,er=e.children,ei=e.fullItemList,eo=e.descStyle,ea=M[0],eu=(0,w.h5)().isInVirtualListExperiment,el=(0,C.F3)(function(e){return e[ea]}),ed=(0,d.nr)(),es=(0,s.JD)(function(e){return e.currentIndex}),ec=(0,c.Sb)(),ef=(0,i.useContext)(f.g).isBrowserModeShowing,eh=(0,i.useRef)(),ev=(0,i.useRef)(!0),em=(0,i.useRef)(U),eg=(0,i.useRef)(null),ep=V===h.g.Challenge||V===h.g.SearchResult||V===h.g.SearchVideoResult||V===h.g.SearchLiveResult||V===h.g.SearchPhotoResult||V===h.g.Question||O===b.gA.Lives,ey=(0,T.s)(),e_=(0,v.d)({item:null!=el?el:{},playMode:x.ey.ThreeColumn}).showVideoMask,eb=(0,R.N)();(0,m.V)(M,eb);var ex=(0,C.F3)(function(e){var n=[];return M.forEach(function(t){if(eb){var r=e[t];(null==r?void 0:r.video.subtitleInfos)&&n.push(r)}}),n},k.bN);(0,g.t)(ex,eb);var eP=(0,i.useCallback)(function(){null==D||D()},[D]),eL=(0,_.O)({onHitBottom:eP,threshold:Y,elementRef:eh});(0,S.H4)(M,eL,J,D),(0,p.Ux)(x.ey.ThreeColumn),(0,i.useEffect)(function(){eh.current=document.getElementById("grid-main")},[]),(0,i.useEffect)(function(){U!==em.current&&(ev.current=!0,em.current=U)},[U]),(0,i.useEffect)(function(){!e_&&ev.current&&G&&M.length&&(ev.current=!1,ed.updateVideo({currentVideo:{id:M[0],index:0,mode:x.ey.ThreeColumn},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:P.$h.AutoMatic}))},[e_,M,G]),(0,i.useEffect)(function(){var e;if(U===y.Lz.Explore&&ef&&0!==es){var n=ec.getSourceIndex(es),t=n.itemListKey,r=n.index;return t===U&&(e=setTimeout(function(){e=void 0;var n=document.getElementById("grid-item-container-".concat(r));n&&a()(n)},0)),function(){return e&&clearTimeout(e)}}},[es,ef,U,ec]);var eC=(0,i.useCallback)(function(e){if(null==B?void 0:B.length){var n=B.filter(function(n){return n.position===e});if(n.length>0)return n.map(function(n){return n.renderNode(e)})}return null},[B]),eT=(0,i.useMemo)(function(){return null!==eC(0)},[B,eC]),ek=(0,i.useMemo)(function(){return{itemList:M,hasTopCard:eT,renderTitle:W,mode:o,pageType:V,borderRadius:N,itemListKey:U,hasDescUnderItem:ep,teaParams:H,searchTopCardType:O,handleClick:K,handleVideoClick:X,searchType:Z,mute:Q,hasSound:en,handleToggleMute:et,renderInner:eC,renderItemChildren:z,fullItemList:ei,descStyle:eo}},[M,eT,W,o,V,N,U,ep,H,O,K,X,Z,Q,en,et,eC,z,ei,eo]);return n=eu&&(V===h.g.Explore||V===h.g.User)?(0,r.Y)(F,{itemList:M,itemData:ek,rootRef:eL,mode:o}):M.map(function(e,n){return(0,r.Y)(I.x,{index:n,data:ek},e)}),(0,r.FD)(A.jl,{ref:eL,isSearchTopCard:!!O,isInVirtualListExperiment:eu,children:[(0,r.FD)(E.$G,{id:"".concat(U,"-item-list"),"data-e2e":"".concat(U,"-item-list"),hasDescUnderItem:ep,mode:o,notWrap:void 0!==q&&q,ref:eg,children:[eC(0),n,er]}),u&&(0,r.Y)(L.R,{center:!0}),!u&&!J&&(0,r.Y)(A.hb,{children:ey("search_nomoreresults_text")})]})}))},79891:function(e,n,t){t.d(n,{$G:function(){return p},PF:function(){return m},ph:function(){return g}});var r=t(5377),i=t(45996),o=t(2787),a=t(40099),u=t(12751),l=t(58021),d=t(17505),s=t(90160),c=t(47),f=t(17575),h=t(51875),v=t(61724),m=1700,g=(0,u.default)("div",{target:"e1x2w78o0",label:"0be0dc34--DivVideoFeedV2"})(function(e){return e.mode===l.F.Explore?[{display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(304px, 1fr))"},(0,s.jJ)({max:s.I9.Laptop-1,style:{gridTemplateColumns:"repeat(auto-fill, minmax(256px, 1fr))"}},{max:s.I9.Pad-1,style:{gridTemplateColumns:"repeat(auto-fill, minmax(209px, 1fr))"}})]:[{display:"grid",width:"100%",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(184px, 1fr))"}]},function(e){return e.isUnifiedGrid&&[h.pg]}),p=(0,a.memo)((0,a.forwardRef)(function(e,n){var t=(0,c.s0)().isDetailPage,u=(0,c.no)().isSearchPage,l=(0,d.Vv$)().isInProductHoldout,s=(0,v.lN)().isInSearchPageRedesignExperiment,h=(0,a.useMemo)(function(){return u&&s||t?g:f.$G},[t,u]);return(0,o.Y)(h,(0,i._)((0,r._)({ref:n},e),{isUnifiedGrid:!l}))}))},17575:function(e,n,t){t.d(n,{$G:function(){return l},hb:function(){return s},jl:function(){return d}});var r=t(5377),i=t(45996),o=t(12751),a=t(90160),u=t(51875),l=(0,o.default)("div",{target:"e1so5acu0",label:"0be0dc34--DivVideoFeed"})(function(e){return[{"::after":{content:'""',height:"0",display:"block",clear:"both"}},e.hasDescUnderItem?{display:"flex",flexWrap:"wrap"}:null,e.notWrap?{flexWrap:"nowrap"}:null,(0,a.jJ)({max:a.I9.Pad-1,style:{width:"100%"}})]},function(e){return e.isUnifiedGrid&&[u.pg]}),d=(0,o.default)("div",{target:"e1so5acu2",label:"0be0dc34--DivThreeColumnContainer"})(function(e){var n=e.isSearchTopCard,t=e.isInVirtualListExperiment;return(0,i._)((0,r._)({},void 0!==t&&t&&{display:"flex",flexDirection:"column"}),{width:n?"calc(100% + 12px)":"100%"})}),s=(0,o.default)("div",{target:"e1so5acu3",label:"0be0dc34--DivNoMoreResultsContainer"})(function(e){return{height:"48px",color:e.theme.colors.TextTertiaryAlt,fontSize:"18px",lineHeight:"22px",display:"flex",justifyContent:"center",alignItems:"center"}})},47297:function(e,n,t){t.d(n,{x:function(){return d}});var r=t(5377),i=t(45996),o=t(16327),a=t(2787),u=t(40099),l=t(5092),d=(0,u.memo)(function(e){var n=e.index,t=e.data,u=t.itemList,d=t.hasTopCard,s=t.renderTitle,c=t.teaParams,f=t.renderInner,h=t.renderItemChildren,v=e.style,m=(0,o._)(e.data,["itemList","hasTopCard","renderTitle","teaParams","renderInner","renderItemChildren"]),g=u[n];return(0,a.FD)(a.FK,{children:[0===n&&d&&s,(0,a.Y)(l.g,(0,i._)((0,r._)({id:g,index:n,teaParams:void 0===c?{}:c},m),{style:v,children:null==h?void 0:h(g)}),g),null==f?void 0:f(n+1)]})})},84812:function(e,n,t){t.d(n,{$t:function(){return S},EI:function(){return L},EZ:function(){return P},H4:function(){return I},WA:function(){return R},aK:function(){return w},p$:function(){return k},qi:function(){return x}});var r=t(6586),i=t(40099),o=t(11060),a=t(94553),u=t(64400),l=t(43264),d=t(13610),s=t(38653),c=t(54363),f=t(89525),h=t(93538),v=t(59384),m=t(89786),g=t(90542),p=t(90059),y=t(47149),_=t(62085),b=t(11854),x=function(){var e=(0,o.useLocation)().pathname;return(0,i.useMemo)(function(){var n;return null!=(n=u.n[e])?n:p.nX.General},[e])},P=function(){var e,n,t=(null!=(e=(0,l.W)(function(){return["user"]},[]))?e:{}).user,r=null!=(n=(0,d.U)(function(){return["isBot","searchVideoForLoggedin","searchLiveForLoggedin"]},[]))?n:{},u=r.isBot,s=r.searchVideoForLoggedin,c=r.searchLiveForLoggedin,f=(0,_.b1)(),h=(0,o.useLocation)(),v=h.search,g=h.pathname,b=!!t,x=(0,o.useHistory)();(0,i.useEffect)(function(){if(!(u||b||g===m.OZ.searchUser||g===m.OZ.searchHome&&!s||g===m.OZ.searchVideo&&!s||g===m.OZ.searchLive&&!c)){f.setCloseCallback(function(){var e=m.OZ.searchUser;s||(e=m.OZ.searchHome),x.push({pathname:e,search:v,state:{needLoad:!1,enterMethod:p.Kq.ClickIcon,searchSource:p.Cy.SwitchTab}})});var e=x.location.state.enterFrom;f.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:e===a.L.Explore?y.c.ClickExploreAllTrendingWord:"prompt",type:"search"}})}},[])},L=function(){var e;return!!(null!=(e=(0,l.W)(function(){return["user"]},[]))?e:{}).user};function C(e){return!![s.bD.NoResult,s.bD.ShowWithButton].includes(e)}function T(e){return e===s.bD.ShowWithButton}var k=function(e){var n=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",t=(0,r._)((0,i.useState)(function(){return C(n)}),2),o=t[0],a=t[1],u=(0,r._)((0,i.useState)(function(){return T(n)}),2),l=u[0],d=u[1];return(0,i.useEffect)(function(){a(function(){return C(n)}),d(function(){return T(n)})},[n]),{hideSearchResult:o,skipError:e&&e.type===s.k4.SelfHarmText||!1,onShowResult:function(){T(n)&&(a(!1),d(!1))},showResultButton:l}},S=function(){var e,n,t=(0,l.W)(function(){return["abTestVersion"]},[]),r=null!=(e=(0,c.qt)(null==t?void 0:t.abTestVersion,"search_video"))?e:"v1",o=!!(null!=(n=(0,l.W)(function(){return["user"]},[]))?n:{}).user,a=(0,_.b1)();return(0,i.useCallback)(function(){"v3"!==r&&"v4"!==r||o||a.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:g.f.commonParams.page_name,type:"loginsearchmore"}})},[a,r,o])},R=function(e){var n=(0,f.IE)(function(n){return n[e]},b.bN),t=n.loading,r=n.hasMore,o=void 0===r||r,a=(0,h.nY)(e).handleSearch;return(0,i.useCallback)(function(){!t&&o&&a.bind(null,!0,!1)()},[a,t,o])},w=function(e,n){var t,r=(0,l.W)(function(){return["abTestVersion"]},[]),o=null!=(t=(0,c.qt)(null==r?void 0:r.abTestVersion,"search_video"))?t:"v1",a=L(),u=(0,f.IE)(function(n){return n[e]},b.bN),d=u.hasMore,s=void 0===d||d,h=u.error,m=R(e),g=S(),p=(0,v.JD)(function(e){return{showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex}},b.bN),y=p.showingBrowserMode,_=p.currentIndex;(0,i.useEffect)(function(){var e=("v3"===o||"v4"===o)&&!a;if(!s&&y&&e&&n.length-_==1)return void g();s&&y&&!e&&!h&&n.length-_<=3&&m()},[_,y,o,n.length,a,h,g,m,s])},I=function(e,n,t,r){(0,i.useEffect)(function(){var i,o,a,u,l,d,s=null!=(a=null==(i=document.getElementById("app-header"))?void 0:i.clientHeight)?a:0,c=null!=(u=null==(o=document.getElementById("search-tabs"))?void 0:o.clientHeight)?u:0,f=window.innerHeight;e.length>0&&(null!=(d=null==(l=n.current)?void 0:l.clientHeight)?d:0)+s+c<=f&&t&&(null==r||r())},[e.length,n,t,r])}},7392:function(e,n,t){t.d(n,{T:function(){return a}});var r=t(40099),i=t(73691),o=t(93844),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.i_.WebApp,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=(0,o.s)(e),a=(0,r.useCallback)(function(e,r){var i=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||isNaN(e))return"";var t=new Date(Number(e)),r=new Date,i=Math.max(r.getTime()-t.getTime(),0);if(n){if(~~(i/d)>7)return{num:1,unit:"unit_week"}}else{if(t.getFullYear()!==r.getFullYear())return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());if(~~(i/d)>7)return"".concat(t.getMonth()+1,"-").concat(t.getDate())}return 7==~~(i/d)?{num:1,unit:"unit_week"}:i>d?{num:~~(i/d),unit:"unit_day"}:i>l?{num:~~(i/l),unit:"unit_hr"}:i>u?{num:~~(i/u),unit:"unit_min"}:{num:~~(i/1e3)+1,unit:"unit_sec"}}(e,n);if("string"==typeof i)return i;var o=i.num,a=i.unit;return r?"".concat(o).concat(t(a)):t("time_ago",{num:o,unit:t(a)})},[t,n]);return{t:t,timeTranslator:a}},u=6e4,l=36e5,d=864e5},64400:function(e,n,t){t.d(n,{n:function(){return d},z:function(){return s}});var r,i,o=t(35383),a=t(94553),u=t(89786),l=t(90059),d=(r={},(0,o._)(r,u.OZ.searchHome,l.nX.General),(0,o._)(r,u.OZ.searchUser,l.nX.User),(0,o._)(r,u.OZ.searchVideo,l.nX.Video),(0,o._)(r,u.OZ.searchLive,l.nX.Live),(0,o._)(r,u.OZ.searchPhoto,l.nX.Photo),r),s=(i={},(0,o._)(i,u.OZ.searchHome,a.L.GeneralSearch),(0,o._)(i,u.OZ.searchUser,a.L.SearchUser),(0,o._)(i,u.OZ.searchVideo,a.L.SearchVideo),(0,o._)(i,u.OZ.searchLive,a.L.SearchLive),(0,o._)(i,u.OZ.searchPhoto,a.L.SearchPhoto),i)},98433:function(e,n,t){t.d(n,{R:function(){return a}});var r=t(5377),i=t(55169),o=t(41150),a=(0,i.Rq)({resolved:{},chunkName:function(){return"video-card-header"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return t.e("82428").then(t.bind(t,82484))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(function(e){return n.resolved[t]=!0,e})},requireSync:function(e){return t(this.resolve(e))},resolve:function(){return 82484}},(0,r._)({},o.PW))},10137:function(e,n,t){t.d(n,{$D:function(){return a}});var r=t(40099),i=t(73580),o=t(33751);function a(e){var n=(0,i.Nj)(o.JX);(0,r.useEffect)(function(){n.setPreloadQueue(e)},[e,n])}},29349:function(e,n,t){t.d(n,{f:function(){return a}});var r,i=t(35383),o=t(58021),a=(r={},(0,i._)(r,o.F.Compact,{ratio:196/260,borderRadius:0}),(0,i._)(r,o.F.Follow,{ratio:.75,borderRadius:8}),(0,i._)(r,o.F.SearchVideoList,{ratio:229/305,borderRadius:2}),(0,i._)(r,o.F.Explore,{ratio:.75,borderRadius:8}),r)}}]);