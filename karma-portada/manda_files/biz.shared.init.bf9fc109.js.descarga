"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["18754"],{29208:function(e,t,n){n.d(t,{A8:function(){return l},qk:function(){return s}});var r,i=n(54333),o=n(42107),a=n(89786),u=n(59550),s=[a.OZ.home,a.OZ.foryou].concat((0,i._)(a.OZ.foryouWithLang));[u.Ob.home,u.Ob.foryou].concat((0,i._)(u.Ob.foryouWithLang)),u.Ob.discover,u.Ob.topics,a.OZ.expansion,a.OZ.challenge;var c=[u.Ob.report,u.Ob.reportInbox];(0,o.A)(Object.values(u.Ob)).filter(function(e){return!c.includes(e)});var l=((r={}).Video="video",r.User="user",r.Challenge="hashtag",r.Trending="fyp",r.Live="live",r.Message="message",r.Setting="setting",r.Music="music",r.SearchResults="search",r.Discover="discover",r.Following="following",r.Topics="topics",r.Profile="profile",r.Expansion="expansion",r.Inbox="inbox",r.Report="report",r.Feedback="feedback",r.ChooseTime="custom-choose-time",r)},27014:function(e,t,n){n.d(t,{_:function(){return s}});var r=n(79066),i=n(72516),o=["fetch"],a=["includes"],u=["values","entries","getOwnPropertyDescriptors"];function s(){return(0,r._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:if(!("Promise"in window))return window.location.href="https://www.tiktok.com/unsupported",[2];if(!o.some(function(e){return!(e in window)}))return[3,2];return[4,n.e("93565").then(n.bind(n,23596))];case 1:e.sent(),e.label=2;case 2:if(!(a.some(function(e){return!(e in Array.prototype)})||u.some(function(e){return!(e in Object)})))return[3,4];return[4,Promise.all([n.e("61077").then(n.t.bind(n,76999,23)),n.e("87490").then(n.t.bind(n,74617,23)),n.e("18800").then(n.t.bind(n,40435,23)),n.e("50672").then(n.t.bind(n,53363,23))])];case 3:e.sent(),e.label=4;case 4:return[2]}})})()}},80863:function(e,t,n){n.d(t,{$2:function(){return l},AT:function(){return a},G2:function(){return i},WD:function(){return s},fJ:function(){return u},l3:function(){return c},pH:function(){return o},ws:function(){return d},zp:function(){return p}});var r=n(94810),i=r.h.getPureLivePath,o=r.h.getPureMusicPath,a=r.h.getPureTagPath,u=(r.h.getPureStickerPath,r.h.getPureUserPath),s=(r.h.getPureVideoPath,r.h.getPureQuestionPath),c=r.A.getPureUniqueId,l=(r.A.hasIllegalText,r.A.isPureNumber,r.A.isRealUniqueId),d=r.A.purifyMusicName,p=r.A.purifyPlainText},99067:function(e,t,n){n.d(t,{i:function(){return i}});var r=n(81284);function i(e,t){return(0,r.Y)(e,function(e){return e.request.path})(t)}},9659:function(e,t,n){n.d(t,{n:function(){return a}});var r=n(46657),i=n(2668),o=n(20259),a=function(e){var t=e.msg,n=e.shouldShowMsg,a=void 0!==n&&n,u=e.prevent,s=void 0===u||u,c=e.callback;return function(e){return e.pipe((0,o.W)(function(e){return(a&&console.error("Effect error: ",null!=t?t:e),null==c||c(),s)?r.w:(0,i.$)(function(){return e})}))}}},54358:function(e,t,n){n.d(t,{D:function(){return i},o:function(){return o}});var r=n(80164),i=function(e){return[r.$.Animals,r.$.Beauty,r.$.Comedy,r.$.Dance,r.$.Food,r.$.Gaming,r.$.Sports].includes(e)},o=function(e){switch(e){case r.$.Animals:return r.C.ANIMALS;case r.$.Beauty:return r.C.BEAUTY;case r.$.Comedy:return r.C.COMEDY;case r.$.Dance:return r.C.DANCE;case r.$.Food:return r.C.FOOD;case r.$.Gaming:return r.C.GAMING;case r.$.Sports:return r.C.SPORTS}}},39825:function(){},57198:function(e,t,n){n.d(t,{v:function(){return c}});var r=n(48631),i=n(40099),o=n(90542),a=n(43264),u=n(13610),s=n(89379),c=function(){var e,t,n=null!=(e=(0,a.W)(function(){return["language","wid","region","user","env"]},[]))?e:null,c=null!=(t=(0,u.U)(function(){return["isMobile","vregion"]},[]))?t:null;return{initCommunicationServiceSDK:(0,i.useCallback)(function(){if(!n||!c)return!1;var e,t,i=n.language,a=n.wid,u=n.region,l=n.user,d=n.env,p=c.isMobile,f=c.vregion,v={apiDomain:"",appId:1988,uid:null!=(t=null==l?void 0:l.uid)?t:"",wid:null!=a?a:"",lang:null!=i?i:"en",isMobile:null!=p&&p,region:null!=u?u:"",debug:(null==d?void 0:d.type)==="boe"||(null==d?void 0:d.type)==="ppe",deploymentRegion:"-"!==f?f:void 0,slardarInstance:null===s.ng||void 0===s.ng||null==(e=s.ng._slardar)?void 0:e.rawInstance(),teaInstance:o.f.getInstance()};try{r.Ay.init(v)}catch(e){return console.error("init CommunicationServiceSDK failed"),!1}return!0},[n,c])}}},23488:function(e,t,n){n.d(t,{Uk:function(){return m},_F:function(){return p},LS:function(){return y}});var r=n(79066),i=n(72516),o=n(71111),a=n(4676),u=n(75602),s=n(35383),c=n(42646),l=n(56904);function d(e){if(void 0===e)return{};var t={};return e.forEach(function(e){t[e.id_value]=e}),t}var p="ppf_eligibility_v2",f=(0,u.atomWithStorage)(p,void 0,(0,u.createJSONStorage)(),{getOnInit:!0});f.debugLabel="eligibility_list_atom";var v=(0,o.atom)(function(e){return d(e(f))},function(e,t,n){if(void 0===n)return void t(f,void 0);t(f,Object.values(n))}),g=!1,_=!1,h=(0,a.i)(v,function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r._)(function(){var n;return(0,i.__generator)(this,function(o){switch(o.label){case 0:if(_||g&&!e)return[2];_=!0,o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,(0,r._)(function(){return(0,i.__generator)(this,function(e){return[2,c.h.post("/tiktok/ppf/api/eligibility/v2",{baseUrlType:l.Z4.FixedWww,headers:(0,s._)({},l.nk,c.h.csrfToken)})]})})()];case 2:return 0===(n=o.sent()).status_code?(g||(g=!0),t(v,d(n.eligibility_list))):console.error("Feature access control not initialized",n),[3,5];case 3:return console.error("Feature access control initialization error",o.sent()),[3,5];case 4:return _&&(_=!1),[7];case 5:return[2]}})})()};return{getState:function(){return e(v)},isInitialized:function(){return g},fetchAndInitialize:function(){return(0,r._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,n(!1)];case 1:return[2,e.sent()]}})})()},refresh:function(){return(0,r._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,n(!0)];case 1:return[2,e.sent()]}})})()},updateEligibility:function(n){var r=e(v);r[n.id_value]=n,t(v,r)}}}),m=h.useServiceState,y=(h.useServiceDispatchers,h.getStaticApi)},72699:function(e,t,n){n.d(t,{E:function(){return h},_K:function(){return v},Tf:function(){return g},sc:function(){return _}});var r=n(40099),i=n(57198),o=n(23488),a=n(48631),u=n(48748),s=n(95170),c=n(7120),l=function(e){function t(e){var n;return(0,s._)(this,t),(n=(0,u._)(this,t))._config=e,n}(0,c._)(t,e);var n=t.prototype;return n.getActionType=function(){return a.W9.PPF},n.processData=function(e){this.dataModel=JSON.parse(e)},n.executeAction=function(){this._config.onServerPush(this.dataModel)},t}(a.Yg),d=function(e){function t(e){var n;return(0,s._)(this,t),(n=(0,u._)(this,t))._config=e,n}return(0,c._)(t,e),t.prototype.createAction=function(){return new l(this._config)},t}(a.tL),p=function(e){function t(e){var n;return(0,s._)(this,t),(n=(0,u._)(this,t))._config=e,n}(0,c._)(t,e);var n=t.prototype;return n.getActionType=function(){return a.W9.PPFRefresh},n.processData=function(e){},n.executeAction=function(){this._config.onServerPush()},t}(a.Yg),f=function(e){function t(e){var n;return(0,s._)(this,t),(n=(0,u._)(this,t))._config=e,n}return(0,c._)(t,e),t.prototype.createAction=function(){return new p(this._config)},t}(a.tL);function v(e){var t,n,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return null!=(n=null==(t=_(e))?void 0:t.is_eligible)?n:r}function g(e){var t,n;return null!=(n=null==(t=_(e))?void 0:t.action_list)?n:[]}function _(e){var t=(0,o.Uk)();return null==t?void 0:t[e]}function h(){var e;(0,r.useEffect)(function(){(0,o.LS)().fetchAndInitialize()},[]),e=(0,i.v)().initCommunicationServiceSDK,(0,r.useEffect)(function(){var t,n;e(),t=(0,o.LS)().updateEligibility,a.Ay.registerActionFactory([{key:a.W9.PPF,instance:new d({onServerPush:t})}]),n=(0,o.LS)().refresh,a.Ay.registerActionFactory([{key:a.W9.PPFRefresh,instance:new f({onServerPush:n})}])},[e])}},40250:function(e,t,n){n.d(t,{$:function(){return i},c:function(){return o}});var r=n(23488);function i(){return(0,r.LS)().isInitialized()}function o(){var e;null==(e=localStorage)||e.removeItem(r._F)}},69372:function(e,t,n){n.d(t,{Rx:function(){return a},pn:function(){return i}});var r=n(44545),i=function(e,t){return null!=e&&Number(e)&&null!=t?9===e?{privacyAccountPromptVariant:t>=1?r.V.SevenDaysLater:r.V.FirstTimeShow,showNewPrompt:!0}:t>=1?{privacyAccountPromptVariant:r.V.SevenDaysLater,showNewPrompt:!1}:5===e?{privacyAccountPromptVariant:r.V.ExistingUsers,showNewPrompt:!1}:{privacyAccountPromptVariant:r.V.FirstTimeShow,showNewPrompt:!1}:{privacyAccountPromptVariant:r.V.NoShow,showNewPrompt:!1}},o=new Set([r.V.FirstTimeShow,r.V.SevenDaysLater,r.V.ExistingUsers]),a=function(e){return null!=e&&o.has(e)}},44545:function(e,t,n){n.d(t,{V:function(){return o},x:function(){return a}});var r,i,o=((r={})[r.NoShow=0]="NoShow",r[r.FirstTimeShow=1]="FirstTimeShow",r[r.SevenDaysLater=2]="SevenDaysLater",r[r.ExistingUsers=3]="ExistingUsers",r),a=((i={})[i.SelectPrivacyStatus=1]="SelectPrivacyStatus",i[i.RemindMeLater=2]="RemindMeLater",i[i.Stay=3]="Stay",i[i.Switch=4]="Switch",i)},21208:function(e,t,n){n.d(t,{D:function(){return k}});var r,i=n(48748),o=n(95170),a=n(7120),u=n(6586),s=n(79262),c=n(61157),l=n(82970),d=n(23999),p=n(19293),f=n(35572),v=n(95719),g=n(68710),_=n(78990),h=n(82379),m=n(1455),y=n(2999),A=n(57007),b=n(53975),w=n(95692),L=n(31160);function S(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function T(e,t){if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var k=function(e){function t(e,n){var r;return(0,o._)(this,t),(r=(0,i._)(this,t)).service=e,r.t=n,r.defaultState={initialized:!1,restrictionSetting:void 0,userSetting:void 0,effectedCount:void 0},r}(0,a._)(t,e);var n=t.prototype;return n.setPrivacyRestrictionModel=function(e,t){e.restrictionSetting=t},n.setPrivacyUserSetting=function(e,t){e.userSetting=t},n.setPrivacyEffectCount=function(e,t){e.effectedCount=t},n.setSinglePrivacyUserSetting=function(e,t){var n,r=null!=(n=e.userSetting)?n:{};r[t.field]=Number(t.value),e.userSetting=r},n.setInitialized=function(e,t){e.initialized=t},n.getRestrictionAndEffectedCountSettings=function(e){var t=this;return e.pipe((0,f.p)(function(){return(0,l.z)([t.service.fetchRestrictionSetting(),t.service.fetchPrivacyEffectedCountSetting()]).pipe((0,v.M)(function(e){var t=(0,u._)(e,2),n=t[0],r=t[1];n.status_code!==A.s.Ok&&console.error("[PNS] get restriction setting error: ",n.status_code),r.status_code!==A.s.Ok&&console.error("[PNS] get effected count error: ",r.status_code)}),(0,g.Z)(function(e){var n=(0,u._)(e,2),r=n[0],i=n[1];return console.log("[PNS] get restriction setting and effected count response",r,i),(0,d.of)(t.getActions().setPrivacyRestrictionModel(r.privacy_restriction),t.getActions().setPrivacyUserSetting(r.privacy_settings),t.getActions().setPrivacyEffectCount(i),t.getActions().setInitialized(!0))}))}))},t}(_.E);S([(0,h.uk)(),T("design:type",void 0===p.c?Object:p.c)],k.prototype,"dispose$",void 0),S([(0,h.h5)(),T("design:type",Function),T("design:paramtypes",[void 0===c.Draft?Object:c.Draft,Object]),T("design:returntype",void 0)],k.prototype,"setPrivacyRestrictionModel",null),S([(0,h.h5)(),T("design:type",Function),T("design:paramtypes",[void 0===c.Draft?Object:c.Draft,Object]),T("design:returntype",void 0)],k.prototype,"setPrivacyUserSetting",null),S([(0,h.h5)(),T("design:type",Function),T("design:paramtypes",[void 0===c.Draft?Object:c.Draft,Object]),T("design:returntype",void 0)],k.prototype,"setPrivacyEffectCount",null),S([(0,h.h5)(),T("design:type",Function),T("design:paramtypes",[void 0===c.Draft?Object:c.Draft,Object]),T("design:returntype",void 0)],k.prototype,"setSinglePrivacyUserSetting",null),S([(0,h.h5)(),T("design:type",Function),T("design:paramtypes",[void 0===c.Draft?Object:c.Draft,Boolean]),T("design:returntype",void 0)],k.prototype,"setInitialized",null),S([(0,h.Mj)(),T("design:type",Function),T("design:paramtypes",[void 0===p.c?Object:p.c]),T("design:returntype",void 0===p.c?Object:p.c)],k.prototype,"getRestrictionAndEffectedCountSettings",null),k=S([(0,m.nV)("PrivacySettingFetchModule"),(r=(0,y.y)(b.hp),function(e,t){r(e,t,1)}),T("design:type",Function),T("design:paramtypes",[void 0===L.M?Object:L.M,void 0===w.I18NTranslate?Object:w.I18NTranslate])],k)},31160:function(e,t,n){n.d(t,{M:function(){return f}});var r=n(95170),i=n(35383),o=n(5377),a=n(45996),u=n(79262),s=n(84772),c=n(26869),l=n(56904),d=n(96062);function p(e,t){if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var f=function(){function e(t){(0,r._)(this,e),this.fetch=t}var t=e.prototype;return t.updateUserSetting=function(e){return this.fetch.post("/api/privacy/user/settings/update/v1",{query:(0,a._)((0,o._)({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:(0,i._)({},l.nk,this.fetch.csrfToken),body:(0,c.stringify)((0,a._)((0,o._)({},e),{tt_csrf_token:this.fetch.csrfToken})),baseUrlType:l.Z4.FixedWww})},t.fetchRestrictionSetting=function(){return this.fetch.get("/api/privacy/setting/restriction/v1/",{baseUrlType:l.Z4.FixedWww})},t.fetchPrivacyEffectedCountSetting=function(){return this.fetch.get("/api/privacy/user/effected_count/v1",{baseUrlType:l.Z4.FixedWww})},e}();f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,s._q)(),p("design:type",Function),p("design:paramtypes",[void 0===d.p?Object:d.p])],f)},57839:function(e,t,n){n.d(t,{H:function(){return o}});var r=n(6586),i=n(40099);function o(){var e=(0,r._)((0,i.useState)(0),2),t=e[0],n=e[1],o=(0,i.useCallback)(function(){n(0)},[]);return{popupHeight:t,handlePopupShow:(0,i.useCallback)(function(e){n(e)},[]),handlePopupHide:o}}},86297:function(e,t,n){n.d(t,{H:function(){return Z}});var r,i,o=n(5377),a=n(2787),u=n(17505),s=n(79066),c=n(6586),l=n(72516),d=n(11186),p=n(48631),f=n(40099),v=n(43264),g=n(13610),_=n(48748),h=n(95170),m=n(7120),y=function(e){function t(){return(0,h._)(this,t),(0,_._)(this,t,arguments)}(0,m._)(t,e);var n=t.prototype;return n.getActionType=function(){return p.W9.LOGOUT},n.processData=function(e){this.dataModel=JSON.parse(e)},n.executeAction=function(){window.location.href="https://www.tiktok.com/logout"},t}(p.Yg),A=function(e){function t(){return(0,h._)(this,t),(0,_._)(this,t,arguments)}return(0,m._)(t,e),t.prototype.createAction=function(){return new y},t}(p.tL),b=n(18499),w="pns-communication-service",L=((r={}).CALLBACK="callback",r.H5="h5",r),S=((i={}).INFO="info",i.ACTION="action",i),T=n(99247);function k(e){var t=e.link,n=e.lang;return t.replace("${locale}",n)}function P(e){if(e)return{url:e,width:"auto",height:"48px"}}var I=n(90542),C=function(e){var t=e.data,n=e.uiConfig,r=n.isDark,i=n.direction,o=n.showFullSideNav,u=n.debug,s=n.deploymentRegion;return t&&(0,a.Y)(T.GP,{eventReport:I.f.event.bind(I.f),pnsPopupConfig:t,colorScheme:r?"dark":"light",textDirection:void 0===i?"ltr":i,componentConfig:o?{pcBanner:{topOffset:"0"}}:void 0,monitorConfig:{sdkConfig:{bid:"pns_communication_service",debug:u,appId:1988,deploymentRegion:s}}})},M=function(e){function t(e){var n;return(0,h._)(this,t),(n=(0,_._)(this,t))._onActionCallback=function(e,t){if(t.callback){var r={business:e.business,policy_version:e.policyVersion,style:n._style,extra:t.extra,operation:t.operation};p.Ay.sendCallbackRequest(r)}},n._onDismissCallback=function(){n.completeAction()},n._uiConfig=e,n}(0,m._)(t,e);var n=t.prototype;return n.getActionType=function(){return p.W9.POPUP},n._generatePopupDataV1=function(e){var t={eventInfo:{style:e.style,business:e.business},popupType:e.style,title:e.title,icon:P(e.icon_url),iconDark:P(e.icon_url_dark),body:function(e){var t=e.lang,n=e.body,r=e.bodyLinks;if(n){if(!r||0===r.length)return[{type:T.Vq.TEXT,text:n}];var i=[],o=0,a=/%s/g;return r.forEach(function(e){var r,u=e.name,s=e.link,c=void 0===s?"":s,l=e.operation,d=e.dismiss,p=e.approve,f=e.new_web_tab,v=e.extra,g=e.link_type,_=e.color,h=a.exec(n);if(h){var m=k({link:c,lang:t}),y=g===L.CALLBACK||p;r=c?f?T.Uc.LINK_EXTERNAL:T.Uc.LINK_INTERNAL:"";var A={type:c?T.Vq.LINK:T.Vq.BUTTON,text:u,link:m,linkType:f?T.J.EXTERNAL:T.J.INTERNAL,action:{actionType:r,link:m,dismiss:!!(p||d),callback:y,extra:v,operation:l},color:_};i.push({type:T.Vq.TEXT,text:n.slice(o,h.index)}),i.push(A),o=Number(h.index)+h[0].length}}),i.push({type:T.Vq.TEXT,text:n.slice(o)}),i}}({lang:this.lang,body:e.body,bodyLinks:e.body_link_list}),buttons:function(e){var t=e.lang,n=e.first_button_highlight,r=e.rawButtons;if(0!==r.length){var i=[];return r.forEach(function(e,r){var o,a=e.text,u=e.is_bold,s=e.link_type,c=e.link,l=e.extra,d=e.approve,p=e.operation,f=e.dismiss,v=e.dismiss_all,g=e.new_web_tab,_=e.is_close_style,h=s===L.CALLBACK||d;o=c?g?T.Uc.LINK_EXTERNAL:T.Uc.LINK_INTERNAL:"";var m={text:a,isCloseStyle:_,isBold:!!u,isHighlight:0===r&&n,link:c?k({link:c,lang:t}):void 0,linkType:g?T.J.EXTERNAL:T.J.INTERNAL,action:{actionType:o,link:c?k({link:c,lang:t}):void 0,dismiss:!!(d||f||v),callback:h,extra:l,operation:p}};i.push(m)}),i}}({lang:this.lang,first_button_highlight:!!e.first_button_highlight,rawButtons:e.actions||[]})};return this._style=e.style,t},n._processV1ResData=function(e){return{metaData:{business:e.business,popup_id:e.business,policyVersion:e.policy_version},popupData:this._generatePopupDataV1(e),callback:{onAction:this._onActionCallback,onDismiss:this._onDismissCallback}}},n._generateBlocks=function(e){var t=this,n=[];return e.forEach(function(e){var r={marginLeft:null==(o=e.format)?void 0:o.margin_left,marginRight:null==(a=e.format)?void 0:a.margin_right,marginTop:null==(u=e.format)?void 0:u.margin_top,marginBottom:null==(s=e.format)?void 0:s.margin_bottom,paddingLeft:null==(c=e.format)?void 0:c.padding_left,paddingRight:null==(l=e.format)?void 0:l.padding_right,paddingTop:null==(d=e.format)?void 0:d.padding_top,paddingBottom:null==(p=e.format)?void 0:p.padding_bottom,cornerRadius:null==(f=e.format)?void 0:f.corner_radius,cornerPosition:null==(v=e.format)?void 0:v.corner_position},i=new Map;switch(e.type){case S.ACTION:[{name:"action_left",rawAction:null==(g=e.elements)?void 0:g.action_left},{name:"action_center",rawAction:null==(_=e.elements)?void 0:_.action_center},{name:"action_right",rawAction:null==(h=e.elements)?void 0:h.action_right}].forEach(function(e){var n=e.name,r=e.rawAction;if(r){var o,a,u,s,c,l,d,p,f,v,g,_,h={subtype:null!=(v=r.subtype)?v:"",action:{actionType:null!=(g=null==(a=r.action)||null==(o=a.action_type)?void 0:o[0])?g:"",actionId:null==(u=r.action)?void 0:u.id,link:k({link:null!=(_=null==(s=r.action)?void 0:s.link)?_:"",lang:t.lang}),dismiss:null==(c=r.action)?void 0:c.dismiss,defaultOn:null==(l=r.action)?void 0:l.default_on,callback:null==(d=r.action)?void 0:d.callback,extra:null==(p=r.action)?void 0:p.extra,isHighlighted:null==(f=r.action)?void 0:f.is_highlighted},text:r.text};i.set(n,h)}});break;case S.INFO:default:if(null==(m=e.elements)?void 0:m.content){var o,a,u,s,c,l,d,p,f,v,g,_,h,m,y,A=e.elements.content,b={subtype:null!=(y=A.subtype)?y:"",text:A.text,font:A.font,align:A.align,iconUrl:A.icon_url,iconUrlDark:A.icon_url_dark,iconStyle:A.icon_style,groupId:A.group_id,bodyLinks:function(e){var t=e.links,n=e.lang;if(t&&0!==t.length){var r=[];return t.forEach(function(e){var t,i,o,a=e.text,u=e.action,s={name:a,action:{actionType:null!=(i=null==(t=u.action_type)?void 0:t[0])?i:"",actionId:u.id,link:k({link:null!=(o=u.link)?o:"",lang:n}),dismiss:u.dismiss,defaultOn:u.default_on,callback:u.callback,extra:u.extra,operation:u.operation,isHighlighted:u.is_highlighted}};r.push(s)}),r}}({links:A.body_links,lang:t.lang})};i.set("content",b)}}var w={id:e.id,type:e.type,format:r,elements:i};n.push(w)}),n},n._generateBlockData=function(e){var t,n,r,i={topPinnedBlocks:this._generateBlocks(null!=(t=e.top_pinned_blocks)?t:[]),blocks:this._generateBlocks(null!=(n=e.blocks)?n:[]),bottomPinnedBlocks:this._generateBlocks(null!=(r=e.bottom_pinned_blocks)?r:[]),style:e.style,upperRightClose:e.upper_right_close,upperLeftBack:e.upper_left_back,dismissOutside:e.dismiss_click_outside};return this._style=e.style,i},n._processV2ResData=function(e){var t,n,r,i;return{metaData:{business:null==(t=e.popup_meta)?void 0:t.business,popup_id:null==(n=e.popup_meta)?void 0:n.popup_id,policyVersion:null!=(i=null==(r=e.popup_meta)?void 0:r.version)?i:""},blockData:this._generateBlockData(e.popup_ui),callback:{onAction:this._onActionCallback,onDismiss:this._onDismissCallback}}},n.processData=function(e){var t=JSON.parse(e),n=t.popup_responses,r=t.policy_notices;n&&0!==n.length?this.dataModel=this._processV2ResData(n[0]):r&&0!==r.length&&(this.dataModel=this._processV1ResData(r[0]))},n.executeAction=function(){var e=document.getElementById(w),t=(0,a.Y)(C,{data:this.dataModel,uiConfig:this._uiConfig});if(e)b.render(t,e);else throw Error("popup action error: no root element found")},t}(p.Yg),E=function(e){function t(e){var n;return(0,h._)(this,t),(n=(0,_._)(this,t))._uiConfig=e,n}return(0,m._)(t,e),t.prototype.createAction=function(){return new M(this._uiConfig)},t}(p.tL),O=n(57198),V=function(){var e,t,n=(0,O.v)().initCommunicationServiceSDK,r=(0,d.u)(),i=r.isDark,o=r.direction,_=(0,u.vYE)().showFullSideNav,h=(null!=(e=(0,v.W)(function(){return["env"]},[]))?e:{}).env,m=(null!=(t=(0,g.U)(function(){return["vregion"]},[]))?t:{}).vregion,y=(0,c._)((0,f.useState)(!1),2),b=y[0],L=y[1];return(0,f.useEffect)(function(){L(n()),p.Ay.registerActionFactory([{key:p.W9.POPUP,instance:new E({showFullSideNav:_,isDark:i,direction:o,debug:(null==h?void 0:h.type)==="boe"||(null==h?void 0:h.type)==="ppe",deploymentRegion:"-"!==m?m:void 0})},{key:p.W9.LOGOUT,instance:new A}])},[n,i,o,_,h,m]),(0,f.useEffect)(function(){b&&(0,s._)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,p.Ay.execute(p.aZ.COLD_START)];case 1:return t.sent(),(e=document.createElement("div")).id="pns-communication-ready",document.body.appendChild(e),[2]}})})()},[b]),(0,a.Y)("div",{id:w})},x=n(72699),R=n(41386),F=n(54333),U=n(98902),j=n(40250),D=function(){var e=(0,O.v)().initCommunicationServiceSDK,t=(0,j.$)(),n=(0,x.Tf)("account_control"),r=(0,x.Tf)("user_notice"),i=(0,F._)(n).concat((0,F._)(r)),o=i.map(function(e){return e.processor}),a=(0,c._)((0,f.useState)(!1),2),u=a[0],s=a[1];(0,f.useEffect)(function(){var e=document.body;if(e){var t=new MutationObserver(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if("childList"===u.type){var c=!0,l=!1,d=void 0;try{for(var p,f=u.addedNodes[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var v=p.value;if((0,R._)(v,HTMLDivElement)&&"pns-communication-ready"===v.id){s(!0),t.disconnect();break}}}catch(e){l=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}});return t.observe(e,{childList:!0,subtree:!0}),function(){return t.disconnect()}}},[]),(0,f.useEffect)(function(){e()},[e]),(0,f.useEffect)(function(){t&&u&&o.forEach(function(e){switch(e){case"PopupAPIProcessor":var t=i.find(function(e){return"PopupAPIProcessor"===e.processor});p.Ay.execute(p.aZ.PULL,{extra:null==t?void 0:t.params});break;case"LogoutProcessor":var n=i.find(function(e){return"LogoutProcessor"===e.processor});if(n&&"LogoutProcessor"===n.processor)try{var r,o=JSON.parse(null!=(r=n.params)?r:"{}");(null==o?void 0:o.webapp)&&((0,j.c)(),(0,U.i)())}catch(e){}}})},[t].concat((0,F._)(o),[u]))},W=function(){return(0,x.E)(),D(),null},B=n(8707),q=n(96057),N=n(26790),$=function(e){var t,n,r=e.onHide,i=e.hideByDefault,o=(0,f.useRef)(!1),s=(0,c._)((0,f.useState)(!1),2),l=s[0],p=s[1],_=(0,f.useCallback)(function(){null==r||r(),p(!1)},[r]),h=null!=(t=(0,v.W)(function(){return["language","wid","region"]},[]))?t:{},m=h.language,y=h.wid,A=h.region,b=(null!=(n=(0,g.U)(function(){return["isMobile"]},[]))?n:{}).isMobile,w=(0,d.u)(),L=w.isDark,S=w.direction,k=(0,u.vYE)().showFullSideNav,P=(0,f.useCallback)(function(e){o.current||(o.current=!0,(0,T.Fd)({scene:555,extra:JSON.stringify(e)}).catch(null))},[]),C=(0,f.useCallback)(function(e){(0,T.Fd)({scene:555,extra:JSON.stringify(e)}).catch(null)},[]);if((0,f.useEffect)(function(){return N.LZ.on(N.Rh,(0,q.A)(P,2e3)),N.LZ.on(N.gk,(0,q.A)(C,2e3)),function(){N.LZ.clear(N.Rh),N.LZ.clear(N.gk)}},[P,C]),!y||!A||!m)return null;var M={appId:1988,wid:y,isMobile:b,region:A,lang:m,apiDomain:"https://www.tiktok.com",apiPath:B.POPUP_API_V1};return(0,a.Y)("div",{id:"web-universal-popup",children:(0,a.Y)(T.IC,{eventReport:I.f.event.bind(I.f),noFetchDataAtInit:i,SDKConfig:M,visible:l,colorScheme:L?"dark":"light",textDirection:S,onReadyToClose:_,onReadyToShow:function(){return p(!0)},componentConfig:k?{pcBanner:{topOffset:"0"}}:void 0})})},Z=function(e){return(0,u.KKS)()?(0,a.FD)(a.FK,{children:[(0,a.Y)(V,{}),(0,a.Y)(W,{})]}):(0,a.Y)($,(0,o._)({},e))}},87339:function(e,t,n){n.d(t,{B9:function(){return c},OK:function(){return u},Pl:function(){return l},Rj:function(){return a},Rp:function(){return s},Vb:function(){return d}});var r=n(79066),i=n(6586),o=n(72516);function a(e,t){var n=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,u=Object.entries(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=(0,i._)(a.value,1)[0],c="".concat(s,"=").concat(encodeURIComponent(e[s]));t.push(c)}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return t.join("&")}(t);return e.indexOf("?")>-1?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n)}function u(e,t){var n={},r=function(e){if("string"!=typeof e)return e;var t={};try{t=JSON.parse(e)}catch(e){return{}}return t}(e),o=!0,a=!1,u=void 0;try{for(var s,c=Object.entries(r)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=(0,i._)(s.value,1)[0],d=r[l];if("string"==typeof d){for(var p,f=d.split("."),v=t;f.length>0&&void 0!==v;)v=v[null!=(p=f.shift())?p:""];n[l]=v}}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}return n}function s(e,t){if(void 0!==t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(t===u.reason_code)return u}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}return null}function c(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function l(e){return["live","live_comment","live_star_comment"].includes(e)}var d=function(e,t,i){if(null==t||!t.need_captcha||null==t||!t.decision_conf)return Promise.resolve();var a,u=JSON.parse(t.decision_conf).region;switch(u){case"ttp":case"ttp2":a=n.e("99513").then(n.bind(n,10906));break;case"in":case"ie":case"ie2":a=n.e("53174").then(n.bind(n,17819));break;default:a=n.e("5643").then(n.bind(n,41002))}null==a||a.then(function(n){return(0,r._)(function(){var r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:return[4,n.getFp()];case 1:return r=o.sent(),n.init({commonOptions:{aid:1988,iid:"0",did:e},captchaOptions:{fp:r,showMode:"mask",successCb:function(){console.log("verification passed, retry report"),null==i||i()}}},function(){console.log("verification sdk (region: ".concat(u,", wid: ").concat(e,") initialize successfully"))},function(t){console.log("verification sdk (region: ".concat(u,", wid: ").concat(e,") initialize failed"),t)}),n.render({verify_data:t.decision_conf}),[2]}})})()})}},17505:function(e,t,n){n.d(t,{EgB:function(){return tT},vpk:function(){return tL},Vs9:function(){return t$},oJW:function(){return H},qlL:function(){return t7},tcM:function(){return ep},Q5W:function(){return te},gR3:function(){return G},E1k:function(){return tu},Fly:function(){return e$},lZ1:function(){return t_},ZOE:function(){return eL},lwy:function(){return ne},$r3:function(){return eA},cVR:function(){return tW},Dd5:function(){return t8},XRV:function(){return no},k05:function(){return tf},M4n:function(){return ea},aUT:function(){return t5},oJN:function(){return tN},Ftt:function(){return t0},cEO:function(){return B},W8W:function(){return ns},fHK:function(){return e4},jwS:function(){return eD},prK:function(){return e9},rqU:function(){return tt},eZs:function(){return e2},tUU:function(){return tY},RC$:function(){return eT},c8:function(){return tU},ZTF:function(){return tw},QNq:function(){return tg},FIz:function(){return tO},NYA:function(){return K},MpA:function(){return ni},mzi:function(){return t6},ejr:function(){return nu},BMt:function(){return eP},EqO:function(){return eQ},scK:function(){return t3},oc:function(){return ev},uVZ:function(){return j},o53:function(){return t9},ZOK:function(){return eR},ZJN:function(){return t4},Kjk:function(){return ej},eb3:function(){return eS},JBK:function(){return ee},xK7:function(){return tF},bb3:function(){return nn},JXM:function(){return eq},wXb:function(){return eW},KSM:function(){return en},WOe:function(){return Y},mf1:function(){return tM},APT:function(){return eF},URi:function(){return tQ},fsB:function(){return e5},Pl8:function(){return e1},QFN:function(){return na},tcd:function(){return el},gyO:function(){return tH},rlS:function(){return tV},ykb:function(){return eY},PV8:function(){return ex},niO:function(){return U},acM:function(){return Q},vkb:function(){return tK},Jlu:function(){return e8},Whe:function(){return Z},sFF:function(){return eb},tj4:function(){return tI},s0Q:function(){return ez},reW:function(){return tX},kbv:function(){return eu},ulz:function(){return eE},ylw:function(){return tl},nI2:function(){return nc},fHb:function(){return tv},WE4:function(){return e0},zyj:function(){return tS},kwr:function(){return ed},Gey:function(){return tA},HhM:function(){return eO},lPE:function(){return eo},hn:function(){return eZ},Pk:function(){return tP},mTt:function(){return tk},euY:function(){return eB},$4L:function(){return tC},EoX:function(){return D},TFl:function(){return tJ},YZ5:function(){return to},AdC:function(){return eU},ngG:function(){return e3},Yud:function(){return ef},pdh:function(){return ey},jCA:function(){return eJ},QYZ:function(){return ti},QcT:function(){return e_},OQi:function(){return tn},vYE:function(){return tE},JAg:function(){return tG},vh1:function(){return tc},Vns:function(){return tx},bbb:function(){return nt},pJf:function(){return tz},izJ:function(){return eV},pCP:function(){return tb},c89:function(){return es},Vv$:function(){return e6},tYB:function(){return td},kTC:function(){return eN},Sc:function(){return N},q6o:function(){return ec},zDU:function(){return eC},KKS:function(){return tq},ycN:function(){return tp},d18:function(){return eM},HWN:function(){return tZ},l28:function(){return er},u98:function(){return W},NF3:function(){return ts},aLB:function(){return eK},xZG:function(){return z},Rym:function(){return J},VgG:function(){return eg},kbf:function(){return q},iM7:function(){return em},FTg:function(){return eI},EyK:function(){return tj},r6I:function(){return ek},JcC:function(){return et},W3$:function(){return ei},bx6:function(){return tr},O_v:function(){return ew},lYd:function(){return t1},_og:function(){return eX},y9g:function(){return X},W4t:function(){return $},HLh:function(){return tD},Fb5:function(){return tB},Kg7:function(){return eG},fyk:function(){return e7},ZC0:function(){return eh},gQs:function(){return ta},QzJ:function(){return t2},aOe:function(){return tR}});var r=n(5377),i=n(45996),o=n(6586),a=n(54333),u=n(85943),s=n(40099),c=n(10874),l=n(76446),d=n(94553),p=n(89786),f=n(90314),v=n(41199),g=n(71443),_=n(59952),h=n(87803),m=n(92908),y=n(54363),A=n(72961),b=n(43264),w=n(13610),L=n(66463),S=n(88947),T=n(78807),k=n(87425),P=n(95794),I=n(287),C=n(46217),M=n(55778),E=n(47291),O=n(10436),V=n(51794),x=n(61735),R=n(1561),F="abTestVersion",U=function(){var e;return"v0"!==(null!=(e=(0,y.d)("core_ux_fix"))?e:"v0")},j=function(){return(0,s.useMemo)(U,[])};function D(){return{isMobileUiOptimize:!(0,O.Qt)().isSmartPlayer}}function W(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion;return{newTTStudioDesignEnabled:"v1"===(null!=(e=(0,y.qt)(t,"redesign_studio_entry_on_tt_web"))?e:"v0")}}var B=function(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion;return{hasNonPersonalizedMenu:"v2"===(null!=(e=(0,y.qt)(t,h.W$))?e:"v1")}},q=function(e){var t,n,r=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,i=null!=(t=(0,y.qt)(r,"desktop_ui_reply"))?t:"v1",o=null!=(n=(0,y.qt)(r,"desktop_avatar_nick_name"))?n:"v1",a=(0,y.TQ)("desktop_ui_opt_debug")&&!e,u="v5"===i,s="v6"===i;return{shouldAvatarShowNickName:"v2"===o,shouldOptimizeCta:"v2"===i||u,allowRightPanelScroll:u||s,shouldOptimizeReply:u||s,onlyOptimizeCta:"v2"===i,shouldShowCommentsCnt:"v2"===i||"v3"===i||u||s,isDesktopUiOptDebugOn:a,shouldIncludeV3V4:s}};function N(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,n=(0,A.L$)((0,w.U)(function(){return["videoPlayerConfig"]},[])).videoPlayerConfig;return{isUseNativePlayer:null==n?void 0:n.fallback,adaptBitrateVid:null!=(e=(0,y.qt)(t,"video_bitrate_adapt"))?e:"v1"}}function $(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion;return null!=(e=(0,y.qt)(t,"xg_volume_test"))?e:"v1"}function Z(){var e,t,n=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"feed_scroll_opt"))?e:"v0";return{hasLimitedItem:"v1"===r,hasMultiPlayerIns:"v2"===(null!=(t=(0,L.S)(n,"multiple_ins_model"))?t:"v0"),hasOptForFeed:"v1"===r}}function z(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"multiple_ins_new"))?e:"v0",r=(0,m.fL)().hardwareScore;return{hasRetainIns:"v4"===n&&r>8.5,hasBackupIns:"v1"===n||"v2"===n&&r>=5||"v3"===n&&r>=6||"v4"===n}}function G(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"remove_tooltip"))?e:"v0";return{removeUploadPop:"v1"===n,removeLivePop:"v1"===n,removeEditProfilePop:"v1"===n,removeOtherPop:"v4"===n,removeShortcutPop:"v5"===n}}function K(){return{playerInitHost:(0,A.L$)((0,w.U)(function(){return["xgplayerInitHost"]},[])).xgplayerInitHost}}function H(){var e=(0,A.L$)((0,w.U)(function(){return["videoOrder"]},[])).videoOrder;return{videoOrder:null==e?void 0:e.videoOrder}}function Q(){var e=(0,c.useLocation)().pathname,t=(0,x.Ig)()?"v1":"v2",n=(0,S.Fj)(e),r="v1"!==t,i="v1"!==t;return{isVideoPlayerOptimization:r,hasPip:i,isUIOptimization:!1,isVideoDetailUIOptimization:!1,hasVideoDetailPip:i&&n,isVideoDetailExperiment:"v1"!==t&&n,isVideoDetailPlayerExperiment:r&&n}}var Y=function(e){if(!e)return{};var t=e.id,n=e.type,r=e.isClaimed,i=e.cityCode,o=e.countryCode,a=e.ttTypeNameSuper,u=e.ttTypeNameMedium,s=e.ttTypeNameTiny,c=e.ttTypeCode,l=e.typeCode;return{poi_id:t,poi_backend_type:n,poi_detail_type:g.Af[null!=n?n:0],is_claimed:+!!r,poi_city:i,poi_region_code:o,tt_poi_backend_type:"".concat(a,",").concat(u,",").concat(s,"|").concat(c),poi_type_code:l}},J=function(e){var t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(t=(0,y.qt)(n,"explore_ui_change"))?t:"v0";return{isClearUI:"v1"===r&&e,withCreator:"v1"!==r&&"v0"!==r&&e,withLike:("v3"===r||"v4"===r)&&e,withBack:"v4"===r&&e,withDes:("v4"===r||"v0"===r)&&e,withNoLeftInfo:"v2"===r}},X=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion","language"]},[])),n=t.abTestVersion,r=t.language,i=null!=(e=(0,y.qt)(n,"search_preview_ui_change"))?e:"v0";return("hu-HU"===r||"hu"===r)&&"v3"===i&&(i="v0"),{withLikeAndCreator:"v1"===i||"v2"===i||"v3"===i,removeDesc:"v1"===i,withOneLineDesc:"v2"===i||"v3"===i,withPublishTime:"v3"===i}},ee=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"foryou_opt"))?e:"v0";return{hasFypLoadingOpt1:"v1"===n,hasFypLoadingOpt2:"v2"===n}},et=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"seo_preview_ui_change"))?e:"v0")},en=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,L.S)(t,"perf_blur_background"))?e:"v0",r=(0,s.useMemo)(function(){return{withBlurBG:"v0"===n,withNoBG:"v1"===n,withLinearGradientBG:"v2"===n||"v3"===n,withLinearGradientBlueBG:"v3"===n,withLinearGradientBlackBG:"v2"===n}},[n]);return{withBlurBG:r.withBlurBG,withNoBG:r.withNoBG,withLinearGradientBG:r.withLinearGradientBG,withLinearGradientBlueBG:r.withLinearGradientBlueBG,withLinearGradientBlackBG:r.withLinearGradientBlackBG}};function er(){var e,t=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,n=(0,c.useLocation)().pathname,r=null==t?void 0:t.versionName.split(",");return{isInHorizontalBoostUI:null!=(e=null==r?void 0:r.includes("71188781"))&&e&&((0,S.tO)(n)||(0,S.gq)(n))}}var ei=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"islands_arch_user_profile"))?e:"v0";return{delayUntilAnyItem:"v1"===n,delayUntilFirstItem:"v2"===n}},eo=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{hasCommonVideoFirst:"v1"===(null!=(e=(0,y.qt)(t,"islands_arch_rest_page"))?e:"v0")}},ea=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isOpenNewTab:"v2"===(null!=(e=(0,y.qt)(t,"webapp_browser_mode_new_tab"))?e:"v1")}},eu=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v2"===(null!=(e=(0,y.qt)(t,"sidenav_test"))?e:"v1")},es=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"webapp_auto_refresh"))?e:"v1";return{refreshWhenExpireAndEmpty:"v2"===n,refreshInAllCase:"v3"===n}},ec=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{useEnlargedVideoPlayer:"v1"!==(null!=(e=(0,y.qt)(t,"one_column_player_size"))?e:"v1"),useCenterAligned:!1,useWiderContainerSize:!1}},el=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v2"===(null!=(e=(0,y.qt)(t,"use_follow_v2"))?e:"v1")},ed=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isInWebappPerfPageSwitchExperiment:"v0"!==(null!=(e=(0,y.qt)(t,"webapp_perf_page_switch"))?e:"v0")}},ep=function(){var e,t,n=(0,T.B)().isElectronApp,r=(0,c.useLocation)().pathname,i=(0,M.oN)(r),o=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,a=i===d.L.Trending,u=null!=(e=(0,y.qt)(o,a?"on_device_ml_player_preload":"on_device_ml_player_preload_other_pages"))?e:{vid:"v0"},s=(0,R.qo)().isLowEndDevice,l=null!=(t=null==u?void 0:u.vid)?t:"v0",p=!n&&"undefined"!=typeof WebAssembly&&!s;return{playerPreloadPredictStrategy:u,disablePreloadPredict:"v0"===l,enablePlayerPreloadPredict:("v1"===l||"v2"===l)&&p,enablePlayerPreloadDowngradePredict:"v3"===l||"v0"!==l&&!p}},ef=function(){var e,t,n,i,o=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,a=(0,y.qt)(o,"tt_player_reuse")||"v0",u=(0,y.qt)(o,"tt_player_openmse")||"v0",s=(0,y.qt)(o,"tt_player_hevc")||"v0",c=(0,y.qt)(o,"tt_player_event_trigger")||"v0",l=ep().disablePreloadPredict,d=(0,_.PU)(),p=null!=(e=(0,y.qt)(o,"tt_player_preload"))?e:{vid:"v0",maxQueueCount:3,preloadMaxCacheCount:5,preloadTime:10,segmentMinDuration:10,minBufferLength:10,startPreloadControl:!1,startPreloadMinBuffer:0,startPreloadMinPosTime:0},f=l?p:(0,r._)({},p,d),v=null!=(t=(0,y.qt)(o,"ttplayer_bitrate_select"))?t:{vid:"v0",selector:"default",qualityType:20,hevcQualityType:14},g=(0,y.qt)(o,"ttplayer_bitrate_select_v2"),h=(0,y.qt)(o,"ttplayer_audio_equalizer"),m=null!=(n=(0,y.qt)(o,"tt_player_upgrade"))?n:{vid:"v0",playerType:"XG"},w=(0,y.qt)(o,"tt_player_upgrade_preload"),L=(0,y.qt)(o,"tt_player_request"),S=(0,y.qt)(o,"tt_player_preview"),T=(0,y.qt)(o,"tt_player_stuck"),k=(0,y.qt)(o,"tt_player_demux"),P=(0,y.qt)(o,"tt_player_eos"),I=(0,y.qt)(o,"tt_player_autoseek");return{playerReuse:a,playerPreload:f,bitrateSelect:g||v,playerHevc:s,playerUpgrade:m,playerUpgradePreload:w,playerOpenMse:u,eventTrigger:c,playerDash:null!=(i=(0,y.qt)(o,"tt_player_dash"))?i:{vid:"v0",format:"MP4"},audioEqualizer:h,playerRequest:L,previewConfig:S,playerDemux:k,playerStuck:T,playerEos:P,playerAutoSeek:I,preloadType:+("v1"===((0,y.qt)(o,"tt_player_preload_type")||"v0")),playerPoolControl:(0,y.qt)(o,"tt_player_poolcontrol")}},ev=function(){var e;return(null!=(e=(0,y.d)("tt_player_dash"))?e:{vid:"v0",format:"MP4"}).format.toLowerCase()},eg=function(){var e;return null!=(e=(0,y.d)("tt_player_firstframe"))?e:"v0"},e_=function(){var e;return null!=(e=(0,y.d)("tt_player_video_play"))?e:""},eh=function(){var e={};return[{key:"tt_player_h265soft",retKey:"playerH265Soft"}].forEach(function(t){var n=(0,k.OW)(t.key,{});n.vid&&(e[t.retKey]=n)}),e},em=function(e){var t={open:!1,qualityType:20,vid:"v0",closePreload:!1,testKey:"none"},n=["hevc_device_edge_low","hevc_device_edge_high","hevc_device_chrome_low","hevc_device_chrome_high","hevc_device_test"];if("desktop"===e){if("undefined"==typeof window)return t;for(var r=null,i="none",o=0;o<n.length;o++)if((r=(0,k.OW)(n[o],{})).vid&&"v1"!==r.vid){i=n[o];break}if(null==r?void 0:r.vid)return r.testKey=i,r}return t},ey=function(e){if("undefined"==typeof window||"desktop"!==e)return"";var t=[];return["hevc_device_test","hevc_device_edge_low","hevc_device_edge_high","hevc_device_chrome_low","hevc_device_chrome_high","tt_player_h265soft"].forEach(function(e){var n=(0,k.HL)(e,{vid:""});n&&t.push(n)}),t.join(",")},eA=function(e){var t,n=e.enterFrom,r=e.linkIncludeVid,i=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,o=null!=(t=(0,y.qt)(i,"studio_web_eh_entrance_v3"))?t:"v1",a="https://effecthouse.tiktok.com/download?utm_source=tiktok_webapp_main";return n&&(a="".concat(a,"&enter_from=").concat(n)),r&&(a="".concat(a,"&utm_campaign=ttweb_entrance_").concat(o)),{showEhEntrance:!0,entranceVariant:o,ehLink:a}},eb=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isAutoScrollReposition:"v0"!==(null!=(e=(0,y.qt)(t,"autoscroll_reposition"))?e:"v0")}},ew=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v0"!==(null!=(e=(0,y.qt)(t,"banner_ad_enable"))?e:"v1")},eL=function(){var e=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,t=(0,y.qt)(e,"project_ace_control");return"v0"===t||"v1"===t},eS=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"add_profile_left_bar"))?e:"v0";return{showProfileLeftBar:"v1"===n||"v3"===n,enableClickTopRightIcon:"v2"===n||"v3"===n}},eT=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion","user"]},[])),n=t.abTestVersion,r=t.user;return"v1"===(null!=(e=(0,y.qt)(n,"friends_tab"))?e:"v0")&&!!r},ek=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"video_detail_reflow_card"))?e:"v0")},eP=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"yml_ui_optimize"))?e:"v0";return{isCoverImageChanged:"v1"===n,isMetaDataChanged:"v2"===n,isCoverImageAndMetaDataChanged:"v3"===n}},eI=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"guide_user_to_next_video"))?e:"v0";return{isVideoDetailPage:"v1"===n,isFYP:"v2"===n}},eC=function(){var e=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,t=(0,L.S)(e,"video_detail_end_card");return{toCreatorEndCard:"v1"===t||!t,toForyouEndCard:"v2"===t||!t,toExploreEndCard:"v3"===t}},eM=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"detail_to_explore"))?e:"v0";return{inExploreEndCardExperiment:"v0"!==n,isExploreEndCardFourVideo:"v1"===n||"v2"===n,isExploreEndCardCategoryAll:"v2"!==n&&"v4"!==n}},eE=function(){var e,t,n,r,i=(0,E.wW)(),o=null!=(n=null==i?void 0:i.vidList)?n:[],u=(0,b.W)(function(){return["abTestVersion"]},[]),s=null!=(r=null==u||null==(t=u.abTestVersion)||null==(e=t.versionName)?void 0:e.split(","))?r:[];return(0,a._)(o).concat((0,a._)(s))},eO=function(){var e=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,t=(0,y.qt)(e,"webapp_causal_inference_auto_scroll_data_collection");return{useAutoScrollModelResult:"v2"===t||"v3"===t}},eV=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"auto_scroll"))?e:"v1";return"v1"===n&&(0,P.sc)("auto_scroll"),{hasAutoScrollButton:"v1"!==n}},ex=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,L.S)(t,"preview_cover"))?e:"v0";return(0,s.useMemo)(function(){return"v1"===n},[n])},eR=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"show_aigc_label_web"))?e:"v0")},eF=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v2"===(null!=(e=(0,y.qt)(t,"use_profile_avatar"))?e:"v1")},eU=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"pc_non_personalized_suggested_account"))?e:"v0")},ej=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"pc_non_personalized_explore"))?e:"v0")},eD=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"use_aligned_copies"))?e:"v0";return{default:"v0"===n,solution1:"v1"===n,solution2:"v2"===n}},eW=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"desktop_web_survey_new"))?e:"v0",i=null!=(t=(0,y.qt)(n,"desktop_web_survey_old"))?t:"v0";return{shouldShowSurvey:"v0"!==r||"v0"!==i,isNewUser:"v0"!==r}},eB=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"enable_autoscroll_moremenu"))?e:"v0")},eq=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"enable_video_detail_moremenu_refactor"))?e:"v0";return{enableNewPopover:"v0"!==n,moveFullScreenToMoreMenu:"v1"===n||"v2"===n,showPopoverRightTopCorner:"v2"===n||"v3"===n}},eN=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v2"===(null!=(e=(0,y.qt)(t,"video_detail_page_video_play"))?e:"v1")},e$=function(){var e,t,n,r;return{isRepostLabelEnabled:"v0"!==(null!=(e=(0,y.d)("webapp_repost_label"))?e:"v0"),isRepostTabEnabled:"v0"!==(null!=(t=(0,y.d)("webapp_repost_tab"))?t:"v0"),repostActionVid:null!=(n=(0,y.d)("webapp_repost_action"))?n:"v0",isRepostNoticeEnabled:"v0"!==(null!=(r=(0,y.d)("webapp_repost_notice"))?r:"v0")}},eZ=function(){return e$()},ez=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"webapp_creator_post_sort"))?e:"v0";return{isPostSortBottomLeftEnabled:"v1"===n,isPostSortBottomMiddleEnabled:"v2"===n,isPostSortRightTwoOptionsEnabled:"v3"===n,isPostSortRightMenuEnabled:"v4"===n,isPostSortRightThreeOptionsEnabled:"v5"===n}},eG=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"webapp_creator_just_watched"))?e:"v0";return{isJustWatchedEnabled:"v0"!==n,isButtonPrimary:"v1"===n||"v3"===n,isButtonSizeLarge:"v3"===n||"v4"===n}},eK=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"guest_mode_redesign"))?e:"v0";return{showRedesign:"v0"!==n,buttonKey:function(e){switch(e){case"v1":default:return"pcWeb_guestLogin_contToVideo";case"v2":return"pcWeb_guestLogin_guest";case"v3":return"pcWeb_guestLogin_without"}}(n)}};function eH(e){var t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=(0,y.qt)(n,e),i=null!=(t=(0,y.qt)(n,"delay_guest"))?t:"2",o=u.A.get(V.er)||"";if(void 0!==o&&""!==o){var a=Number(o);return isNaN(a)?(console.error("Invalid vv limit: ".concat(o)),{vvLimit:Number(i)}):{vvLimit:a}}return void 0!==r?(u.A.set(V.er,r,V.Ah),{vvLimit:Number(r)}):{vvLimit:Number(i)}}var eQ=function(){var e=(0,c.useLocation)().pathname,t={delay_guest_fyp:eH("delay_guest_fyp"),delay_guest_others_homepage:eH("delay_guest_others_homepage"),delay_guest_videos:eH("delay_guest_videos"),delay_guest_discover:eH("delay_guest_discover"),delay_guest_explore:eH("delay_guest_explore"),delay_guest_other:eH("delay_guest_other")};if((0,S.tO)(e))return t.delay_guest_fyp;if((0,S.cj)(e))return t.delay_guest_others_homepage;if((0,S.Fj)(e))return t.delay_guest_videos;if((0,S.pz)(e))return t.delay_guest_discover;if((0,S.eD)(e))return t.delay_guest_explore;else return t.delay_guest_other},eY=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"video_detail_yml_ui"))?e:"v1";return{shouldSwapInfo:"v2"===n||"v4"===n,shouldListView:"v3"===n||"v4"===n}},eJ=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{hasPip:"v1"!==(null!=(e=(0,y.qt)(t,"video_detail_auto_pip_opt"))?e:"v0")}},eX=function(){var e,t="webapp_dynamic_bottom_right",n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,L.S)(n,t))?e:"v0",i=(0,s.useMemo)(function(){return{isInDynamicBottomRightExperiment:"v0"===r||"v1"===r||"v2"===r,isInDynamicBottomRightControl:"v0"===r,isInDynamicBottomRightFolded:"v1"===r,isInDynamicBottomRightExpanded:"v2"===r}},[r]);return{baseExpId:t,isInDynamicBottomRightExperiment:i.isInDynamicBottomRightExperiment,isInDynamicBottomRightControl:i.isInDynamicBottomRightControl,isInDynamicBottomRightFolded:i.isInDynamicBottomRightFolded,isInDynamicBottomRightExpanded:i.isInDynamicBottomRightExpanded}},e0=function(){var e,t="webapp_auto_dark_mode",n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,L.S)(n,t,!0))?e:"v0",i=(0,s.useMemo)(function(){return{isInAutoDarkModeExperiment:"v0"===r||"v1"===r,isInAutoDarkModeControl:"v0"===r,isInAutoDarkModeTreatment:"v1"===r}},[r]),o=i.isInAutoDarkModeExperiment;return{baseExpId:t,isInAutoDarkModeControl:i.isInAutoDarkModeControl,isInAutoDarkModeTreatment:i.isInAutoDarkModeTreatment,isInAutoDarkModeExperiment:o}},e1=function(){var e=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,t=(0,y.qt)(e,"browser_fingerprint_basic"),n=(0,y.qt)(e,"browser_fingerprint_verify");return{isInBasicTreatment:"v1"===t,isInVerification:"v0"===n||"v1"===n}},e3=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"top_right_button"))?e:"v0",r=(0,c.useLocation)().pathname,i=(0,S.tO)(r)||(0,S.gq)(r)||(0,S.K8)(r);return{isInTopRightButtonTreatment:"v0"!==n&&i,isInTopRightButtonLeftNavHide:("v2"===n||"v4"===n)&&i,isInTopRightButtonProfile:("v3"===n||"v4"===n)&&i}},e2=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=(0,A.L$)((0,w.U)(function(){return["isMobile"]},[])).isMobile,i=null!=(e=(0,y.qt)(n,"top_right_button_group"))?e:"v0",o=null!=(t=(0,y.qt)(n,"top_right_button_group_all"))?t:"v0",a=j(),u=(0,c.useLocation)(),s=u.pathname,l=new URLSearchParams(u.search),d=null==l?void 0:l.get("scene"),p=(0,S.pz)(s),f=((0,S.tO)(s)||(0,S.gq)(s)||(0,S.K8)(s))&&!r,v=((0,S.cj)(s)||(0,S.Fj)(s)&&("business"!==d||!a)||(0,S.eD)(s)||(0,S.a1)(s)||(0,S.ie)(s)||(0,S.q$)(s)||(0,S.jD)(s)||(0,S.ZG)(s))&&!r;return{isInTopRightButtonGroupTreatment:"v0"!==i&&f||"v0"!==o&&v||p,isConnectedActionBar:!0,isButtonGroupWithText:"v4"===i&&f}},e4=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=(0,A.L$)((0,w.U)(function(){return["isMobile"]},[])).isMobile;return{isInTopRightButtonGroupAllTreatment:"v0"!==(null!=(e=(0,y.qt)(t,"top_right_button_group_all"))?e:"v0")&&!n}},e9=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isInPushHoldout:"v1"===(null!=(e=(0,y.qt)(t,"push_holdout"))?e:"v0")}},e5=function(){var e,t,n,r=(0,A.L$)((0,b.W)(function(){return["abTestVersion","webIdCreatedTime","region"]},[])),i=r.abTestVersion,o=r.webIdCreatedTime,a=r.region,c=null!=(e=(0,y.qt)(i,"brazil_12hr_cumulative_play"))?e:"v0",l=(0,s.useMemo)(function(){return{hasLoginHistory:void 0!==u.A.get("last_login_method")}},[]).hasLoginHistory,d=(0,s.useMemo)(function(){try{var e=(0,P._S)("f_s_1","{}");if(!e||"{}"===e)return{hasExceededLimit:!1};var t=JSON.parse(e),n=0,r=0;for(var i in t)if(t[i]){var o=Object.values(t[i])[0];o&&"number"==typeof o.stay_duration&&o.stay_duration>0&&(n+=o.stay_duration,r++)}if(0===r)return{hasExceededLimit:!1};return{hasExceededLimit:n>720}}catch(e){return console.warn("Brazil cumulative stay duration calculation failed:",e),{hasExceededLimit:!1}}},[]).hasExceededLimit,p=null!=(t=(0,y.qt)(i,"login_reminder_no_history"))?t:"v0",f=null!=(n=(0,y.qt)(i,"login_reminder_with_history"))?n:"v0",v=void 0!==u.A.get("last_login_method");if("BR"===a&&"v1"===c)if(!l&&!d)return{isPeriodicLogin:!1,isMandatoryLogin:!1};else return{isPeriodicLogin:!1,isMandatoryLogin:!0};return(0,I.m)(o)?{isPeriodicLogin:!1,isMandatoryLogin:!1}:{isPeriodicLogin:"v1"===p&&!v||"v1"===f&&v,isMandatoryLogin:"v2"===p&&!v||"v2"===f&&v}},e7=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"keyboard_shortcut"))?e:"v0",r=(0,c.useLocation)().pathname,i=(0,S.tO)(r)||(0,S.gq)(r)||(0,S.K8)(r);return{isInKeyboardShortcutTreatment:"v0"!==n&&i,isInKeyboardShortcutV1:"v1"===n&&i,isInKeyboardShortcutV2:"v2"===n&&i}},e6=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"use_container_exp"))?e:"v0";return{isInProductHoldout:"v1"===n||"v3"===n,isInPerformanceHoldout:"v2"===n||"v3"===n}},e8=function(e,t){var n,r=(0,A.L$)((0,b.W)(function(){return[F]},[])).abTestVersion,i=null!=(n=(0,y.qt)(r,"tteh_effect_anchor_v1"))?n:"v1",o=[l.g.Trending,l.g.Effect,l.g.Video],a="v1"!==i&&o.includes(null!=t?t:l.g.Unknown),u=e;return a||(u=[]),{shouldShowEhEffectAnchor:a,effectAnchors:u,abVariant:i}},te=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"video_detail_yml_creator"))?e:"v0";return{useCreatorFeed:"v0"!==n,showPinnedVideos:"v2"===n}},tt=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion","user"]},[])),n=t.abTestVersion,r=t.user,i=null!=(e=(0,y.qt)(n,"video_detail_author_card"))?e:"v0";return r&&(i="v0"),{useAuthorCard:"v0"!==i,useLargeCard:"v3"===i,withCountDown:"v2"===i}},tn=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"video_detail_nav_opt"))?e:"v0",i=null!=(t=(0,y.qt)(n,"video_detail_nav_shortcut"))?t:"v0";return{pushHistory:"v1"===r||"v3"===r,newTabAndShortcut:"v1"===i||"v4"===i,enableShortcutFocusAddressBar:"v2"===i||"v4"===i,enableShortcutRefreshAndCopy:"v3"===i||"v4"===i,enableAllShortcut:"v4"===i}},tr=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"video_details_player_redesign_engagement"))?e:"v0",i=null!=(t=(0,y.qt)(n,"video_details_player_redesign_player"))?t:"v0",o="v0"!==r||"v3"===i,a=o&&"v1"!==r||"v3"===i,u="v0"!==i;return{showCurvedPlayerEdges:"v0"!==i||"v0"!==r,showFYPButtonStyle:o,moveCreatorIcon:a,moveEngagementPanel:a&&"v2"!==r||"v3"===i,updateButtonPanel:u,updatePlayerControls:u&&"v1"!==i}},ti=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"search_top_author_card"))?e:"v0";return{withFollowButton:"v0"!==n,withVideoList:"v2"===n}},to=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"search_photo"))?e:"v0";return{showPhotoInSearch:"v1"===n||"v3"===n,hasTopLikedLabel:"v2"===n||"v3"===n}},ta=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{count:null!=(t=({v0:10,v1:5,v2:8,v3:12})[null!=(e=(0,y.qt)(n,"search_yml_guess_count"))?e:"v0"])?t:10}},tu=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion","user"]},[])),n=t.abTestVersion,r=t.user,i=null!=(e=(0,y.qt)(n,"use_navigation_refactor"))?e:"v0";return{showUpload:!("v5"===i&&!r),condenseProfileDropdown:"v5"===i}},ts=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion","user"]},[])),r=n.abTestVersion,i=!!n.user;return{enableUploadRefactor:(null!=(e=(0,y.qt)(r,"enable_upload_refactor"))?e:"v0")==="v1"&&i,enableMessageRefactor:(null!=(t=(0,y.qt)(r,"enable_message_refactor"))?t:"v0")==="v1"&&i}},tc=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"use_left_navigation_refactor"))?e:"v0";return{showNewLiveIcon:"v1"===n||"v3"===n,isCollapsibleFooter:"v2"===n||"v3"===n}},tl=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"video_detail_responsive_ui"))?e:"v0";return{responsiveUi:"v0"!==n,showUserInfo:"v2"===n}},td=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{showOnHot:"v0"!==(null!=(e=(0,y.qt)(n,"new_guest_mode_hot"))?e:"v0"),showOnRest:"v0"!==(null!=(t=(0,y.qt)(n,"new_guest_mode_other"))?t:"v0")}},tp=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return null!=(e=(0,y.qt)(t,"webapp_explore_nav_order"))?e:"v0"},tf=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return null!=(e=(0,y.qt)(t,"webapp_explore_video_info"))?e:"v0"},tv=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"islands_arch_explore"))?e:"v0";return{delayAfterRender:"v1"===n,delayAfterVideoPlay:"v2"===n}},tg=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{hasTrendingCard:"v1"===(null!=(e=(0,y.qt)(t,"explore_trending_topics"))?e:"v0")}},t_=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"video_resolution_auto"))?e:"v0",r=(0,C.Zo)();return{allowSelectResolution:"v0"!==n&&r,defaultAuto:"v1"===n,useStoredResolution:"v2"===n,shouldResetResolution:"v0"===n}},th=function(){var e;return"v0"!==(null!=(e=(0,y.d)("webapp_collection_profile"))?e:"v0")},tm=function(){var e;return"v0"!==(null!=(e=(0,y.d)("webapp_collection_adder"))?e:"v0")},ty=function(){var e;switch(null!=(e=(0,y.d)("webapp_collection_adder"))?e:"v0"){case"v2":return{toastTheme:"dark",toastDuration:5e3};case"v3":return{toastTheme:"dark",toastDuration:8e3};default:return{toastTheme:"default",toastDuration:3e3}}},tA=function(){return(0,s.useMemo)(function(){return(0,r._)({isCollectionEnabled:th(),isAddToCollectionEnabled:tm(),popoverTriggerType:"bottomToast"},ty())},[])},tb=function(){return(0,s.useMemo)(function(){var e,t=null!=(e=(0,y.d)("fyf_profile_uj"))?e:"v0";return{isFyfProfileUjEnabled:"v0"!==t,cacheRange:"v2"===t?"after":"v3"===t?"all":"one",shouldCacheIndex:"v3"===t}},[])},tw=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{showNewCommentDesign:"v0"!==(null!=(e=(0,y.qt)(t,"detail_page_comments_redesign"))?e:"v0")}},tL=function(){var e,t,n=(0,E.wW)(),r=null!=(t=null==n||null==(e=n.parameters.seo_pc_traffic)?void 0:e.vid)?t:"v0",i=(0,A.L$)((0,w.U)(function(){return["isSearchEngineBot"]},[])).isSearchEngineBot;return{useInfoCard:["v1","v3"].includes(r)&&void 0!==i&&i,useHtmlTag:["v2","v3"].includes(r),useOnlineVersion:"v0"===r}},tS=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"fyp_on_detail"))?e:"v0";return{fypOnDetail:"v2"===n||"v3"===n||"v4"===n||"v5"===n,isFypContent:"v1"===n||"v4"===n||"v5"===n,hasAnimation:"v3"===n||"v5"===n,endCardCloseShowNext:"v0"===n}},tT=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{inWebappFypCacheExperiment:"v1"===(null!=(e=(0,y.qt)(t,"webapp_fyp_cache"))?e:"v0")}},tk=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{hasNewShareMenu:"v0"!==(null!=(e=(0,y.qt)(t,"revamp_share_menu"))?e:"v0")}},tP=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isInAppStyleShareExperiment:"v0"!==(null!=(e=(0,y.qt)(t,"app_style_share"))?e:"v0")}},tI=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v0"!==(null!=(e=(0,y.qt)(t,"remove_disclaimer"))?e:"v0")},tC=function(){var e,t=null!=(e=(0,y.d)("webapp_inapp_notice"))?e:"v0";return{isInAppNotificationEnabled:"v0"!==t,placement:"v1"===t||"v2"===t?"topEnd":"bottomEnd",layoutType:"v1"===t||"v3"===t?"withoutHeader":"withHeader"}},tM=function(){var e=(0,c.useLocation)(),t=e.pathname,n=e.search;return(0,s.useMemo)(function(){var e=tC();return(0,S.Pz)(t,n)||(e.isInAppNotificationEnabled=!1),e},[t,n])},tE=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"nav_phase_3"))?e:"v0",r="v1"===(0,y.qt)(t,"enable_dm_side_nav"),i="v1"===(0,y.qt)(t,"enable_setting_side_nav"),u=[p.OZ.feedback,p.OZ.feedbackReport,p.OZ.feedbackHistory,p.OZ.upload,f.vI.kycSubmission,f.vI.kyc,f.vI.kycLoading,f.vI.kycPoa,v.tH.loginHome,v.tH.signupHome,p.OZ.download].concat((0,a._)(p.OZ.downloadWithLang),[p.OZ.downloadVideo],(0,a._)(p.OZ.downloadVideoWithLang),(0,a._)(r?[]:[p.OZ.messages]),(0,a._)(i?[]:Object.entries(p.OZ).filter(function(e){var t=(0,o._)(e,2),n=t[0];return t[1],n.startsWith("setting")}).flatMap(function(e){var t=(0,o._)(e,2);return t[0],t[1]}))),s=(0,c.useLocation)().pathname;return{vid:n,isInNavPhase3:"v0"!==n,showFullSideNav:!(0,c.matchPath)(s,{path:u,exact:!0})&&"v0"!==n}},tO=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"feed_change_optimize_image"))?e:"v0",i=null!=(t=(0,y.qt)(n,"feed_change_optimize_ff"))?t:"v0",o=e6().isInProductHoldout;return{enableFeedChangeImageOptimize:"v1"===r,enableFeedChangeFirstFrameOptimize:"v1"===i&&!o}},tV=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"enable_dm_side_nav"))?e:"v0",r=(0,x.Ig)();return"v0"!==n&&!r},tx=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v0"!==(null!=(e=(0,y.qt)(t,"global_web_footer"))?e:"v0")},tR=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"guest_mode_interest"))?e:"v0";return{showGuestModeInterestSelector:"v0"!==n,showContinueButton:"v2"!==n}},tF=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=(null!=(e=(0,w.U)(function(){return["isMobile"]},[]))?e:{}).isMobile,i="undefined"==typeof window,o=null!=(t=(0,y.qt)(n,"login_popup_visual"))?t:"v0",a=i?"v0":o,u=i?"":window.location.pathname,s=/(?:^|\/)(login|signup|link-phone-or-email|oauth|oauthLine|account-delete)(?:\/|$)/.test(u);return{showUpdatedLoginUI:!r&&!s&&"v0"!==a,showDynamicLoginTitle:!r&&!s&&"v2"===a}},tU=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,L.S)(n,"dual_user"))?e:"v0";try{t=u.A.get("last_login_method")}catch(e){console.error("Failed to get last_login_method cookie:",e),t=void 0}var i="QRcode"===t;return{showLoginOptionSlider:i&&"v0"!==r,showLoginOptionButton:!1,showPopupWhenInitiallyLand:i&&("v2"===r||"v3"===r),isForcedLogin:i&&"v3"===r,isInRedesignLoginPopupControl:"v0"===r,isInRedesignLoginPopupTreatment:i&&"v0"!==r}},tj=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=(0,A.L$)((0,w.U)(function(){return["isAndroid"]},[])).isAndroid,r=null!=(e=(0,y.qt)(t,"mobile_android_jump_optimization"))?e:"v0";return n?{experimentalUseAppLink:"v0"!==r,experimentalUseBetterAppLink:"v2"===r}:{}},tD=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v0"!==(null!=(e=(0,y.qt)(t,"video_auto_play_optimize"))?e:"v0")},tW=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v2"===(null!=(e=(0,y.qt)(t,"web_dm_group_chat"))?e:"v1")},tB=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=(null!=(e=(0,w.U)(function(){return["isMobile","isAndroid"]},[]))?e:{}).isAndroid,o=void 0!==n&&n,a=null==t?void 0:t.parameters.download_page_apk;return a?(0,i._)((0,r._)({},a),{apps:a.apps.filter(function(e){return o?"android"===e.os||"both"===e.os:"ios"===e.os||"both"===e.os})}):a},tq=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"pns_communication_service_sdk"))?e:"v0")},tN=function(){var e,t=null!=(e=(0,y.d)("side_nav_preload_cache"))?e:"v0";return{enableSideNavPreloadAndCache:"v4"===t,enableFYPSideNavPreloadAndCache:"v1"===t||"v2"===t||"v3"===t,cacheRange:"v1"===t?1:2*("v2"===t),cacheAfter:"v3"===t}},t$=function(){return(0,s.useMemo)(function(){var e,t=null!=(e=(0,y.d)("side_nav_cache"))?e:"v0";return{enableFYPCache:"v0"!==t&&"v5"!==t,enableFYPPreload:"v1"===t||"v3"===t||"v5"===t,cacheRange:2*("v1"===t||"v2"===t),cacheAfter:"v3"===t||"v4"===t}},[])},tZ=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return"v1"===(null!=(e=(0,y.qt)(t,"enable_creator_comments"))?e:"v0")},tz=function(){return(0,s.useMemo)(function(){var e;return{isRefactorGroup:"v0"!==(null!=(e=(0,y.d)("page_init_refactor"))?e:"v0")}},[])},tG=function(){var e;return{isPreloadPrioritize:"v0"!==(null!=(e=(0,y.d)("preload_priority"))?e:"v0")}},tK=function(){var e;return{isRefactorGroup:"v0"!==(null!=(e=(0,y.d)("browser_mode_refactor"))?e:"v0")}},tH=function(){var e,t=null!=(e=(0,y.d)("one_col_slide_opt"))?e:"v0";return{isSwitchOptGroup:"v0"!==t,enableSwitchOnLandingOnly:"v1"===t,enableSwitchWithOpt:"v2"===t,enableSwitchWithInstant:"v3"===t}},tQ=function(){var e;return"v0"!==(null!=(e=(0,y.d)("one_col_slide_opt_2"))?e:"v0")},tY=function(){var e,t,n=null!=(e=(0,y.d)("preload_expiration_extend"))?e:"v0",r=null!=(t=({v1:7,v2:15,v3:30})[n])?t:5;return{shouldExtendExpiration:"v0"!==n,extendDays:r}},tJ=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"browser_mode_scroll"))?e:"v0";return{fixLastRef:"v1"===n,scrollOPT:"v2"===n}},tX=function(){return(0,s.useMemo)(function(){var e;return{withMultiInstance:"v0"!==(null!=(e=(0,y.d)("browser_mode_multi"))?e:"v0")}},[])},t0=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"webapp_picture_comments"))?e:"v0";return{isInPictureCommentsExperiment:"v0"!==n,isPictureCommentsV1:"v1"===n}},t1=function(){var e;return{isInTiktokStoriesExperiment:"v0"!==(null!=(e=(0,y.d)("tiktok_stories"))?e:"v0"),shouldStoryDetailRedirect:!1}},t3=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["user","abTestVersion"]},[])),n=t.user,r=t.abTestVersion,i=!!n,o=null!=(e=(0,y.qt)(r,"wwa_mdp_metric"))?e:"v0";return{enableInOverlayPlayer:i&&["v2","v3"].includes(o),enableInForYou:i&&["v1","v3"].includes(o)}},t2=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["user","abTestVersion"]},[])),n=t.user,r=t.abTestVersion,i=null!=(e=(0,y.qt)(r,"push_authorization_refactor"))?e:"v0",o=!n||"v0"===i;return o?{shouldSkipPush:!0,isPushAuthLoginTriggered:!1,isPushAuthActionTriggered:!1,showPushNotice:!1,showPushAuthDirectly:!1,showPushMask:!1}:{shouldSkipPush:o,isPushAuthLoginTriggered:"v1"===i||"v2"===i||"v3"===i,isPushAuthActionTriggered:"v4"===i||"v5"===i||"v6"===i,showPushNotice:"v2"===i||"v3"===i||"v5"===i||"v6"===i,showPushAuthDirectly:"v1"===i||"v4"===i,showPushMask:"v2"===i||"v5"===i}},t4=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["region","abTestVersion"]},[])),n=t.region,r=t.abTestVersion,i=null!=(e=(0,y.qt)(r,"webapp_add_shop"))?e:"v0",o="US"===n&&"v0"!==i;return{vid:i,shouldShowNotification:o,shouldShowShop:o}},t9=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"webapp_fyp_cache_login"))?e:"v0";return{isInWebappFypCacheLoginExperiment:"v0"!==n,isWebappFypCacheLoginV1:"v1"===n,isWebappFypCacheLoginV2:"v2"===n}},t5=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isInChangeActivityTabNameExperiment:"v0"!==(null!=(e=(0,y.qt)(t,"change_activity_tab_name"))?e:"v0")}},t7=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{isIn3DotMenuConsistencyExperiment:"v0"!==(null!=(e=(0,y.qt)(t,"3_dot_menu_consistency"))?e:"v0")}},t6=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"ai_comment_analysis"))?e:"v0";return{isInAiCommentAnalysisExperiment:"v0"!==n,isAiCommentAnalysisV1:"v1"===n}},t8=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n="v0"!==(null!=(e=(0,y.qt)(t,"webapp_comment_length"))?e:"v0");return{isInWebappCommentLengthExperiment:n,maxCommentLength:n?2200:150}},ne=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"explore_chips_unify_experiment"))?e:"v0";return{isInExploreChipsExperiment:"v0"!==n,isExploreChipsQuiet:"v2"===n,isExploreChipsAlwaysSticky:"v3"===n,isExploreChipsAlwaysStickyQuiet:"v4"===n}},nt=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"nuj_interest_selector"))?e:"v0";return{isNujInterestSelectorControl:"v0"===n,isNujInterestSelectorWithLoginButton:"v1"===n,isNujInterestSelectorWithLoginBubble:"v2"===n}},nn=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion;return{enableBrazil12hCumulativePlay:"v1"===(null!=(e=(0,y.qt)(t,"brazil_12hr_cumulative_play"))?e:"v0")}},nr={v1:8,v2:10,v3:16,v4:20},ni=function(){var e=(0,y.d)("search_item_list_count");return{searchItemListCount:e?nr[e]:void 0}},no=function(){var e,t;return{shouldUseSearchPageJotai:"v0"!==(null!=(e=(0,y.d)("search_page_jotai"))?e:"v0"),shouldUseSearchGlobalJotai:"v1"===(null!=(t=(0,y.d)("search_global_jotai"))?t:"v0")}},na=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"default_volume"))?e:"v0";return{isInDefaultVolumeExperiment:"v0"!==n,isDefaultVolumeV1:"v1"===n,isDefaultVolumeV2:"v2"===n,isDefaultVolumeV3:"v3"===n,isDefaultVolumeV4:"v4"===n}},nu=function(){var e,t,n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=(null!=(e=(0,w.U)(function(){return["isMobile"]},[]))?e:{}).isMobile,i="undefined"==typeof window,o=null!=(t=(0,y.qt)(n,"login_popup_visual_P2"))?t:"v0",a=i?"v0":o,u=i?"":window.location.pathname,s=/(?:^|\/)(login|signup|link-phone-or-email|oauth|oauthLine|account-delete)(?:\/|$)/.test(u);return{displayQRLoginPopup:!r&&!s&&"v0"!==a,displayLiveLoginTitle:!r&&!s&&"v4"===a}},ns=function(){var e,t=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,y.qt)(t,"autoplay_unmute"))?e:"v0";return{isInAutoplayUnmuteExperiment:"v0"!==n,isHoverUnmuteTooltip:"v2"===n,isBothUnmuteTooltip:"v3"===n}},nc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,A.L$)((0,b.W)(function(){return["abTestVersion"]},[])).abTestVersion,r=null!=(e=(0,y.qt)(n,"ui_trimming_kep_info_card"))?e:"v0";return{hideThreeDots:t&&"v0"===r||["v2","v3"].includes(r),showDropdown:"v3"===r,enableLongPress:t&&"v0"===r||"v2"===r}}},51794:function(e,t,n){n.d(t,{$X:function(){return f},Ah:function(){return B},BP:function(){return S},CV:function(){return q},DK:function(){return s},F3:function(){return p},HF:function(){return D},Iw:function(){return L},J3:function(){return m},Ju:function(){return P},Kt:function(){return a},LA:function(){return C},Ly:function(){return E},M2:function(){return U},Nd:function(){return N},Nj:function(){return T},O_:function(){return A},S0:function(){return h},Sw:function(){return R},Uw:function(){return O},VD:function(){return x},Z3:function(){return c},_:function(){return g},_2:function(){return v},dj:function(){return G},er:function(){return k},f8:function(){return I},fm:function(){return d},gM:function(){return _},iJ:function(){return b},n9:function(){return W},rd:function(){return M},se:function(){return z},sj:function(){return y},tS:function(){return j},v1:function(){return o},vt:function(){return u},vu:function(){return V},xE:function(){return F},xl:function(){return w},z3:function(){return l}});var r,i=n(10791),o="webapp-pwa-expanded",a="webapp-live-nav-click",u="webapp_showed_profile_tip",s="search_login",c="search_history_list",l="webapp_showed_explore_new_label",d="showed_desktop_app_download",p="time_of_last_prediction",f="timeOfLastPopup",v="periodic_login_reminder",g="pc_app_auto_tip",_="suggest_account_bind_last_show",h="last_watch_live_on_pc",m="story_notice",y="p_f_s_g_s",A="webapp_launch_mode",b="webapp_tiktok_open",w="webapp_tiktok_privious",L="webapp_open_edit_profile_modal_from",S="popup_profile_toast",T="watch_live_on_pc",k="delay_guest_mode_vid",P="passport_csrf_token",I="passport_csrf_token_default",C=3e4,M=9,E=9,O=9,V=30,x=30,R="Sorry, something wrong with the server, please try again.",F=1988,U=12,j="tiktok_webapp_theme",D="tiktok_webapp_theme_manual",W="tiktok_webapp_theme_source",B={secure:!0,expires:300,domain:"www.tiktok.com"},q=((r={}).DarkTheme="dark",r.LightTheme="light",r),N=i.$m.concat(["CH","US","GB"]),$="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/",Z="https://lf16-tiktok-web.tiktokcdn-us.com/obj/tiktok-web-tx/",z={ROW:{remScript:"".concat($,"tiktok/static/nginx/rem-script.js"),slardarWeb:"".concat($,"slardar/sdk-pre/browser.web.pre.js"),serviceWorker:"".concat($,"tiktok/static/nginx/service-worker.js")},TTP:{remScript:"".concat(Z,"tiktok/static/nginx/rem-script.js"),slardarWeb:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/tiktok-infra/csp/sdk-pre/slardar.web.pre.js",serviceWorker:"".concat(Z,"tiktok/static/nginx/service-worker.js")}},G="swiper-no-swiping"},55267:function(e,t,n){n.d(t,{Z:function(){return i}});var r,i=((r={}).EcomEmail="ecom_email",r.Business="business",r)},62448:function(e,t,n){n.d(t,{Gu:function(){return r},yH:function(){return i}});var r="tiktok_webapp",i="tiktok_webapp_login"},64975:function(e,t,n){n.d(t,{Ao:function(){return s},Pv:function(){return u},bA:function(){return l},dG:function(){return c}});var r=n(21987),i=n(90542),o=n(89379),a=r.l.getInstance(o.V$);function u(e,t){i.f.event("feed_top_cache",{valid:e}),a.context({use_data_prefetched:e}),a.emitEvent("feed_top_cache",{count:1},{status:String(e),pageName:t})}function s(e,t){i.f.event("feed_top_cache_invalid",{check_count:e,invalid_count:t,allInvalid:+(t>=e)}),a.emitEvent("feed_top_cache_invalid",{count:1},{checkCount:String(e),invalidCount:String(t),allInvalid:t>=e?"1":"0"})}function c(e){i.f.event("feed_fetch_error",{error_code:e})}function l(e){a.emitEvent("feed_cache_fetch",{count:1},{statusCode:String(e)})}},21716:function(e,t,n){n.d(t,{n2:function(){return r}});var r="perf_feed_cache"},6910:function(e,t,n){n.d(t,{Mc:function(){return c},Rv:function(){return s},_1:function(){return l}});var r,i=n(54333),o=n(35144),a=n(56605),u=n(54363),s=((r={})[r.CacheValid=0]="CacheValid",r[r.CacheExpired=1]="CacheExpired",r[r.NoCache=2]="NoCache",r[r.UserChange=3]="UserChange",r[r.CacheUpdateSuccess=4]="CacheUpdateSuccess",r[r.NoCacheWithUpdatedPush=8]="NoCacheWithUpdatedPush",r[r.FetchThroughRPC=9]="FetchThroughRPC",r);function c(e){var t,n,r,i,s,c,l,d,p=e.itemList,f=e.cacheUid,v=e.uid,g=e.cacheWid,_=e.wid,h=(0,a.YI)("webapp.updated-items"),m=(0,o.x)().abTestVersion,y=null!=(c=(0,u.V7)(m,"use_container_exp"))?c:"v0",A="v1"===y||"v3"===y;A&&(h=null!=(l=null==h?void 0:h.filter(function(e){return!e.imagePost}))?l:[]);var b=null!=(d=(0,u.V7)(m,"preload_expiration_extend"))?d:"v0";if(h&&"v0"!==b)return{status:9,validItemList:h};if(!p||0===p.length)if(h)return{status:8,validItemList:h};else return{status:2,validItemList:[]};if(n=(t={cacheUid:f,cacheWid:g,wid:_,uid:v}).cacheUid,r=t.cacheWid,i=t.wid,s=t.uid,r!==i||n&&n!==s)return{status:3,validItemList:[]};var w=p.filter(function(e){var t,n=null==(t=e.video)?void 0:t.cover,r=/x-expires=(\d+)/.exec(n),i=r&&Date.now()<(Number(r[1])-60)*1e3,o=A&&e.imagePost;return i&&!o});if(0===w.length)if(h)return{status:4,validItemList:h};else return{status:1,validItemList:[]};return{status:0,validItemList:w}}function l(e){if(0===e.length)return 0;var t,n=e.map(function(e){var t,n,r;return n=null==(t=e.video)?void 0:t.cover,(r=/x-expires=(\d+)/.exec(n))?1e3*Number(r[1]):0});return(t=Math).min.apply(t,(0,i._)(n))}},83980:function(e,t,n){n.d(t,{g9:function(){return c},li:function(){return s}});var r=n(69513),i=n(40099),o=n(82761),a=n(95794),u=(0,o.$)("ModalContext@tiktok/fe-shared")({counterRef:{current:0},scrollWidthRef:{current:0},subscribeRef:{current:[]},setCounter:r.A,setScrollWidth:r.A,subscribeModalChange:function(){return r.A}});function s(){var e=(0,i.useRef)(0),t=(0,i.useRef)(0),n=(0,i.useRef)([]),r=(0,i.useCallback)(function(t){e.current=t},[]),o=(0,i.useCallback)(function(e){t.current=e},[]),a=(0,i.useCallback)(function(e){return n.current.push(e),function(){var t=n.current.indexOf(e);n.current.splice(t)}},[]),s=(0,i.useMemo)(function(){return{counterRef:e,subscribeRef:n,scrollWidthRef:t,setCounter:r,setScrollWidth:o,subscribeModalChange:a}},[a,r,o]);return{GlobalModalProvider:u.Provider,value:s}}function c(){var e=(0,i.useContext)(u),t=e.counterRef,n=e.setCounter,r=e.setScrollWidth,o=e.subscribeRef,s=e.scrollWidthRef,c=e.subscribeModalChange,l=(0,i.useCallback)(function(e){o.current.forEach(function(t){t({hasModal:e,scrollWidth:s.current})})},[s,o]);return{showModal:(0,i.useCallback)(function(e,i){if(((0,a.Lm)()||e)&&!i){var o=t.current;if(n(o+1),0===o){var u=(0,a.aP)();r(u),document.body.style.paddingRight="".concat(u,"px"),document.body.className+=" hidden",l(!0)}}},[t,l,n,r]),hideModal:(0,i.useCallback)(function(){var e=Math.max(0,t.current-1);n(e),0===e&&(r(0),document.body.className=document.body.className.replace(/\s?hidden/g,""),document.body.style.paddingRight="0px",l(!1))},[t,l,n,r]),subscribeModalChange:c}}},1561:function(e,t,n){n.d(t,{id:function(){return u},qo:function(){return a}});var r=n(35144),i=n(6372),o=n(92876),a=function(){var e,t,n,a,u,s=(0,r.x)().abTestVersion,c=null!=(a=null==s||null==(t=s.parameters)||null==(e=t.ff_avg_duration_portrait)?void 0:e.vid)?a:{vid:"v0"},l=null!=(u=null==c?void 0:c.vid)?u:"v0",d="undefined"!=typeof navigator?null==(n=navigator)?void 0:n.hardwareConcurrency:4,p=(0,i.BX)(function(e){var t;return(null==(t=e.ff_duration_avg)?void 0:t.target)===o.L.Low});return{isLowEndDevice:"v0"!==l&&(p||d<4)}},u=function(){var e,t,n,i,o,a=(0,r.x)().abTestVersion,u=null!=(i=null==a||null==(t=a.parameters)||null==(e=t.vv_avg_per_day_portrait)?void 0:e.vid)?i:{vid:"v0"},s=null==a||null==(n=a.parameters.change_list_length_new)?void 0:n.vid;return{enableVVAvgPerDayStrategy:"v0"!==(null!=(o=null==u?void 0:u.vid)?o:"v0"),defaultRecommendFetchCount:Number(s)}}},61735:function(e,t,n){n.d(t,{Ig:function(){return c},XJ:function(){return l},_Y:function(){return d}});var r=n(11854),i=n(10874),o=n(89786),a=n(82562),u=n(78807),s=n(55267),c=function(){return new URLSearchParams((0,i.useLocation)().search).get("scene")===s.Z.Business},l=function(){return"true"===new URLSearchParams((0,i.useLocation)().search).get("allow_label")},d=function(e){var t=(0,a.VR)(function(e){return e.businessPermission},r.bN),n=(0,u.B)().isElectronApp;return{path:t.message?"/business-suite/messages?from=homepage&lang=".concat(e):"".concat(o.OZ.messages,"?lang=").concat(e),target:n&&t.message?"_blank":void 0}}},80395:function(e,t,n){n.d(t,{P:function(){return P}});var r=n(79066),i=n(5377),o=n(45996),a=n(72516),u=n(40099),s=n(10874),c=n(62085),l=n(72961),d=n(43264),p=n(54363),f=n(287),v=n(95794),g=n(88947),_=n(37706),h=n(79097),m=n(13420),y=n(51794),A=n(74689),b=n(18899),w=n(90268),L=["homepage_hot","others_homepage"],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,v._S)(y.F3);return!r||Date.now()-parseInt(r,10)>=1e3?((0,v.AP)(y.F3,Date.now().toString()),!0):(w.w.handleInferenceDisqualify({enter_method:e,model_name:t,reason:"api_rate_control",page_name:n}),!1)},T=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?"segment_1":(!L.includes(t),"segment_default")},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,t=(0,v._S)(y.$X);return!t||Date.now()-parseInt(t,10)>=e};function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,c.b1)();if((0,u.useEffect)(function(){t&&n.setCheckPredictionLogin({showLoginOnLoad:!1})},[]),t)return{loginPredictionHandler:function(){}};var w=(0,l.L$)((0,d.W)(function(){return["user","wid","abTestVersion","webIdCreatedTime"]},[])),L=w.user,P=w.abTestVersion,I=w.webIdCreatedTime,C=(0,p.qt)(P,"webapp_login_prediction_full"),M=(0,p.qt)(P,"webapp_login_prediction_reverse"),E=(0,p.qt)(P,"webapp_login_causal_inference_validation"),O=(0,s.useLocation)().pathname,V=(0,f.m)(I),x=!!E&&"v1"!==E,R=(0,h._y)().getPriorityPopup,F=(0,h.lz)(function(e){return{popupPriority:e.priority,isReady:e.isReadyList[m.H.LoginPopup]}}).popupPriority,U=(0,u.useMemo)(function(){return R(m.H.LoginPopup)},[R]),j=U.handlePopoverInitial,D=U.handlePopoverEnd,W=function(){var t;null==(t=e.closeCallback)||t.call(e),D()},B=(0,_.G)({modalConfig:(0,o._)((0,i._)({closeable:!1,isGuestMode:!1,query:{enter_method:"model_based"}},e),{closeCallback:W})}),q=(0,_.G)({modalConfig:(0,o._)((0,i._)({query:{enter_method:"guest_mode"},isGuestMode:!1,isGuestModeUI:!0},e),{closeCallback:W})}),N=(0,u.useCallback)(function(e,t,i){return(0,r._)(function(){var e;return(0,a.__generator)(this,function(r){return L||(e=void 0!==t&&-1>=t,e&&k(i)&&F===m.H.LoginPopup&&((0,v.AP)(y.$X,Date.now().toString()),q(),j()),n.setCheckPredictionLogin({showLoginOnLoad:!1})),[2]})})()},[L,C||M,x,E,F,n,B,j,q]);return{loginPredictionHandler:(0,u.useCallback)(function(){var e=T(V,(0,v.Hd)(y.iJ)),t=[{expId:"webapp_login_prediction_full",segmentId:e,versionId:C,propertyList:["prediction_threshold"]},{expId:"webapp_login_prediction_reverse",segmentId:e,versionId:M,propertyList:["prediction_threshold"]}],r=(0,A.J)(b.a,t),i=r.prediction_threshold,o=r.guest_mode_threshold,a=r.popup_interval;!L&&(void 0!==i||void 0!==o||E)?!S("app_load","","")||(0,g.mQ)(O)||(0,g.FJ)(O)||N(i,o,a):n.setCheckPredictionLogin({showLoginOnLoad:!1})},[V,C,M,L,E,O,N,n])}}},18899:function(e,t,n){n.d(t,{a:function(){return r}});var r={online:{segment_default:{v1:[{name:"popup_interval",value:432e5,priority:0}]}},webapp_mobile_web2app_cta_guide:{segment_default:{v1:[{name:"prediction_threshold",value:.001,priority:1}],v2:[{name:"prediction_threshold",value:.009,priority:1}],v3:[{name:"prediction_threshold",value:.03,priority:1}],v4:[{name:"prediction_threshold",value:.07,priority:1}]}},webapp_login_prediction:{segment_default:{v2:[{name:"prediction_threshold",value:.602572,priority:1},{name:"popup_interval",value:-1,priority:1}],v3:[{name:"prediction_threshold",value:.261145,priority:1},{name:"popup_interval",value:-1,priority:1}],v4:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}],v5:[{name:"prediction_threshold",value:.067758,priority:1},{name:"popup_interval",value:-1,priority:1}],v6:[{name:"prediction_threshold",value:.031474,priority:1},{name:"popup_interval",value:-1,priority:1}],v7:[{name:"prediction_threshold",value:.018922,priority:1},{name:"popup_interval",value:-1,priority:1}],v8:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}],v9:[{name:"prediction_threshold",value:.008136,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_causal_inference_periodic_popup_validation:{segment_default:{v1:[{name:"popup_interval",value:432e5,priority:1}],v2:[{name:"popup_interval",value:36e5,priority:1}],v3:[{name:"popup_interval",value:36e5,priority:1}],v4:[{name:"popup_interval",value:36e5,priority:1}],v5:[{name:"popup_interval",value:432e5,priority:1}],v6:[{name:"popup_interval",value:432e5,priority:1}],v7:[{name:"popup_interval",value:432e5,priority:1}]}},webapp_login_prediction_full:{segment_1:{v1:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}],v2:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}]},segment_2:{v1:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}],v2:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_login_prediction_reverse:{segment_1:{v1:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}]},segment_2:{v1:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_guest_mode:{segment_default:{v2:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v3:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v4:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v5:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v6:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v7:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v8:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v9:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v10:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v11:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v12:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v13:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v14:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v15:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v16:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v17:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}]}},mobile_predictive_data:{segment_default:{v0:[{name:"vv_count",value:-1,priority:0}],v1:[{name:"vv_count",value:3,priority:0}],v2:[{name:"vv_count",value:4,priority:0}],v3:[{name:"vv_count",value:5,priority:0}],v4:[{name:"vv_count",value:6,priority:0}],v5:[{name:"vv_count",value:7,priority:0}],v6:[{name:"vv_count",value:8,priority:0}],v7:[{name:"vv_count",value:9,priority:0}],v8:[{name:"vv_count",value:10,priority:0}],v9:[{name:"vv_count",value:11,priority:0}],v10:[{name:"vv_count",value:12,priority:0}],v11:[{name:"vv_count",value:13,priority:0}],v12:[{name:"vv_count",value:14,priority:0}],v13:[{name:"vv_count",value:15,priority:0}],v14:[{name:"vv_count",value:16,priority:0}],v15:[{name:"vv_count",value:17,priority:0}],v16:[{name:"vv_count",value:18,priority:0}],v17:[{name:"vv_count",value:19,priority:0}],v18:[{name:"vv_count",value:20,priority:0}],v19:[{name:"vv_count",value:21,priority:0}],v20:[{name:"vv_count",value:22,priority:0}],v21:[{name:"vv_count",value:23,priority:0}],v22:[{name:"vv_count",value:24,priority:0}],v23:[{name:"vv_count",value:25,priority:0}],v24:[{name:"vv_count",value:26,priority:0}],v25:[{name:"vv_count",value:27,priority:0}],v26:[{name:"vv_count",value:28,priority:0}],v27:[{name:"vv_count",value:29,priority:0}],v28:[{name:"vv_count",value:30,priority:0}],v29:[{name:"vv_count",value:31,priority:0}]}}}},74689:function(e,t,n){n.d(t,{J:function(){return i}});var r=n(6586);function i(e,t){var n={},i=t.reduce(function(e,t){var n=t.expId,r=t.segmentId,i=t.versionId,o=t.propertyList;return n&&r&&i&&o.forEach(function(t){e[t]=e[t]||[],e[t].push({expId:n,segmentId:r,versionId:i,propertyName:t})}),e},{}),o=!0,a=!1,u=void 0;try{for(var s,c=Object.entries(i)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=(0,r._)(s.value,2),d=l[0],p=l[1],f=function(e,t){var n=t.map(function(t){return function(e,t){var n=t.expId,r=t.segmentId,i=t.versionId,o=t.propertyName,a=e[n];if(!a)return void console.error("Error. Experiment: ".concat(n," not found!"));var u=a[r];if(u&&i){var s=u[i];if(s)return s.find(function(e){return e.name===o})}}(e,t)}).filter(function(e){return void 0!==e});if(0!==n.length)return n.reduce(function(e,t){return t.priority>e.priority?t:e}).value}(e,p);n[d]=f}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}return n}},26402:function(e,t,n){n.d(t,{$b:function(){return c},HZ:function(){return l},Pl:function(){return p},QA:function(){return d},dg:function(){return s}}),n(44471);var r,i,o=n(88062),a=n(82761),u=n(48859);(0,a.$)("SlardarControlContext@tiktok/fe-shared")(!1);var s={plugins:{ajax:{ignoreUrls:[".byteoversea.com",/mcs.*\.tiktok[vw]?\.(com|us|eu)/,".tiktokcdn.com",".tiktokcdn-us.com","mon.tiktokv.(com|us|eu)","ttwid/check","passport/token/beat/web",/.*-webapp-prime\.(.*\.)?tiktok\.com/]},fetch:{ignoreUrls:[".tiktokcdn.com",".tiktokcdn-us.com","mon.tiktokv.(com|us|eu)","policy/notice","feedback/v1/newest_reply","ba/business/suite/permission/list",/.*-webapp-prime\.(.*\.)?tiktok\.com/]},jsError:{ignoreErrors:["Blocked a frame with origin","__msg_type","vid_mate_check is not defined","ResizeObserver loop limit exceeded",'Video playback error: {"errorCode":',"Object Not Found Matching Id","The play method is not allowed by the user agent","The play() request was interrupted","Failed to load because no supported source was found","The request is not allowed by the user agent or the platform in the current context","Fetch is aborted","The operation was aborted"]},resource:{slowSessionThreshold:1e5},fmp:!1,tti:!1,pageview:{sendInit:!0,routeMode:"manual"}},sample:{sample_rate:1,sample_granularity:"session",include_users:[],rules:{resource:{enable:!0,sample_rate:.01,conditional_sample_rules:[]},resource_error:{enable:!0,sample_rate:.05,conditional_sample_rules:[]},performance_longtask:{enable:!0,sample_rate:.001,conditional_sample_rules:[]}}},env:"production",release:"1.2.3.988",slardarClient:"SlardarClient",manual:1,sdkUrl:o.Qn.row,pluginPathPrefix:o.tz.row},c=((r={}).P0="fatal",r.P1="error",r.P2="warning",r.P3="info",r.P4="debug",r.P5="critical",r),l=["lcp","fp","fid","ttfb","mpfid","fcp","actual_fmp"],d=new Set([u.ey.OneColumn,u.ey.ThreeColumn,u.ey.VideoDetail]),p=((i={}).TTAPPluginInfo="ttapplugin_info",i.TTAPPluginFirstScreenRequest="ttapplugin_first_screen_request",i.TTAPPluginEffectiveOpenPage="ttapplugin_effective_open_page",i.TTAPPluginCustomRequest="ttapplugin_custom_request",i.actualFMP="actual_fmp",i.LoginClickToNotifyDuration="login_click_to_notify_duration",i.UiTrimmingEvent="ui_trimming_kep_event",i)},75487:function(e,t,n){n.d(t,{s:function(){return r}});var r=(0,n(54333)._)(["live_im_sdk_socket_link","live_www_host","live_room_container_upgrade","live_room_container_upgrade_gift_more","webapp_live_desktop_gulux","live_un_logged_in_definition_client","live_wallet_pc_live_room_recharge","fyp_live_highlight_preview_opt","live_highlight_preview_expand","live_room_prerender"]).concat(["image_fetch_priority","user_bundle_opt","sharing_video_first","live_recharge_login_sdk","page_loading_tiny_changes","react_upgrade_experiment","kep_streaming","user_ssg","organic_video_streaming","mobile_micro_frontend_all_pages","mobile_micro_frontends","seo_mobile_micro_frontends","live_react_v18","sharing_video_streaming","kep_cta_style","vanilla_js_kep","kep_inp_inspect","desktop_rspack","seo_page_csr","streaming_legacy_optimization","desktop_bundle_opt","desktop_landing_opt","tt_player_event_trigger","webmssdk_update","tt_player_event_trigger","ui_trimming_kep","ui_trimming_kep_mixed","ui_trimming_kep_device","ui_trimming_kep_network","ui_trimming_kep_region","login_vmok","web_dm_runtime_share","webapp_nu_rpc_opt","sharing_rsbuild","sharing_rerender_optimize","sharing_bundle_opt"])},89379:function(e,t,n){n.d(t,{Yr:function(){return D},V$:function(){return j},ng:function(){return W}});var r=n(48748),i=n(95170),o=n(35383),a=n(36925),u=n(45899),s=n(7120),c=n(41386),l=n(5377),d=n(45996),p=n(6586),f=n(79262),v=n(3452),g=n.n(v),_=n(58358),h=n(84772),m=n(43274),y=n(21987),A=n(73580),b=n(37633),w=n(90542),L=n(48859),S=n(32049),T=n(23354),k=n(62448),P=n(26402),I=n(54333),C=n(60065),M=n(93085),E=n(88062),O=n(94553),V=n(93830),x=n(75487),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,n=e.defaultResult;return function(e,r,i){var o=i.value;return i.value=function(){for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];try{var s=o.apply(this,a);if(s&&(0,c._)(s,Promise)||((void 0===s?"undefined":(0,f._)(s))==="object"||"function"==typeof s)&&"function"==typeof s.then&&"function"==typeof s.catch)return s.catch(function(i){return console.error("".concat(e.constructor.name,".").concat(r.toString()).concat(t?" ".concat(t):"",": ").concat(i)),n});return s}catch(i){return console.error("".concat(e.constructor.name,".").concat(r.toString()).concat(t?" ".concat(t):"",": ").concat(i)),n}},i}};function F(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,f._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function U(e,t){if(("undefined"==typeof Reflect?"undefined":(0,f._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("undefined"==typeof window?"undefined":(0,f._)(window))!=="object"||window.__$vmok_bundle$__||(0,S.fU)()||_.O.setGlobalSlardarName("SlardarClient");var j=function(){function e(){(0,i._)(this,e),this.cachePreBid="",this._isPvFirstlyReported=!1,this._config=null,this._extraInfo=null,this._hasStart=!1,this._lastReadyKey="",this._slardar=_.O}var t=e.prototype;return t.hasStarted=function(){return this._hasStart},t.mountBeforeSendEvent=function(){var e=this;this._slardar.on("beforeSend",function(t){try{if("performance"===t.ev_type&&("metrics"in t.payload?t.payload.metrics.forEach(e.collectSlardarMetricsToTea):e.collectSlardarMetricsToTea(t.payload,null==(n=t.common)?void 0:n.pid)),"performance_timing"===t.ev_type){var n,r,i,o,a=null!=(i=t.payload.timing)?i:{},u=a.responseEnd,s=a.responseStart,c=a.domContentLoadedEventEnd,l=a.fetchStart,d=a.navigationStart,p=null!=(o=null==(r=t.payload.common)?void 0:r.pid)?o:"unknown",f=c-l,v=u-s,g=s-d;w.f.event("slardar_perf_domready",{metric_duration:f&&f>0?f.toString():-1,pid:p}),w.f.event("slardar_perf_response",{metric_duration:v&&v>0?v.toString():-1,pid:p}),w.f.event("slardar_perf_ttfb",{metric_duration:g&&g>0?g.toString():-1,pid:p})}if("custom"===t.ev_type&&(null==(_=t.payload)?void 0:_.name)==="video_play_end"){var _,h,m=(null!=(h=t.common.context)?h:{}).idc;t.common.context=m?{idc:m}:{}}}catch(e){}return t})},t.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(this._option=r,t)return void this.preserveConfig(e);this._slardar.init((0,l._)({ttap:(0,l._)({},n)},e))},t.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._config&&e&&!this._hasStart&&(this.init((0,d._)((0,l._)({},this._config),{pid:e})),this._hasStart=!0,this._extraInfo&&this.config(this._extraInfo)),this._slardar.start()},t.config=function(e){"pid"in e&&!this._isPvFirstlyReported&&(this._isPvFirstlyReported=!0,this.context({isLandingPage:0})),this._slardar.config(e)},t.registerImageXPlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return e?[g().imageReport({debug:!1,sample_rate:t})]:[]},t.toggleLoginSlardar=function(e){var t,n;null!=(t=this._option)&&t.disableToggleLoginSlardar||(e?((null==(n=this._slardar.config())?void 0:n.bid)&&(this.cachePreBid=this._slardar.config().bid),this.config({bid:k.yH})):this.config({bid:this.cachePreBid}))},t.context=function(e){var t=this;Object.entries(e).forEach(function(e){var n=(0,p._)(e,2),r=n[0],i=n[1];t._slardar.context((0,o._)({},r,i))})},t.captureMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this._slardar.captureException("string"==typeof e?Error(e):e,t?(0,d._)((0,l._)({},n),{level:t}):n,r)},t.emitEvent=function(e,t,n){this._slardar.sendEvent({name:e,categories:n,metrics:t})},t.reportI18nLoadedFailed=function(e,t){this.emitEvent("I18nLoadFailed",{count:1},{staringName:e,lang:t})},t.sendLog=function(e,t,n){this._slardar.sendLog({content:e,level:t,extra:n})},t.sendPV=function(e){this._slardar.rawInstance()("sendPageview",e)},t.previousPid=function(){var e;return null==(e=this._slardar.config())?void 0:e.pid},t.sendCustomPerfMetric=function(e,t){var n=null!=t?t:performance.now();this._slardar.sendCustomPerfMetric({name:e,value:n,isCustom:!0})},t.preserveConfig=function(e){this._config=e},t.preserveExtraInfo=function(e){this._extraInfo=e},t.collectSlardarMetricsToTea=function(e,t){if(e.isSupport||e.isPolyfill){var n=e.name.toLowerCase();P.HZ.includes(n)&&w.f.event("slardar_perf_".concat(n),{metric_duration:e.value.toString(),pid:null!=t?t:"unknown",is_support:e.isSupport?"1":"0"})}},t.reportActualFMP=function(){return this._slardar.reportActualFMP()},t.reportRenderStart=function(){return this._slardar.reportRenderStart()},t.reportRenderEnd=function(){return this._slardar.reportRenderEnd()},t.reportFirstScreenRequest=function(e,t){this._slardar.reportFirstScreenRequest(e,t)},t.reportCustomRequest=function(e){var t,n,r,i=e.name,o=e.startTime,a=e.endTime,u=(null==(n=performance)||null==(t=n.timing)?void 0:t.navigationStart)||(null==(r=performance)?void 0:r.timeOrigin);this._slardar.reportCustomRequest(i,null!=o?o:u,a)},t.reportPageReady=function(e){if(!e||P.QA.has(e)){var t,n=w.f.commonParams.page_name,r=null==(t=location)?void 0:t.pathname,i=e===L.ey.OneColumn?n:r;void 0!==i&&i!==this._lastReadyKey&&(this._lastReadyKey=i,this._slardar.reportPageReady())}},t.reportStabilityEvent=function(e){this._slardar.reportStabilityEvent(e)},t.reportStabilityStack=function(e){this._slardar.reportStabilityStack(e)},t.reportRouteRenderStart=function(){this._slardar.reportRouteRenderStart()},t.reportRouteRenderEnd=function(){this._slardar.reportRouteRenderEnd()},t.reportPageCrash=function(e){this._slardar.reportPageCrash(e)},t.reportComponentCrash=function(e){this._slardar.reportComponentCrash(e)},t.reportFeatureCrash=function(e){this._slardar.reportCrash((0,d._)((0,l._)({},e),{customErrorName:"FeatureUnavailableError"}))},e}();j.start=function(e,t){var n,r,i,o,a=t.bid,u=t.initLocation,s=t.appContext,c=t.bizContext,p=t.reportImage,f=t.slardarConfig,v=t.ttapOption,g=t.disableToggleLoginSlardar,_=t.extractPid,h=void 0===_?function(e){return e}:_,m=t.customContext,y=t.beforeStart,A=t.customMountBeforeSendEvent,b=null!=s?s:{},w=b.abTestVersion,L=b.env,T=b.botType,k=b.user,R=b.wid,F=b.region,U=null!=c?c:{},j=U.isMobile,D=U.isTTP,W=U.domains,B=U.idc,q=U.config,N=!!p||(null==w||null==(n=w.parameters.enable_slardar_image)?void 0:n.vid)==="v2",$=function(e){var t=h(e);return t===O.L.DelayStartUntilManuallyCalled?O.L.Unknown:t};return e.context((0,l._)((0,d._)((0,l._)({region:null!=F?F:"",botType:null!=T?T:"",isMobile:(!!j).toString(),isDowngrade:(0,S.qk)().toString(),isLogin:(!!k).toString(),isPPE:(null==L?void 0:L.type)==="ppe",isLandingPage:1,isSSGPage:(0,S.$y)(),launchMode:(0,S.fU)()?"":(0,V.o7)()},(0,C.A)((0,M.A)(null!=(i=null==w?void 0:w.parameters)?i:{},function(e){return null==e?void 0:e.vid}),function(e,t){return x.s.includes(t)})),{uid:null!=(o=null==k?void 0:k.uid)?o:"",idc:null!=B?B:"unknown"}),m)),e.mountBeforeSendEvent(),null==A||A(e._slardar),e.init((0,l._)((0,d._)((0,l._)((0,d._)((0,l._)({},P.dg),{bid:a,env:(null==L?void 0:L.type)==="boe"||(null==L?void 0:L.type)==="ppe"?"test":"production",domain:(null==q||null==(r=q.featureFlags)?void 0:r.slardar_sg_domain)&&"SG"===F?"mon-sg.tiktokv.com":null==W?void 0:W.slardar,useLocalConfig:(null==L?void 0:L.type)==="ppe"||(null==L?void 0:L.type)==="boe",integrations:(0,I._)(e.registerImageXPlugin(N,p&&"boolean"!=typeof p?p.sample:void 0))}),D?{sdkUrl:E.Qn.us,pluginPathPrefix:E.tz.us}:{}),{pid:$("string"==typeof u?u:u.pathname),userId:R}),void 0===f?{}:f),!1,(0,l._)({isSpa:!0},void 0===v?{}:v),{disableToggleLoginSlardar:void 0!==g&&g}),"function"==typeof y?y().finally(function(){e.start()}).catch(function(e){console.error("beforeStart failed",e)}):e.start(),{handleLocationChange:function(t){var n=$("string"==typeof t?t:t.pathname);e.context({isLandingPage:0}),e.sendPV(n)},slardar:e}},F([R(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],j.prototype,"mountBeforeSendEvent",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof Partial?Object:Partial,void 0,Object,"undefined"==typeof SlardarServiceOption?Object:SlardarServiceOption]),U("design:returntype",void 0)],j.prototype,"init",null),F([R(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],j.prototype,"start",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof Partial?Object:Partial]),U("design:returntype",void 0)],j.prototype,"config",null),F([R({defaultResult:[]}),U("design:type",Function),U("design:paramtypes",[Boolean,void 0]),U("design:returntype",Object)],j.prototype,"registerImageXPlugin",null),F([R(),U("design:type",Function),U("design:paramtypes",[Boolean]),U("design:returntype",void 0)],j.prototype,"toggleLoginSlardar",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof Record?Object:Record]),U("design:returntype",void 0)],j.prototype,"context",null),F([R({message:"capture exception error"}),U("design:type",Function),U("design:paramtypes",[Object,void 0===P.$b?Object:P.$b,"undefined"==typeof Record?Object:Record,"undefined"==typeof ReactInfo?Object:ReactInfo]),U("design:returntype",void 0)],j.prototype,"captureMessage",null),F([R(),U("design:type",Function),U("design:paramtypes",[String,"undefined"==typeof Record?Object:Record,"undefined"==typeof Record?Object:Record]),U("design:returntype",void 0)],j.prototype,"emitEvent",null),F([R(),U("design:type",Function),U("design:paramtypes",[String,String]),U("design:returntype",void 0)],j.prototype,"reportI18nLoadedFailed",null),F([R(),U("design:type",Function),U("design:paramtypes",[String,String,"undefined"==typeof Record?Object:Record]),U("design:returntype",void 0)],j.prototype,"sendLog",null),F([R(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],j.prototype,"sendPV",null),F([R(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],j.prototype,"previousPid",null),F([R(),U("design:type",Function),U("design:paramtypes",[void 0===P.Pl?Object:P.Pl,Number]),U("design:returntype",void 0)],j.prototype,"sendCustomPerfMetric",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof Partial?Object:Partial]),U("design:returntype",void 0)],j.prototype,"preserveConfig",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof Record?Object:Record]),U("design:returntype",void 0)],j.prototype,"preserveExtraInfo",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof PerformancePayload?Object:PerformancePayload,Object]),U("design:returntype",void 0)],j.prototype,"collectSlardarMetricsToTea",null),F([R({defaultResult:0}),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",Number)],j.prototype,"reportActualFMP",null),F([R({defaultResult:0}),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",Number)],j.prototype,"reportRenderStart",null),F([R({defaultResult:0}),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",Number)],j.prototype,"reportRenderEnd",null),F([R(),U("design:type",Function),U("design:paramtypes",[Number,Number]),U("design:returntype",void 0)],j.prototype,"reportFirstScreenRequest",null),F([R(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],j.prototype,"reportCustomRequest",null),F([R(),U("design:type",Function),U("design:paramtypes",[void 0===L.ey?Object:L.ey]),U("design:returntype",void 0)],j.prototype,"reportPageReady",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof CommonStabilityEventProps?Object:CommonStabilityEventProps]),U("design:returntype",void 0)],j.prototype,"reportStabilityEvent",null),F([R(),U("design:type",Function),U("design:paramtypes",["undefined"==typeof CommonStabilityStackProps?Object:CommonStabilityStackProps]),U("design:returntype",void 0)],j.prototype,"reportStabilityStack",null),F([R(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],j.prototype,"reportRouteRenderStart",null),F([R(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],j.prototype,"reportRouteRenderEnd",null),F([R(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],j.prototype,"reportPageCrash",null),F([R(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],j.prototype,"reportComponentCrash",null),F([R(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],j.prototype,"reportFeatureCrash",null),j=F([(0,h._q)({name:"SlardarService@tiktok/fe-shared"})],j);var D=function(e){var t="createIsolatedSlardarService_".concat(e,"@tiktok/fe-shared");return(0,b.U)("instanceof_".concat(t),function(){var n,o=(0,b.U)(t,function(){return new m.n(e)});y.l.addProvider({provide:o,useClass:j});var p={provide:o,useExisting:o},f=function(t){function n(){var t;return(0,i._)(this,n),(t=(0,r._)(this,n))._slardar=_.O.create(e),t}(0,s._)(n,t);var o=n.prototype;return o.reportActualFMP=function(){return 0},o.reportFirstScreenRequest=function(){},o.reportRenderEnd=function(){return 0},o.reportRenderStart=function(){return 0},o.reportCustomRequest=function(){},o.reportRouteRenderEnd=function(){},o.reportRouteRenderStart=function(){},o.emitEvent=function(e,t,r){var i=T.nf.getTrackingInfo();(0,a._)((0,u._)(n.prototype),"emitEvent",this).call(this,e,t,(0,l._)({},r,i))},n}(j);return f=F([(0,h._q)({name:"IsolatedSlardarService@tiktok/fe-shared"}),U("design:type",Function),U("design:paramtypes",[])],f),{inject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;y.l.addProvider({provide:o,useClass:e})},getInstance:function(){return y.l.getInstance(p)},useInstance:function(){return(0,A.Nj)(p)},isIsolated:function(){return(0,c._)(y.l.getInstance(p),f)},start:function(e){var t,r=y.l.getInstance(p);if((0,c._)(r,f)){if(n)return n.handleLocationChange(e.initLocation);n=j.start(r,(0,d._)((0,l._)({},e),{slardarConfig:(0,d._)((0,l._)({},e.slardarConfig),{plugins:(0,l._)((0,d._)((0,l._)({},P.dg.plugins),{performance:!1}),null==(t=e.slardarConfig)?void 0:t.plugins)})}))}},handleLocationChange:function(e){null==n||n.handleLocationChange(e)},INJECTION_TOKEN:o}})},W=y.l.getInstance(j)},27488:function(e,t,n){n.d(t,{TJ:function(){return h}});var r=n(79066),i=n(5377),o=n(45996),a=n(6586),u=n(72516),s=n(71111),c=n(4676),l=n(6779),d=n(90542),p=n(64057),f=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=(0,a._)(o.value,2),c=s[0],l=s[1];t[c]=l}}catch(e){r=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return t},v=(0,i._)({globalWid:"",canvasId:"",hasReportedOnLanding:!1},f(["fonts","domBlockers","fontPreferences","audio","screenFrame","osCpu","languages","colorDepth","deviceMemory","screenResolution","hardwareConcurrency","timezone","sessionStorage","localStorage","indexedDB","openDatabase","cpuClass","platform","plugins","canvas","touchSupport","vendor","vendorFlavors","cookiesEnabled","colorGamut","invertedColors","forcedColors","monochrome","contrast","reducedMotion","hdr","math","videoCard","pdfViewerEnabled","architecture","userAgent","webglUnmaskedVendor","webglUnmaskedRenderer","webglImageHash"].map(function(e){return[e,""]}))),g=(0,s.atom)(v);g.debugLabel="globalWidAtom";var _=(0,c.i)(g,function(e,t){return{maybeGenerateAndReportGlobalWidInfo:function(n){return(0,r._)(function(){var r,s,c,v,_,h,m,y,A,b,w,L,S;return(0,u.__generator)(this,function(u){switch(u.label){case 0:s=void 0!==(r=n.isLanding)&&r,c=n.enterMethod,_=void 0===(v=n.hashedIP)?"":v,m=void 0===(h=n.region)?"":h,u.label=1;case 1:if(u.trys.push([1,4,,5]),y="",A="",b={},e(g).globalWid)return[3,3];return[4,(0,l.e)(_,m)];case 2:y=null!=(L=null==(w=u.sent())?void 0:w.gwid)?L:"",A=null!=(S=null==w?void 0:w.canvasId)?S:"",b=null!=w?w:{},y&&t(g,function(e){return(0,i._)((0,o._)((0,i._)({},e),{globalWid:y,canvasId:A}),b)}),u.label=3;case 3:return s&&e(g).hasReportedOnLanding||p.u.handleSendGlobalWid((0,i._)({global_wid:e(g).globalWid,canvas_id:e(g).canvasId,enter_method:c,page_name:d.f.commonParams.page_name},f(Object.entries(e(g)).filter(function(e){return!["globalWid","canvasId","hasReportedOnLanding"].includes((0,a._)(e,1)[0])})))),[2,e(g).globalWid];case 4:return console.error("Error in maybeGenerateAndReportGlobalWidInfo:",u.sent()),[2,null];case 5:return[2]}})})()},setLandingPageETSentFlag:function(e){var n=e.hasReportedOnLanding;t(g,function(e){return(0,o._)((0,i._)({},e),{hasReportedOnLanding:n})})}}}),h=_.useServiceDispatchers;_.useServiceState},27561:function(e,t,n){n.d(t,{Du:function(){return P},Gg:function(){return C},LT:function(){return I},ct:function(){return k},tF:function(){return S},ym:function(){return T}});var r=n(5377),i=n(45996),o=n(16327),a=n(26869),u=n(40099),s=n(10874),c=n(73580),l=n(36143),d=n(90542),p=n(19960),f=n(37786),v=n(69597),g=n(80281),_=n(15771),h=n(72961),m=n(43264),y=n(13610),A=n(32049),b=n(88947),w=n(80395),L=n(55778);function S(e,t){var n,o=(0,h.L$)((0,m.W)(function(){return["region","user","wid","abTestVersion","language","odinId"]},[])),a=(0,h.L$)((0,y.U)(function(){return["domains","vgeo"]},[])),u=o.abTestVersion,s=o.user,c=(0,_.mx)(u,null!=(n=null==s?void 0:s.uid)?n:"");(0,l.W0)((0,r._)({},a,o),function(){return(0,i._)((0,r._)({},e()),{is_downgrade:(0,A.qk)(),is_non_personalized:c?"1":"0"})},t)}function T(e,t){var n=(0,w.P)(e,t).loginPredictionHandler;(0,u.useEffect)(function(){n()},[n])}function k(e){var t,n,i=e.eParams,c=null!=(t=(0,m.W)(function(){return["botType","webIdCreatedTime"]},[]))?t:{},l=c.botType,d=c.webIdCreatedTime,p=(null!=(n=(0,y.U)(function(){return["isMobile"]},[]))?n:{}).isMobile,v=(0,s.useLocation)(),g=v.search,_=v.pathname,h=(0,a.parse)(g);return(0,u.useCallback)(function(){var e,t=i||{},n=t.is_from_webapp,a=(0,o._)(t,["is_from_webapp"]),u=h.sender_web_id?{sender_device:h.sender_device,sender_web_id:h.sender_web_id}:{},s=p||(0,b.tO)(_)||(e="#".concat(location.pathname),/^#\/@.*\/video\/\d+$/.test(e))||location.search.indexOf("item_id")>-1?(0,r._)({is_from_webapp:n||["v1","v2","v3"].indexOf(h.is_from_webapp)>-1?h.is_from_webapp:"0"},u):{},c={browser_height:"undefined"!=typeof window?window.innerHeight:0,browser_width:"undefined"!=typeof window?window.innerWidth:0},v=(0,r._)({bot_type:null!=l?l:"others",keyword:h.keyword,sub_keyword:h.sub_keyword,duration:performance.now(),webIdCreatedTime:d},a,s,c);f.O.handlePageView(v)},[i,h.sender_web_id,h.sender_device,h.is_from_webapp,p,h.keyword,h.sub_keyword,_,l])}function P(e){var t=(0,s.useLocation)().pathname,n=(0,c.Nj)(v.AU);(0,u.useEffect)(function(){var e=(0,L.N2)(t);n.handleRouteChange(t),n.updateCurrentPage(e),n.setCurrentPageReport(!1),n.resetExist(),n.reportVideoAdditionStart({startTime:Date.now(),situation:v.uT.AdditionFirstLoad})},[n,e,t])}function I(){var e=(0,c.Nj)(g.Gs);(0,u.useEffect)(function(){e.reset()},[e])}function C(){var e=(0,h.L$)((0,m.W)(function(){return["region","user","wid","abTestVersion","language"]},[])),t=(0,h.L$)((0,y.U)(function(){return["domains","vgeo"]},[])),n=(0,u.useMemo)(function(){return(0,r._)({},e,t)},[e,t]),o=n.user,a=n.region,s=n.wid,c=n.domains,f=n.vgeo;return(0,u.useCallback)(function(e){var t,u,v={page_name:e,enter_from:e,is_downgrade:(0,A.qk)()},g=(0,l.U3)(v),_=(0,l.fT)(n,v);d.f.config({initConfig:{channel_domain:c.tea,channel_type:null!=(t=c.teaChannelType)?t:"tcpy",channel:c.teaChannel,ab_channel_domain:c.libraWebSDK,id:1988},commonHeaderConfig:{region:a,user_id:null!=(u=null==o?void 0:o.uid)?u:"",user_is_login:!!o,user_unique_id:s,device_id:s,user_type:12,"header.custom":_},commonEventParams:(0,i._)((0,r._)({},g),{data_collection_enabled:+!!(0,p.uh)(f,!!o)})})},[n,c,a,o,f,s])}},6858:function(e,t,n){n.d(t,{$S:function(){return v},BO:function(){return l},Hw:function(){return h},RS:function(){return f},Zr:function(){return _},i0:function(){return d},lH:function(){return s},qY:function(){return g},sg:function(){return p}});var r,i=n(35383),o=n(48007),a=n(8561),u=n(8686);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"99+";return e>t?n:String(e)}function c(e){var t,n;return null!=(n=null==e||null==(t=e.url_list)?void 0:t.find(function(e){return!/\.webp/.test(e)}))?n:""}function l(e){var t;return void 0===e?"":e.url_list&&(null==(t=e.url_list)?void 0:t.length)>0?e.url_list[0]:""}var d=(r={},(0,i._)(r,o.m33.FollowRelationUnknown,a.yf.UNKNOW),(0,i._)(r,o.m33.NoRelationStatus,a.yf.NONE),(0,i._)(r,o.m33.FollowingStatus,a.yf.FOLLOW),(0,i._)(r,o.m33.FollowEachOtherStatus,a.yf.MUTAL),(0,i._)(r,o.m33.FollowRequestStatus,a.yf.FOLLOWING_REQUEST),r);function p(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.follower_count,o=e.following_count,a=e.aweme_count,u=e.total_favorited;return{diggCount:0,followerCount:null!=i?i:0,followingCount:null!=o?o:0,heart:null!=(t=Number(u))?t:0,heartCount:null!=(n=Number(u))?n:0,videoCount:null!=a?a:0,needFix:r}}function f(e){var t=e.avatar_medium,n=e.avatar_thumb,r=e.uid,i=e.short_id,o=e.unique_id,u=e.sec_uid,s=e.nickname,l=e.is_block,p=e.follow_status,f=e.signature,v=e.custom_verify,g=e.enterprise_verify_reason,_=e.follower_status;return{avatarLarger:"",avatarMedium:c(t),avatarThumb:c(n),id:r,shortId:i,uniqueId:null!=o?o:"",secUid:null!=u?u:"",nickname:s,relation:function(e){var t=e.is_block,n=e.is_blocked,r=e.follow_status;if(null!=r)return t?a.yf.BLOCK:n?a.yf.BLOCKED:d[r]}({is_block:l,is_blocked:void 0,follow_status:p}),signature:f,verified:!!(v||g),createTime:0,extraInfo:{followerStatus:_}}}function v(e){var t=e.id_str,n=e.title,r=e.play_url,i=e.cover_medium,o=e.cover_large,a=e.cover_thumb,u=e.is_original,s=e.duration,c=e.author;return{id:String(t),title:n,duration:s,keyToken:"",playUrl:l(r),coverMedium:l(i),coverLarge:l(o),coverThumb:l(a),original:null!=u&&u,authorName:c}}function g(e,t){if(!e)return!0;var n=e.commentSetting,r=e.relation,i=e.id;return n===u.v.FRIENDS_ONLY&&r!==a.yf.MUTAL&&t!==i}function _(e){return e.replace(/\n(\n)*( )*(\n)*\n/g,"\n")}function h(e,t){var n,r=e.duration,i=e.width,o=e.height,a=e.ratio,u=e.cover,s=e.play_addr,c=e.bit_rate,d=null==c?void 0:c.map(function(e){return{GearName:e.gear_name,Bitrate:e.bit_rate,QualityType:e.quality_type,PlayAddr:{Uri:"",UrlList:[l(e.play_addr)]},CodecType:"adapt_h264"}});return{id:t,height:o,width:i,duration:null!=r?r:0,ratio:null!=a?a:"720p",cover:l(u),originCover:l(u),playAddr:l(s),bitrate:null==c||null==(n=c[0])?void 0:n.bit_rate,bitrateInfo:d,encodedType:"normal"}}},81314:function(e,t,n){n.d(t,{Bv:function(){return u},LU:function(){return d},MX:function(){return s},PC:function(){return c},_w:function(){return o},bc:function(){return i},lA:function(){return a},lL:function(){return l}});var r=n(52601),i=new r.w1("frequency-control-config","local"),o=new r.w1("flip-control-config","local"),a=new r.w1("webapp-video-mute","local"),u=new r.w1("keyboard-shortcut-config","local"),s=new r.w1("webapp-comment-url","session"),c=new r.w1("search-entry-block-map-storage","local"),l=new r.w1("fyp-feed-cache","local"),d=new r.w1("search_history_map","local");new r.w1("multi-account-info","local")},55778:function(e,t,n){n.d(t,{AF:function(){return h},Am:function(){return y},N2:function(){return g},Q2:function(){return _},Sn:function(){return A},m1:function(){return m},oN:function(){return p},rE:function(){return w},sN:function(){return b}});var r=n(10874),i=n(94553),o=n(3660),a=n(89786),u=n(90314),s=n(41199),c=n(88947),l=n(80863),d=n(87339);function p(e){var t,n,u,s;if(e.length>1e3)return"";if((0,c.tO)(e))return i.L.Trending;if(/^\/@(.*?)\/video\/(.*?)/.test(e))return i.L.Video;if(/^\/@(.*?)/.test(e))return i.L.User;if(/^\/music\//.test(e))return i.L.Music;if(/^\/effect\//.test(e))return i.L.Effect;if(/^\/tag\//.test(e))return i.L.Challenge;if(/^\/following/.test(e))return i.L.Following;if(/^\/explore/.test(e))return i.L.Explore;if((null==(t=(0,o.uZ)(e))?void 0:t.name)==="expansion")return i.L.Expansion;if(/^\/channel\/.+/.test(e))return i.L.Channel;if((null==(n=(0,a.kv)(e))?void 0:n.name)==="discover")return i.L.Discover;if(/^\/profile/.test(e))return i.L.Profile;if(/^\/topics/.test(e)){var l=e.slice(1).split("/")[1];return"".concat(i.L.Topics,"_").concat(l)}return/^\/inbox/.test(e)?i.L.Inbox:/^\/report/.test(e)?i.L.Report:/^\/ad-report/.test(e)?i.L.ReportAd:/^\/feedback\/report/.test(e)?i.L.FeedbackReport:/^\/feedback\/history/.test(e)?i.L.FeedbackHistory:/^\/feedback/.test(e)?i.L.Feedback:(0,r.matchPath)(e,{path:a.OZ.searchHome,exact:!0})?i.L.GeneralSearch:(0,r.matchPath)(e,{path:a.OZ.searchUser,exact:!0})?i.L.SearchUser:(0,r.matchPath)(e,{path:a.OZ.searchVideo,exact:!0})?i.L.SearchVideo:(0,r.matchPath)(e,{path:a.OZ.searchPhoto,exact:!0})?i.L.SearchPhoto:/^\/playlist-music/.test(e)?i.L.Playlist:/^\/messages/.test(e)?i.L.Messages:/^\/setting/.test(e)?i.L.Setting:/^\/place/.test(e)?i.L.Poi:/^\/@(.*?)\/collection\/(.*?)/.test(e)?i.L.Collection:/^\/@(.*?)\/playlist\/(.*?)/.test(e)?i.L.VideoPlaylist:/^\/download/.test(e)?i.L.Download:/^\/download-video/.test(e)?i.L.DownloadVideo:/^\/miniapk\/download/.test(e)?i.L.MiniApk:(null==(u=(0,o.uZ)(e))?void 0:u.name)==="trendingDetail"||(null==(s=(0,o.uZ)(e))?void 0:s.name)==="trendingDetailWithinDiscover"?i.L.TrendingDetail:""}function f(e){return e.length>1e3?"":/^\/@(.*?)\/live\/(.*?)/.test(e)?i.L.Live:(0,r.matchPath)(e,{path:u.vI.liveGoLive,exact:!0})?i.L.GoLive:(0,c.U0)(e)?i.L.LiveDiscover:(0,c.j)(e)?i.L.LiveEvent:(0,c.RR)(e)?i.L.LiveEventAggregation:(0,r.matchPath)(e,{path:u.vI.liveRoomEmbed,exact:!0})?i.L.LiveEmbedDetail:(0,r.matchPath)(e,{path:u.vI.liveRoom,exact:!0})?i.L.Live:""}function v(e){return(0,r.matchPath)(e,{path:s.tH.loginHome,exact:!1})||(0,r.matchPath)(e,{path:s.tH.oauth,exact:!1})||(0,r.matchPath)(e,{path:s.tH.oauthLine,exact:!1})?i.L.Login:(0,r.matchPath)(e,{path:s.tH.signupHome,exact:!1})?i.L.Signup:""}function g(e){for(var t=0,n=[p,f,v];t<n.length;t++){var r=(0,n[t])(e);if(r)return r}return"unknown"}function _(){return location.pathname.startsWith(a.OZ.musicPlaylist.split(":")[0])&&location.pathname.length<=1e3?"".concat(location.origin).concat(location.pathname.replace(/%23|%3F|%2F/g,"")).concat(location.search):location.href}function h(){return location.pathname.startsWith(a.OZ.musicPlaylist.split(":")[0])&&location.pathname.length<=1e3?"".concat(location.origin).concat(location.pathname.replace(/%23|%3F|%2F/g,"")):"".concat(location.origin).concat(location.pathname)}function m(e,t){return"https://www.tiktok.com".concat(y(e,t))}function y(e,t,n){return"/place/".concat((0,l.zp)(t),"-").concat(e).concat(n?"?language=".concat(n):"")}function A(e,t){var n,r,i,o;return(0,d.Rj)("https://www.tiktok.com".concat((0,l.G2)({uniqueId:null!=(i=null==e||null==(n=e.owner)?void 0:n.display_id)?i:"",secUid:null!=(o=null==e||null==(r=e.owner)?void 0:r.sec_uid)?o:""})),null!=t?t:{})}function b(e,t){return"https://www.tiktok.com/tns-inapp/pages/ai-generated-content?hide_nav_bar=1".concat(e?"&enter_from=".concat(e):"").concat(t?"&lang=".concat(t):"")}function w(e,t){return"/effect/".concat(encodeURIComponent(e.replace(/\s+/g,"-")),"-").concat(t)}},42825:function(e,t,n){n.d(t,{W:function(){return _}});var r=n(2787),i=n(40099),o=n(73580),a=n(19701),u=n(54366),s=n(89379),c=n(12751),l=n(70043),d=(0,c.default)("div",{target:"e1jj6n0n0",label:"0be0dc34--DivErrorContainer"})(function(e){return e.isFullScreen?{flex:"1 1 auto"}:null},{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",margin:"0 auto"}),p=(0,c.default)("p",{target:"e1jj6n0n1",label:"0be0dc34--PTitle"})(function(e){var t=e.theme,n=t.typography,r=t.fontWeights,i=t.fontFamilies,o=t.colors;return[n.H4,{fontFamily:i.TikTokDisplayFont,fontWeight:r.bold,color:o.TextPrimary,marginTop:"24px"}]}),f=(0,c.default)("p",{target:"e1jj6n0n2",label:"0be0dc34--PDesc"})(function(e){var t=e.theme,n=t.typography,r=t.fontWeights,i=t.fontFamilies,o=t.colors;return[n.P2,{fontFamily:i.TikTokFont,fontWeight:r.normal,color:o.TextSecondary,marginTop:"8px"}]}),v=(0,c.default)("div",{target:"e1jj6n0n3",label:"0be0dc34--DivButton"})("margin-top:24px;"),g=(0,c.default)(l.y,{target:"e1jj6n0n4",label:"0be0dc34--StyledButton"})({marginTop:"24px"}),_=function(e){var t=e.iconElem,n=e.title,c=e.desc,l=e.buttonText,_=e.button,h=e.isFullScreen,m=e.style,y=e.brightness,A=void 0===y?u.YQ.Bright:y,b=e.e2eTitle,w=e.e2eDesc,L=e.e2eButton,S=e.onButtonShow,T=e.ignoreErrorReport,k=void 0!==T&&T,P=(0,o.Nj)(s.V$);return(0,i.useEffect)(function(){(l||_)&&(null==S||S()),k||(P.emitEvent("handled_error_report",{},{}),a.T.handleRenderErrorEvent())},[l,_,S,k,P]),(0,r.FD)(d,{isFullScreen:h,style:m,children:[t,n&&(0,r.Y)(p,{"data-e2e":b,brightness:A,children:n}),c&&(0,r.Y)(f,{"data-e2e":w,brightness:A,children:c}),_&&(0,r.Y)(v,{"data-e2e":L,children:_}),!_&&!!l&&(0,r.Y)(g,{type:"button",onClick:e.onButtonClick,buttonTheme:"default",size:"large",e2eTag:L,children:l})]})}},78467:function(e,t,n){n.d(t,{a:function(){return r}});var r=function(){return window.location.href="/404?fromUrl=".concat(encodeURIComponent(window.location.pathname)),null}},12346:function(e,t,n){n.d(t,{J:function(){return v}});var r=n(2787),i=n(49480),o=n(72961),a=n(43264),u=n(54363),s=n(13610),c=["//v16.tiktokcdn.com","//p16-va.tiktokcdn.com","//s20.tiktokcdn.com"],l=["https://p16-sign-va.tiktokcdn.com","https://p16-sign-sg.tiktokcdn.com","https://p77-sign-va.tiktokcdn.com","https://sf16-website.neutral.ttwstatic.com","https://v16-webapp-prime.tiktok.com","https://v19-webapp-prime.tiktok.com"],d=["https://p16-pu-sign-useast8.tiktokcdn-us.com","https://p19-pu-sign-useast8.tiktokcdn-us.com","https://lf16-cdn-tos.tiktokcdn-us.com","https://p16-sign.tiktokcdn-us.com","https://p19-sign.tiktokcdn-us.com","https://v16-webapp-prime.us.tiktok.com","https://v19-webapp-prime.us.tiktok.com"],p=["https://p16-sign-useast2a.tiktokcdn.com","https://p16-pu-sign-no.tiktokcdn-eu.com","https://p77-sign-sg.tiktokcdn.com","https://v16-webapp-prime.tiktok.com","https://v19-webapp-prime.tiktok.com"],f={"Singapore-Central":l,"US-East":l,"US-EastRed":p,"US-TTP":d,"US-TTP2":d,"EU-TTP":p,"EU-TTP2":p},v=function(){var e,t,n=(0,o.L$)((0,a.W)(function(){return["abTestVersion"]},[])).abTestVersion,l=null!=(e=(0,u.qt)(n,"page_loading_tiny_changes"))?e:"v0",d=(0,o.L$)((0,s.U)(function(){return["vregion"]},[])).vregion,p=c;return("v1"===l||"v4"===l)&&d&&(p=null!=(t=f[d])?t:c),(0,r.Y)(i.Helmet,{children:p.map(function(e,t){return(0,r.Y)("link",{rel:"dns-prefetch",href:e},"prefetch-".concat(t+1))})})}},37706:function(e,t,n){n.d(t,{G:function(){return u},K:function(){return s}});var r=n(54333),i=n(40099),o=n(62085),a=n(43264);function u(e){var t=e.actionWhenUserLoggedIn,n=e.modalConfig,u=void 0===n?{}:n,s=e.reportClickEvent,c=e.openModalWhenUserLoggedIn,l=(0,a.W)(function(){return["user"]},[]),d=(0,o.b1)();return(0,i.useCallback)(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];null==s||s.apply(void 0,(0,r._)(n));var o="function"==typeof u?u():u;return(null==l?void 0:l.user)&&!c?o.isLinkPhoneOrEmail?void d.openModal(o):null==t?void 0:t.apply(void 0,(0,r._)(n)):void d.openModal(o)},[t,null==l?void 0:l.user,d,u,s,c])}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return u({modalConfig:"function"==typeof e?e():e,reportClickEvent:t,openModalWhenUserLoggedIn:n})}},13420:function(e,t,n){n.d(t,{H:function(){return a},N:function(){return u}});var r,i=n(95170),o=n(54333),a=((r={})[r.None=0]="None",r[r.PromotePopupTip=1]="PromotePopupTip",r[r.LoginPopup=2]="LoginPopup",r[r.LoginPopupRedesign=3]="LoginPopupRedesign",r[r.LoginPopupPeriodic=4]="LoginPopupPeriodic",r[r.Done=5]="Done",r),u=new(function(){function e(){(0,i._)(this,e),this.priorityKeys=[],this.endPriorityKeys=[]}var t=e.prototype;return t.start=function(e){this.endPriorityKeys=this.endPriorityKeys.filter(function(t){return t!==e})},t.end=function(e){var t=this;if(!this.endPriorityKeys.includes(e)){this.endPriorityKeys.push(e);var n=this.priorityKeys.find(function(e){return!t.endPriorityKeys.includes(e)});if(n)return n}return null},t.remove=function(e){this.priorityKeys=this.priorityKeys.filter(function(t){return t!==e})},t.add=function(e){this.priorityKeys.includes(e)||(this.priorityKeys=(0,o._)(this.priorityKeys).concat([e]).sort(function(e,t){return e-t}))},t.clean=function(){this.priorityKeys=[],this.endPriorityKeys=[]},e}())},79097:function(e,t,n){n.d(t,{_y:function(){return v},lz:function(){return g}});var r,i=n(35383),o=n(5377),a=n(45996),u=n(4676),s=n(10625),c=n(13420),l=(r={},(0,i._)(r,c.H.None,!0),(0,i._)(r,c.H.PromotePopupTip,!1),(0,i._)(r,c.H.LoginPopupPeriodic,!1),(0,i._)(r,c.H.LoginPopup,!1),r),d=(0,s.p)("popupPriorityAtom@tiktok/fe-shared",{priority:c.H.None,isReadyList:l}),p=(0,s.p)("isAllReadyAtom@tiktok/fe-shared",function(e){return Object.values(e(d).isReadyList).reduce(function(e,t){return e&&t})}),f=(0,u.i)(d,function(e,t){return{setIsPopupPriorityReady:function(n){var r=e(d);if(t(d,(0,a._)((0,o._)({},r),{isReadyList:(0,a._)((0,o._)({},r.isReadyList),(0,i._)({},n,!0))})),e(p)){var u=c.N.end(c.H.None);u?t(d,(0,a._)((0,o._)({},e(d)),{priority:u})):c.N.clean()}},clearReadyListOnRouteChange:function(){var n=e(d);t(d,(0,a._)((0,o._)({},n),{isReadyList:l,priority:c.H.None})),c.N.clean()},getPriorityPopup:function(n){return{handlePopoverInitial:function(){c.N.start(n)},handlePopoverEnd:function(){if(n!==e(d).priority)c.N.remove(n);else{var r=c.N.end(n);r?t(d,(0,a._)((0,o._)({},e(d)),{priority:r})):(c.N.clean(),t(d,(0,a._)((0,o._)({},e(d)),{priority:c.H.Done})))}},handlePopoverAdd:function(){if(c.N.add(n),e(p)){var r=c.N.end(c.H.None);r&&t(d,(0,a._)((0,o._)({},e(d)),{priority:r}))}}}}}}),v=(f.useAtomService,f.useServiceDispatchers),g=f.useServiceState},10436:function(e,t,n){n.d(t,{Qt:function(){return a}}),n(40099),n(10874);var r=n(96152),i=n(72961),o=n(13610);function a(){var e=(0,i.L$)((0,o.U)(function(){return["playerInfo"]},[])).playerInfo,t=(0,i.L$)(e),n=t.name,a=void 0===n?"":n,u=t.isSmartPlayer,s=t.type,c=void 0===s?r.al.Normal:s,l=t.loop,d=t.replyComment,p=t.hideNavBar;return{brand:a,isEchoShow:"echoshow"===a,isTtincar:"ttincar"===a,launchType:c,isSmartPlayer:void 0!==u&&u,loop:void 0!==l&&l,replyComment:void 0===d||d,hideNavBar:void 0!==p&&p}}},41919:function(e,t,n){n.d(t,{PD:function(){return l},t6:function(){return c}});var r,i,o=n(79066),a=n(6586),u=n(72516),s=!1,c=function(){return(0,o._)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,o._)(function(){var e;return(0,u.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([(i||(i=new Promise(function(e){"undefined"==typeof window&&e(!1);var t=new Image;t.onload=function(){window.__support_avif__=(null==t?void 0:t.width)===1,e((null==t?void 0:t.width)===1)},t.onerror=function(){window.__support_avif__=!1,e(!1)},t.src="data:image/avif;base64,AAAALGZ0eXBhdmlzAAAAAGF2aWZhdmlzbXNmMWlzbzhtaWYxbWlhZk1BMUEAAAElbWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAiaWxvYwAAAABEQAABAAIAAAAABgAAAQAAACUAAAAYAAAAKGlpbmYAAAAAAAEAAAAaaW5mZQIAAAAAAgAAYXYwMUFscGhhAAAAAAxpcmVmAAAAAAAAAI1pcHJwAAAAbmlwY28AAAAUaXNwZQAAAAAAAAABAAAAAQAAAA5waXhpAAAAAAEIAAAADGF2MUOBABwAAAAAOGF1eEMAAAAAdXJuOm1wZWc6bXBlZ0I6Y2ljcDpzeXN0ZW1zOmF1eGlsaWFyeTphbHBoYQAAAAAXaXBtYQAAAAAAAAABAAIEAQKDBAAABKdtb292AAAAbG12aGQAAAAA4GrKgOBqyoAAAABkAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGXRyYWsAAABcdGtoZAAAAAHgasqA4GrL+AAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAQAAAAEAAAAAAbVtZGlhAAAAIG1kaGQAAAAA4GrKgOBqyoAAAABkAAAAZFXEAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAABZW1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAASVzdGJsAAAAlXN0c2QAAAAAAAAAAQAAAIVhdjAxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAEAAQBIAAAASAAAAAAAAAABCkFPTSBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAADGF2MUOBIAAAAAAAE2NvbHJuY2x4AAEADQAGgAAAABBjY3N0AAAAAHwAAAAAAAAYc3R0cwAAAAAAAAABAAAAAgAAADIAAAAUc3RzcwAAAAAAAAABAAAAAQAAAChzdHNjAAAAAAAAAAIAAAABAAAAAQAAAAEAAAACAAAAAQAAAAEAAAAcc3RzegAAAAAAAAAAAAAAAgAAACUAAAAaAAAAGHN0Y28AAAAAAAAAAgAABgAAAAY9AAACGnRyYWsAAABcdGtoZAAAAAHgasqA4GrL+AAAAAIAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAQAAAAEAAAAAABR0cmVmAAAADGF1eGwAAAABAAABom1kaWEAAAAgbWRoZAAAAADgasqA4GrKgAAAAGQAAABkVcQAAAAAAChoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAbGliYXZpZgAAAAFSbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABEnN0YmwAAACCc3RzZAAAAAAAAAABAAAAcmF2MDEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAQABAEgAAABIAAAAAAAAAAEKQU9NIENvZGluZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAMYXYxQ4EAHAAAAAAQY2NzdAAAAAB8AAAAAAAAGHN0dHMAAAAAAAAAAQAAAAIAAAAyAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAoc3RzYwAAAAAAAAACAAAAAQAAAAEAAAABAAAAAgAAAAEAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAAYAAAAEAAAABhzdGNvAAAAAAAAAAIAAAYlAAAGVwAAAG9tZGF0EgAKCyAAAAAAffyQENBpMhQQALAAAAJAAAAAeUzeCGsZI8iw4BIACggAAAAAAH38lTIKEACAAAAY3qKVUBIAMhYwA8CAAABGsAAAAkAAIAAeeln6XS7gEgAyDDADwIAAAEaABACRkAAAAENmcmVlSXNvTWVkaWEgRmlsZSBQcm9kdWNlZCB3aXRoIEdQQUMgMi4yLXJldjAtZ2FiMDEyYmJmLW1hc3RlcgA="})),i),(r||(r=new Promise(function(e){"undefined"==typeof window&&e(!1);var t=new Image;t.onload=function(){window.__support_webp__=(null==t?void 0:t.height)===160,e((null==t?void 0:t.height)===160)},t.onerror=function(){window.__support_webp__=!1,e(!1)},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvn8AnAAdQiUpUov+BiOh/AAA="})),r)])];case 1:return[2,{supportAvif:(e=a._.apply(void 0,[t.sent(),2]))[0],supportWebp:e[1]}]}})})()];case 1:return e.sent(),s=!0,[2]}})})()},l=function(){return s?{supportAvif:window.__support_avif__,supportWebp:window.__support_webp__}:(console.warn("VideoCoverViewer: can not use `getCoverFormat` before `coverFormatCheck"),{})}},89169:function(e,t,n){n.d(t,{Nh:function(){return a},b5:function(){return c},bl:function(){return o}});var r=n(95170),i=n(55169),o=Symbol.for("side-nav-hover"),a=Symbol.for("video-content-more-hover"),u=function(){function e(){(0,r._)(this,e),this.eventName=o,this.updated=!1}return e.prototype.updateLoadEvent=function(){this.updated||(i.PD.emit(this.eventName),this.updated=!0)},e}(),s=function(){function e(){(0,r._)(this,e),this.eventName=a,this.updated=!1}return e.prototype.updateLoadEvent=function(){this.updated||(i.PD.emit(this.eventName),this.updated=!0)},e}(),c=new u;new s},41150:function(e,t,n){n.d(t,{C8:function(){return b},DE:function(){return L},KE:function(){return T},PW:function(){return k},TN:function(){return P},UX:function(){return I},bu:function(){return w}});var r=n(79262),i=n(19332),o=n(76446),a=n(11110),u=n(94209),s=n(35144),c=n(56605),l=n(32049),d=n(54363),p=n(88947),f=n(89169),v=n(61681),g={resourceStrategy:"preload"},_={resourceStrategy:"custom",loadEvent:v.bL,defaultProps:{renderStrategy:"custom",renderEvent:v.bL,raceTime:6e3}},h={resourceStrategy:"custom",loadEvent:v.bL,defaultProps:{renderStrategy:"custom",renderEvent:v.bL,raceTime:9500}},m={resourceStrategy:"custom",loadEvent:f.bl,defaultProps:{renderStrategy:"custom",renderEvent:f.bl,raceTime:8e3}},y={resourceStrategy:"custom",loadEvent:f.Nh,defaultProps:{renderStrategy:"custom",renderEvent:f.Nh,raceTime:8e3}};function A(){var e=!1;if(!(0,l.fU)()){var t,n=(0,c.YI)(a.Ow),r="v0";n&&((0,s.D)(n),r=null!=(t=(0,d.d)("desktop_bundle_opt"))?t:"v0"),e=["v1"].includes(r)}return e}var b=A()?m:g,w=A()?y:g,L=A()?_:g;function S(){return"v0"!==function(){if(!(0,l.fU)())try{var e,t=(0,c.YI)(a.Ow),n="v0";return t&&((0,s.D)(t),n=null!=(e=(0,d.d)("desktop_landing_opt"))?e:"v0"),n}catch(e){}return"v0"}()}v.uM,v.uM;var T=function(){var e=!1,t=!1,n=!1;if(!(0,l.fU)())try{var o,f,v,m,y,A,b,w=(0,c.YI)(a.Ow),L="v0",S="v0",T="v0",k="v0",P="v0",I="v0",C="v0";w&&((0,s.D)(w),L=null!=(o=(0,d.d)("islands_arch_phase2"))?o:"v0",S=null!=(f=(0,d.d)("islands_arch_video_detail"))?f:"v0",T=null!=(v=(0,d.d)("islands_arch_explore"))?v:"v0",k=null!=(m=(0,d.d)("webapp_perf_page_switch"))?m:"v0",P=null!=(y=(0,d.d)("islands_arch_rest_page"))?y:"v0",I=null!=(A=(0,d.d)("foryou_opt"))?A:"v0",C=null!=(b=(0,d.d)("island_by_device"))?b:"v0");var M=window.location.pathname,E=window.location.search,O=(0,p.tO)(M),V=new URLSearchParams(E).get("scene"),x="business"===V,R=(0,p.Fj)(M),F=(0,p.eD)(M),U=(0,p.cj)(M),j=(0,p.M5)(M),D=!!u.c.find(function(e){return Number(j)===e.pageType}),W=function(){if("undefined"==typeof window)return!1;var e=!1;try{var t,n,o=new i.r({decodeImgUrl:""}).scoreSync({ignoreCachedImg:!0}).performance;if(o&&(void 0===o?"undefined":(0,r._)(o))==="object"&&"score"in o){var a=o.score;"number"==typeof a&&a<6.5&&(e=!0)}else e=(null!=(n=null==(t=navigator)?void 0:t.hardwareConcurrency)?n:4)<=4}catch(e){console.error("failed to get hardware score for island strategy")}return e}();e="v0"!==L&&O||"v0"!==S&&R&&!x||"v0"!==T&&F||"v0"!==k&&U||"v0"!==P&&D||"v0"!==I&&O,t="v1"===C&&(O||R&&!x||F||U||D)&&W,n="v2"===C&&(O||R&&!x||F||U||D)}catch(e){}return t||n?h:e?_:g}();!function(){var e=!1;if(!(0,l.fU)())try{var t,n=(0,c.YI)(a.Ow),r="v0";n&&((0,s.D)(n),r=null!=(t=(0,d.d)("explore_trending_topics"))?t:"v0");var i=window.location.pathname,o=(0,p.eD)(i);e="v0"!==r&&o}catch(e){}}();var k=S()?_:g,P=S()?{}:g;S();var I=[o.g.Challenge,o.g.Poi,o.g.Collection,o.g.SearchResult,o.g.Effect,o.g.SearchVideoResult,o.g.SearchPhotoResult,o.g.Music]},61681:function(e,t,n){n.d(t,{aY:function(){return u},bL:function(){return o},uM:function(){return a}});var r=n(95170),i=n(55169),o=Symbol.for("first-video-loaded"),a=Symbol.for("explore-custom-loaded"),u=new(function(){function e(){(0,r._)(this,e),this.loadEvent=o,this.updated=!1,this.updatedDetail=!1,this.updatedExplore=!1,this.updatedUserProfile=!1,this.updatedCommon=!1}var t=e.prototype;return t.updateVideoLoadEvent=function(){this.updated||(i.PD.emit(this.loadEvent),this.updated=!0)},t.updateVideoDetailLoadEvent=function(){this.updatedDetail||(i.PD.emit(this.loadEvent),this.updatedDetail=!0)},t.updateExploreVideoLoadEvent=function(){this.updatedExplore||(i.PD.emit(this.loadEvent),this.updatedExplore=!0)},t.updateUserProfileLoadEvent=function(){this.updatedUserProfile||(i.PD.emit(this.loadEvent),this.updatedUserProfile=!0)},t.updateCommonLoadEvent=function(){this.updatedCommon||(i.PD.emit(this.loadEvent),this.updatedCommon=!0)},t.reset=function(){this.updated=!1,this.updatedDetail=!1,this.updatedExplore=!1,this.updatedUserProfile=!1,this.updatedCommon=!1,i.PD.resetEvent(this.loadEvent)},e}());new(function(){function e(){(0,r._)(this,e),this.exploreCustomLoadEvent=a}return e.prototype.updateExploreCustomLoadEvent=function(){i.PD.emit(this.exploreCustomLoadEvent)},e}())},24809:function(e,t,n){n.d(t,{K8:function(){return y},Sd:function(){return w},W3:function(){return b},_j:function(){return A},gG:function(){return L},sy:function(){return S}});var r=n(79066),i=n(6586),o=n(54333),a=n(72516),u=n(40099),s=n(10874),c=n(44404),l=n.n(c),d=n(78380),p=n(95794),f=n(72961),v=n(43264),g=n(54363),_=n(88947),h=n(78807),m=n(51794),y=function(){var e=(0,p.Hd)(m.O_);return[d.N.Pwa,d.N.MSFT,d.N.TWA].includes(e)},A=function(){var e,t=(0,f.L$)((0,v.W)(function(){return["abTestVersion"]},[])).abTestVersion,n=null!=(e=(0,g.qt)(t,"desktop_app_test"))?e:"v1";return{desktopAppTestVid:n,isDesktopTestV1:"v1"===n,isDesktopTestV2:"v2"===n}},b=function(){var e=(0,i._)((0,u.useState)(!0),2),t=e[0],n=e[1];return(0,u.useEffect)(function(){var e,t;n((null==(t=window)||null==(e=t.TTE_ENV)?void 0:e.windowName)==="MAIN_WINDOW")},[]),t},w=function(){var e=(0,s.useLocation)().pathname;return(0,_.tO)(e)||(0,_.gq)(e)||(0,_.U0)(e)||(0,_.eD)(e)},L=function(){var e=(0,h.B)().isElectronApp;(0,u.useEffect)(function(){if(e){var t=Element.prototype.requestFullscreen;Element.prototype.requestFullscreen=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,r._)(function(){var e;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return[4,l().app.setFullScreenable(!0)];case 1:return r.sent(),(e=t).call.apply(e,[this].concat((0,o._)(n))),[2]}})}).call(this)}}},[e])},S=function(){var e,t,n,r,o=(0,i._)((0,u.useState)("undefined"!=typeof window&&null!=(r=null==(n=window)||null==(t=n.matchMedia)||null==(e=t.call(n,"(prefers-color-scheme: dark)"))?void 0:e.matches)&&r),2),a=o[0],s=o[1],c=function(e){var t;s(null!=(t=null==e?void 0:e.matches)&&t)};return(0,u.useEffect)(function(){var e,t,n=null==(t=window)||null==(e=t.matchMedia)?void 0:e.call(t,"(prefers-color-scheme: dark)");return n.addListener(c),function(){return n.removeListener(c)}},[]),a}},30234:function(e,t,n){n.d(t,{m:function(){return o}});var r=n(72961),i=n(43264),o=function(){var e=(0,r.L$)((0,i.W)(function(){return["language"]},[])).language;return{isRTL:"ar"===e||"ur"===e||"he-IL"===e}}},83691:function(e,t,n){n.d(t,{U:function(){return o}});var r=n(23680),i=n(10829);function o(){return(0,r.P)(i.L)}},10829:function(e,t,n){n.d(t,{L:function(){return C}});var r=n(79066),i=n(48748),o=n(95170),a=n(7120),u=n(5377),s=n(45996),c=n(16327),l=n(6586),d=n(54333),p=n(79262),f=n(72516),v=n(46657),g=n(23999),_=n(19293),h=n(24451),m=n(62564),y=n(35572),A=n(68710),b=n(74690),w=n(80339),L=n(78990),S=n(82379),T=n(1455),k=n(20991);function P(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function I(e,t){if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var C=function(e){function t(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,o._)(this,t),(e=(0,i._)(this,t,(0,d._)(r))).defaultState={appContext:null,initialized:!1,lang:"en",sideNavActive:!1},e}(0,a._)(t,e);var n=t.prototype;return n.setSideNavActive=function(e,t){return(0,s._)((0,u._)({},e),{sideNavActive:t})},n.toggleSideNav=function(e){var t=this;return e.pipe((0,h.E)(this.state$),(0,m.T)(function(e){var n=(0,l._)(e,2),r=(n[0],n[1]);return t.getActions().setSideNavActive(!r.sideNavActive)}))},n.setAppContext=function(e,t){var n=t.statusCode,r=(0,c._)(t,["statusCode"]);return 0!==n?e:(0,s._)((0,u._)({},e),{appContext:r})},n.setInitialized=function(e,t){return(0,s._)((0,u._)({},e),{initialized:t})},n.setLang=function(e,t){return(0,s._)((0,u._)({},e),{lang:t})},n.init=function(e){var t=this;return e.pipe((0,h.E)(this.state$),(0,y.p)(function(e){var n=(0,l._)(e,2),r=n[0].appContext;return n[1].initialized?v.w:(0,g.of)((0,s._)((0,u._)({},r),{statusCode:0})).pipe((0,A.Z)(function(e){return(0,g.of)(t.getActions().setAppContext(e),t.getActions().setLang(r.language))}),(0,b.Z)(t.getActions().setInitialized(!1)),(0,w.q)(t.getActions().setInitialized(!0),t.terminate()))}))},t}(L.E);P([(0,S.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,Boolean]),I("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],C.prototype,"setSideNavActive",null),P([(0,S.Mj)(),I("design:type",Function),I("design:paramtypes",[void 0===_.c?Object:_.c]),I("design:returntype",void 0)],C.prototype,"toggleSideNav",null),P([(0,S.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,void 0===k.BaseAppContextResponse?Object:k.BaseAppContextResponse]),I("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],C.prototype,"setAppContext",null),P([(0,S.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,Boolean]),I("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],C.prototype,"setInitialized",null),P([(0,S.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,String]),I("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],C.prototype,"setLang",null),P([(0,S.Mj)({payloadGetter:function(e){return(0,r._)(function(){return(0,f.__generator)(this,function(t){switch(t.label){case 0:return[4,e.service.baseContext.getBaseContext()];case 1:return[2,{appContext:t.sent()}]}})})()}}),I("design:type",Function),I("design:paramtypes",[void 0===_.c?Object:_.c]),I("design:returntype",void 0)],C.prototype,"init",null),C=P([(0,T.nV)("AppContext")],C)},15926:function(e,t,n){n.d(t,{o:function(){return g}});var r=n(79066),i=n(95170),o=n(79262),a=n(72516),u=n(58196),s=n(84772),c=n(73691),l=n(90542),d=n(56904),p=n(96062),f=n(51794);function v(e,t){if(("undefined"==typeof Reflect?"undefined":(0,o._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var g=function(){function e(t){var n=this;(0,i._)(this,e),this.fetch=t,this.initTargetIdcRequest=function(){var e=(0,c.qm)();return n.fetch.get("/passport/web/account/info/",{credentials:"include",baseUrlType:d.Z4.FixedWww,query:{locale:e,app_language:e.split("-")[0],aid:1459}})}}return e.prototype.checkTTwid=function(){return(0,r._)(function(){var e,t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:e=new u.TtWid({aid:f.xE,service:"www.tiktok.com",union:!1,unionHost:"",needFid:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.checkWebId()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),l.f.sendEvent("check_ttwid_error",{error_msg:t}),console.error(t),[3,4];case 4:return[2]}})})()},e}();g=function(e,t,n,r){var i,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,o._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(a<3?i(u):a>3?i(t,n,u):i(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u}([(0,s._q)(),v("design:type",Function),v("design:paramtypes",[void 0===p.p?Object:p.p])],g)},35521:function(e,t,n){n.d(t,{Eq:function(){return T},JV:function(){return y},LV:function(){return S},OB:function(){return m},Sb:function(){return L},Zl:function(){return b},d8:function(){return w},o1:function(){return h}});var r=n(35383),i=n(5377),o=n(45996),a=n(54333),u=n(53036),s=n(23112),c=n(71111),l=n(4676),d=n(38306),p=n(58295),f=(0,c.atom)({}),v=(0,c.atom)(null,function(e,t,n,a){if(a){var s=e(f)[n];s?t(s,a):t(f,function(e){return(0,o._)((0,i._)({},e),(0,r._)({},n,(0,c.atom)(a)))})}else t(f,function(e){return(0,u.A)(e,n)})}),g=(0,c.atom)(null),_=(0,c.atom)([]),h=(0,c.atom)(function(e){var t=(0,p.N)(e,d.Lz.CreatorTab).browserList;return void 0===t?[]:t}),m=(0,c.atom)(function(e){var t=[],n=e(_),r=!0,i=!1,o=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value,l=(0,p.N)(e,c.itemListKey).browserList,d=void 0===l?[]:l;if(c.skip>=d.length)break;var f=Math.min(c.skip+c.limit,d.length);if(t.push.apply(t,(0,a._)(d.slice(c.skip,f))),c.limit===1/0)break}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t}),y=(0,c.atom)(function(e){var t=e(_),n=e(m),r=null,i=0,o=!0,a=!1,u=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,d=(0,p.N)(e,l.itemListKey),f=d.browserList,v=void 0===f?[]:f,y=d.hasMore,A=void 0===y||y,b=A?l.limit:v.length-l.skip;if(i+=b,n.length<i&&A){r=l.itemListKey;break}}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}return{activeItemListKey:e(g),browserListSources:t,keyToLoadMore:r,browserList:n,creatorBrowserList:e(h)}},function(e,t,n){n.activeItemListKey&&t(g,n.activeItemListKey),n.browserListSources&&t(_,n.browserListSources)}),A=(0,l.i)(y,function(e,t){return{registerBrowserListConfig:function(e){var n=e.itemListKey;t(v,null!=n?n:"",e.config)},setupBrowserList:function(n){var r=n.itemListKey,i=n.enterIndex,o=e(f)[null!=r?r:""],u=o?e(o):null,c=[];if(r!==d.Lz.Explore||(0,s.A)(u))c.push({itemListKey:r,skip:0,limit:1/0});else{var l,p,v,h,m,y=null!=(m=null==u?void 0:u.sources)?m:[];c.push.apply(c,(0,a._)((l=r,p=i,v={},h=[],y.forEach(function(e,t){var n=e.itemListKey,r=e.limit;if(n){var i,o=null!=(i=v[n])?i:0,a=0===t&&n===l?p+r:r;h.push({itemListKey:n,skip:o,limit:a}),v[n]=o+a}}),h)))}t(g,r),t(_,c)},clearBrowserList:function(){t(g,null),t(_,[])},freezeSourceWithKey:function(n){var r=e(_),i=[],o=!0,a=!1,u=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;if(l.itemListKey!==n)i.push(l);else{var d=(0,p.N)(e,l.itemListKey).browserList,f=void 0===d?[]:d;l.skip<f.length&&(l.limit=Math.min(f.length-l.skip,l.limit),i.push(l))}}}catch(e){a=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw u}}t(_,i)},getSourceIndex:function(t){var n,r=e(m),i=e(_),o=0,a=!0,u=!1,s=void 0;try{for(var c,l,d=i[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var f=l.value,v=(0,p.N)(e,f.itemListKey),g=v.browserList,h=void 0===g?[]:g,y=v.hasMore,A=void 0===y||y?f.limit:h.length-f.skip;if(t<o+A||r.length<o+A)return{itemListKey:f.itemListKey,index:f.skip+(Math.min(t,r.length)-o)};o+=A}}catch(e){u=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw s}}var b=null!=(n=null==(c=i[i.length-1])?void 0:c.itemListKey)?n:null,w=(0,p.N)(e,b).browserList;return{itemListKey:b,index:Math.max((void 0===w?[]:w).length-1,0)}}}}),b=A.useAtomService,w=A.useServiceState,L=A.useServiceDispatchers,S=A.getStaticApi,T=(0,c.atom)(null)},59384:function(e,t,n){n.d(t,{bc:function(){return Z},BI:function(){return $},YZ:function(){return N},$T:function(){return D},JD:function(){return q}});var r,i,o=n(79066),a=n(35383),u=n(5377),s=n(45996),c=n(16327),l=n(72516),d=n(71111),p=n(4676),f=n(76446),v=n(60896),g=n(8686),_=n(48859),h=n(69597),m=n(32215),y=n(59952),A=n(38306),b=n(38684),w=n(66709),L=n(17832),S=n(34412),T=n(57007),k=n(13495),P=n(78790),I=n(49244),C=n(729),M=n(42646),E=n(56904),O=n(35521),V=n(28680),x=function(e){var t=(0,V.L)(h.AU);null==t||t.reportVideoInteractStart({startTime:Date.now(),situation:e})},R=n(72074),F=n(58295),U=(r={},(0,a._)(r,A.Lz.ForYou,_.ey.OneColumn),(0,a._)(r,A.Lz.Topic,_.ey.OneColumn),(0,a._)(r,A.Lz.Following,_.ey.OneColumn),(0,a._)(r,A.Lz.Video,_.ey.OneColumn),(0,a._)(r,A.Lz.Find,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Music,_.ey.ThreeColumn),(0,a._)(r,A.Lz.MusicNew,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Challenge,_.ey.ThreeColumn),(0,a._)(r,A.Lz.ChallengeNew,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Sticker,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Effect,_.ey.ThreeColumn),(0,a._)(r,A.Lz.User,_.ey.ThreeColumn),(0,a._)(r,A.Lz.UserPost,_.ey.ThreeColumn),(0,a._)(r,A.Lz.UserRepost,_.ey.ThreeColumn),(0,a._)(r,A.Lz.UserLiked,_.ey.ThreeColumn),(0,a._)(r,A.Lz.SearchTop,_.ey.ThreeColumn),(0,a._)(r,A.Lz.SearchVideo,_.ey.ThreeColumn),(0,a._)(r,A.Lz.SearchPhoto,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Question,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Playlist,_.ey.ThreeColumn),(0,a._)(r,A.Lz.LiveEvent,_.ey.ThreeColumn),(0,a._)(r,A.Lz.VideoPlaylist,_.ey.OneColumn),(0,a._)(r,A.Lz.CreateVideoPlaylist,_.ey.OneColumn),(0,a._)(r,A.Lz.Messages,_.ey.OneColumn),(0,a._)(r,A.Lz.Discover,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Poi,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Collection,_.ey.ThreeColumn),(0,a._)(r,A.Lz.UserPostPublic,_.ey.OneColumn),(0,a._)(r,A.Lz.Explore,_.ey.OneColumn),(0,a._)(r,A.Lz.Channel,_.ey.ThreeColumn),(0,a._)(r,A.Lz.PoiCategory,_.ey.ThreeColumn),(0,a._)(r,A.Lz.SearchLive,_.ey.ThreeColumn),(0,a._)(r,A.Lz.Favorites,_.ey.ThreeColumn),(0,a._)(r,A.Lz.KeywordExpansion,_.ey.ThreeColumn),(0,a._)(r,A.Lz.CreatorTab,_.ey.BrowserMode),(0,a._)(r,A.Lz.Friends,_.ey.OneColumn),(0,a._)(r,A.Lz.TrendingTopics,_.ey.ThreeColumn),r),j=(i={},(0,a._)(i,b.xy.Friends,"friends"),(0,a._)(i,b.xy.Private,"private"),(0,a._)(i,b.xy.Public,"public"),i),D=(0,d.atom)({currentIndex:0,enterIndex:0,prevFeedItemIndex:null,itemListKey:null,prevFeedItemListKey:null,jumpSamePageTime:0,belowPlayMode:_.ey.OneColumn,enterWindowTimeSec:Number(new Date),showingBrowserMode:!1,isCreatorBrowserMode:!1});D.debugLabel="browserModeAtom";var W=(0,d.atom)(function(e){var t=e(D).itemListKey;return(0,F.N)(e,t)}),B=(0,p.i)(D,function(e,t){return{setItemListKey:function(e){t(D,function(t){return(0,s._)((0,u._)({},t),{itemListKey:e})})},setCurrentIndex:function(e){t(D,function(t){return(0,s._)((0,u._)({},t),{currentIndex:e})})},setClickSamePage:function(){t(D,function(e){return(0,s._)((0,u._)({},e),{jumpSamePageTime:Date.now()})})},setShowingBrowserMode:function(e){t(D,function(t){return(0,s._)((0,u._)({},t),{showingBrowserMode:e})})},updateVideoIndexAndSavePrev:function(n){var r=n.newFeedIndex,i=n.isIndexInvalid,o=n.newId,a=n.playProgress,c=n.itemListKey,l=n.currentIndex,d=n.newItemListKey,p=n.playMode;if(!i){var f=e(P.az).isMiniPlayerShowing;if(t(D,function(e){return(0,s._)((0,u._)({},e),{itemListKey:d,currentIndex:r,prevFeedItemIndex:l,prevFeedItemListKey:c})}),f){(0,P.uZ)().setItemListKey(A.Lz.CreatorTab),(0,P.uZ)().updateVideoIndex({newIndex:r,newId:o});return}(0,y.LM)().updateVideo({currentVideo:{index:r,id:o,mode:p},playProgress:null!=a?a:0})}},handleEnterCreatorMode:function(n){try{x(h.uT.EnterCreatorMode);var r,i=n.creatorFeedIndex,o=e(D),a=o.itemListKey,c=o.currentIndex,l=e(O.o1),d=!l.length,p=null!=(r=l[i])?r:"";this.updateVideoIndexAndSavePrev({newFeedIndex:i,isIndexInvalid:d,newId:p,itemListKey:a,currentIndex:c,newItemListKey:A.Lz.CreatorTab,playMode:_.ey.BrowserMode}),t(D,function(e){return(0,s._)((0,u._)({},e),{isCreatorBrowserMode:!0})})}catch(e){}},handleExitCreatorMode:function(){try{x(h.uT.ExitCreatorMode);var n,r=e(D),i=r.prevFeedItemIndex,o=r.prevFeedItemListKey,a=e(O.OB),c=null!=i?i:0,l=!a.length,d=null!=(n=a[c])?n:"";this.handleClearCreatorModeData({newIndex:c,isIndexInvalid:l,prevFeedItemListKey:o});var p={currentVideo:{index:c,id:d,mode:_.ey.BrowserMode},playProgress:0};(0,y.LM)().updateVideo(p),t(D,function(e){return(0,s._)((0,u._)({},e),{isCreatorBrowserMode:!1})})}catch(e){}},handleCreatorModeVideoClick:function(t){try{x(h.uT.ClickCreatorTabVideo);var n,r=t.creatorFeedIndex,i=e(P.az).isMiniPlayerShowing,o=e(O.o1),a=!o.length,u=null!=(n=o[r])?n:"";i?(0,P.uZ)().updateVideoIndex({newIndex:r,newId:u}):this.updateVideoIndex({newIndex:r,newId:u,isIndexInvalid:a})}catch(e){}},updateVideoIndex:function(n){var r=n.newIndex,i=n.isIndexInvalid,o=n.newId,a=n.playProgress,c=e(P.az).isMiniPlayerShowing,l=e(D).itemListKey;if(!i&&(t(D,function(e){return(0,s._)((0,u._)({},e),{currentIndex:r})}),!c)){var d={currentVideo:{index:r,id:o,mode:_.ey.BrowserMode},playProgress:null!=a?a:0,pageType:l?A.FB[l]:f.g.Unknown};(0,y.LM)().updateVideo(d)}},updateDeleteVideo:function(n){var r=e(D).currentIndex,i=e(O.OB),o=i.length,a=o-1<=0,u=o-1===r,s=a?"":i[u?r-1:r+1];if(n){this.updateVideoIndex({newIndex:u?r-1:r,newId:s,isIndexInvalid:a});var c=(0,w.Ds)(),l=(0,L.HG)();c.setDeleteVideo(n),l.setDeleteVideo(n),t(I.D,"setDeleteVideo",n),t(C.t,"setDeleteVideo",n)}},handleClearCreatorModeData:function(e){var n=e.prevFeedItemListKey,r=e.newIndex;e.isIndexInvalid||t(D,function(e){return(0,s._)((0,u._)({},e),{currentIndex:r,itemListKey:n,prevFeedItemIndex:null,prevFeedItemListKey:null})})},postVideoDelete:function(e){return(0,o._)(function(){var t,n,r,i;return(0,l.__generator)(this,function(c){switch(c.label){case 0:t=(0,R.o)(),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,o._)(function(){return(0,l.__generator)(this,function(t){return[2,M.h.post("/api/aweme/delete/",{query:(0,s._)((0,u._)({},e),{tt_csrf_token:M.h.csrfToken}),headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})()];case 2:return r=(n=c.sent()).status_code,i=n.status_msg,t.setBrowserModeStatus({statusCode:r,statusMessage:i,action:"delete"}),r===T.s.Ok&&(m.y.handleVideoDelete("delete"),this.updateDeleteVideo(e.aweme_id)),[3,4];case 3:return c.sent(),t.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})}).call(this)},postScheduleDelete:function(e){return(0,o._)(function(){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:t=(0,R.o)(),n.label=1;case 1:var r;return n.trys.push([1,3,,4]),[4,(r={aweme_id:e},(0,o._)(function(){return(0,l.__generator)(this,function(e){return[2,M.h.post("/api/schedule/aweme/delete/",{query:r,headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})())];case 2:return n.sent(),t.setBrowserModeStatus({statusCode:T.s.Ok,statusMessage:"",action:"delete"}),this.updateDeleteVideo(e),m.y.handleScheduleDelete("delete"),[3,4];case 3:return n.sent(),t.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})}).call(this)},postDuetOrStitchChange:function(e){return(0,o._)(function(e){var n,r,i,c,d,p;return(0,l.__generator)(this,function(f){switch(f.label){case 0:n=e.type,r=e.enable,i=e.aweme_id,c=(0,R.o)(),f.label=1;case 1:var g;return f.trys.push([1,3,,4]),[4,(g=(0,a._)({aweme_id:i},n,r),(0,o._)(function(){return(0,l.__generator)(this,function(e){return[2,M.h.post("/api/aweme/set/react_duet_stitch/",{query:(0,s._)((0,u._)({},g),{tt_csrf_token:M.h.csrfToken}),headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})())];case 2:return(d=f.sent().status_code)!==T.s.Ok?(c.setBrowserModeStatus({statusCode:d,statusMessage:""}),d===T.s.VideoUnavailableDeleted&&this.updateDeleteVideo(i)):(m.y.handlePrivateSetting({target:n,to_status:r?"on":"off"}),p="item_duet"===n?"duetEnabled":"stitchEnabled",t(C.t,"updateItem",(0,a._)({id:i},p,r===v.V.ENABLE))),[3,4];case 3:return f.sent(),c.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})}).apply(this,arguments)},postModifyVisibility:function(e){return(0,o._)(function(){var n,r,i,c;return(0,l.__generator)(this,function(d){switch(d.label){case 0:n=(0,R.o)(),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,o._)(function(){return(0,l.__generator)(this,function(t){return[2,M.h.post("/api/aweme/modify/visibility/",{query:(0,s._)((0,u._)({},e),{tt_csrf_token:M.h.csrfToken}),headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})()];case 2:return i=(r=d.sent()).status_code,c=r.status_msg,i!==T.s.Ok?(n.setBrowserModeStatus({statusCode:i,statusMessage:c}),i===T.s.VideoUnavailableDeleted&&this.updateDeleteVideo(e.aweme_id)):(m.y.handleSelectPrivacySettingVideo({to_status:j[e.type]}),(0,k.G)(i,[T.s.Ok]),t(C.t,"setItemPrivateState",{id:e.aweme_id,visibility:e.type})),[3,4];case 3:return d.sent(),n.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})}).call(this)},postUserSetting:function(e){return(0,o._)(function(){var n,r,i,c;return(0,l.__generator)(this,function(d){switch(d.label){case 0:n=(0,R.o)(),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,o._)(function(){return(0,l.__generator)(this,function(t){return[2,M.h.post("/api/user/set/settings/",{baseUrlType:E.Z4.FixedWww,query:(0,s._)((0,u._)({},e),{tt_csrf_token:M.h.csrfToken}),headers:(0,a._)({},E.nk,M.h.csrfToken)})]})})()];case 2:return(r=d.sent().status_code)!==T.s.Ok?(n.setBrowserModeStatus({statusCode:r,statusMessage:""}),r===T.s.VideoUnavailableDeleted&&this.updateDeleteVideo(null!=(i=e.aweme_id)?i:"")):(m.y.handlePrivateSetting({target:"comment",to_status:e.private_setting===g.v.PUBLIC?"on":"off"}),t(C.t,"updateItem",{id:null!=(c=e.aweme_id)?c:"",itemCommentStatus:e.private_setting})),[3,4];case 3:return d.sent(),n.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})}).call(this)},postUserSettingsUpdate:function(e){return(0,o._)(function(){var t,n;return(0,l.__generator)(this,function(r){switch(r.label){case 0:t=(0,R.o)(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,o._)(function(){return(0,l.__generator)(this,function(t){return[2,M.h.post("/api/privacy/item/settings/update/v1",{query:e,headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})()];case 2:return(n=r.sent().status_code)!==T.s.Ok&&t.setBrowserModeStatus({statusCode:n,statusMessage:""}),[3,4];case 3:return r.sent(),t.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})})()},getItemRestriction:function(e){return(0,o._)(function(){var t,n,r,i;return(0,l.__generator)(this,function(u){switch(u.label){case 0:t=(0,R.o)(),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,o._)(function(){return(0,l.__generator)(this,function(t){return[2,M.h.get("/api/privacy/item/restriction/v1",{query:e,headers:(0,a._)({},E.nk,M.h.csrfToken),baseUrlType:E.Z4.FixedWww})]})})()];case 2:if(r=(n=u.sent()).status_code,i=(0,c._)(n,["status_code"]),r!==T.s.Ok)return t.setBrowserModeStatus({statusCode:r,statusMessage:""}),[2];return[2,i];case 3:return u.sent(),t.setBrowserModeStatus({statusCode:T.s.UnknownError,statusMessage:""}),[3,4];case 4:return[2]}})})()},closeBrowserMode:function(n){var r,i=null!=n?n:{},o=i.playProgress,a=i.shouldPause,c=void 0!==a&&a,l=e(D),d=l.itemListKey,p=l.currentIndex,v=l.belowPlayMode,g=l.isCreatorBrowserMode,_=l.prevFeedItemIndex,h=l.prevFeedItemListKey,m=l.afterCloseBrowserMode,b=g?null!=h?h:"":null!=d?d:"",w=g?null!=_?_:0:p,L=e(O.OB),S=e(W).list,T=!L.length,k=null!=(r=L[w])?r:"",P=S.findIndex(function(e){return k===e});g&&(t(D,function(e){return(0,s._)((0,u._)({},e),{isCreatorBrowserMode:!1})}),this.handleClearCreatorModeData({prevFeedItemListKey:b,newIndex:w,isIndexInvalid:T}));var I={currentVideo:{index:c?-1:P,id:c?"":k,mode:null!=v?v:U[b],pageType:b?A.FB[b]:f.g.Unknown},playProgress:void 0===o?0:o};(0,y.LM)().updateVideo(I),null==m||m(),t(D,function(e){return(0,s._)((0,u._)({},e),{showingBrowserMode:!1,belowPlayMode:null,afterCloseBrowserMode:void 0})}),(0,O.LV)().clearBrowserList()},showBrowserMode:function(n){var r=n.index,i=void 0===r?0:r,o=n.playProgress,a=n.belowPlayMode,c=n.forceUseIndexLocation,l=n.shouldUsePreviousProgress,d=n.afterCloseBrowserMode,p=e(W),f=p.browserList,v=p.list[i],g=e(S.jD)[v],h=((null==g?void 0:g.contentType)==="video"?g:{currentTime:0}).currentTime,m=c?i:Math.max(0,Math.min(f.length-1,f.findIndex(function(e){return v===e}))),y=e(D).itemListKey,A=e(P.az).isMiniPlayerShowing;(0,O.LV)().setupBrowserList({itemListKey:y,enterIndex:m}),A&&(0,P.uZ)().setPrevPlayMode(_.ey.BrowserMode),this.updateVideoIndex({newIndex:m,newId:v,isIndexInvalid:!1,playProgress:void 0!==l&&l?h:void 0===o?0:o}),t(D,function(e){return(0,s._)((0,u._)({},e,a?{belowPlayMode:a}:{}),{afterCloseBrowserMode:d,showingBrowserMode:!0,enterIndex:m})})},handleNextVideo:function(){try{x(h.uT.BrowserModeNext);var t,n=e(D),r=n.currentIndex,i=n.isCreatorBrowserMode,o=e(i?O.o1:O.OB),a=e(W).liveCardDisplay,u=e(C.t),s=e(P.az).isMiniPlayerShowing,c=(0,F.A)(r,o,u,a,"next"),l=!o.length||c<0,d=null!=(t=o[c])?t:"";if(l)return void console.warn("cannot switch to next video for some reasons");s?(0,P.uZ)().handleNextVideo():this.updateVideoIndex({newIndex:c,newId:d,isIndexInvalid:!1})}catch(e){}},handlePrevVideo:function(){try{x(h.uT.BrowserModePrev);var t,n=e(D),r=n.currentIndex,i=n.isCreatorBrowserMode,o=e(W),a=e(i?O.o1:O.OB),u=o.liveCardDisplay,s=e(C.t),c=e(P.az).isMiniPlayerShowing,l=(0,F.A)(r,a,s,u,"prev"),d=!a.length||l>a.length-1,p=null!=(t=a[l])?t:"";if(d)return void console.warn("cannot switch to prev video for some reasons");c?(0,P.uZ)().handlePrevVideo():this.updateVideoIndex({newIndex:l,newId:p,isIndexInvalid:!1})}catch(e){}},getAdjacentVideoInfo:function(){var t=e(D),n=t.currentIndex,r=e(t.isCreatorBrowserMode?O.o1:O.OB);return[r[n-1],r[n+1]].map(function(e){return null!=e?e:0})}}}),q=B.useServiceState,N=B.useServiceDispatchers,$=B.useAtomService,Z=B.getStaticApi},72074:function(e,t,n){n.d(t,{W:function(){return d},o:function(){return l}});var r=n(5377),i=n(45996),o=n(71111),a=n(4676),u={statusCode:n(57007).s.Ok,statusMessage:"",toastNotShown:!1},s=(0,o.atom)((0,r._)({},u)),c=(0,a.i)(s,function(e,t){return{setBrowserModeStatus:function(e){t(s,(0,i._)((0,r._)({},e),{toastNotShown:!0}))},clearBrowserModeStatus:function(){t(s,(0,r._)({},u))}}}),l=c.getStaticApi,d=c.useAtomService},58295:function(e,t,n){n.d(t,{A:function(){return u},N:function(){return s}});var r=n(8561),i=n(89458),o=n(20386),a=n(49244),u=function(e,t,n,o,a){var u=o===r.po.DISPLAY_SINGLE_COLUMN,s="next"===a?e+1:e-1;if(u)for(var c=null!=(d=t[s])?d:"",l=(0,i.Jl)(n[c]);l;){var d,p,f=null!=(p=t[s="next"===a?s+1:s-1])?p:"";if(l=(0,i.Jl)(n[f]),s>t.length-1||s<0||""===f)return e}return Math.max(Math.min(s,t.length-1),0)},s=function(e,t){var n,r=(0,o.D)(t);return r?e(r):null!=(n=e(a.D)[null!=t?t:""])?n:{}}},23354:function(e,t,n){n.d(t,{BL:function(){return g},MM:function(){return v},nf:function(){return f}});var r=n(95170),i=n(85943),o=n(75064),a=n(95794),u=n(37633),s={METHOD:"last_login_success_method",TIMESTAMP:"last_login_success_timestamp",TRACKING_INFO:"last_login_success_tracking_info",ENTER_TYPE:"last_login_enter_type"},c="login_tracking_resume_data",l="login_tracking_resume_timestamp",d="login_tracking_resume_source",p=function(){function e(){(0,r._)(this,e),this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS=1e4,this.hasDurationSinceClickTimestampUsed=!1,this.MAX_RESUME_VALID_DURATION_THRESHOLD_SECONDS=1e4}var t=e.prototype;return t.populateTrackingInfoFromSessionStorage=function(){var e,t,n=(0,a.Qy)("login_btn_click_timestamp")||void 0,r=n?Number(n):void 0,i=void 0!==r&&Date.now()-r>this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS,o=(0,a.Qy)("login_tracking_info")||void 0,u=(0,a.Qy)("login_send_info_back_after_success")||void 0,s=(0,a.Qy)(c)||void 0,p=(0,a.Qy)(l)||void 0,f=p?Number(p):void 0,v=void 0!==f&&Date.now()-f<=this.MAX_RESUME_VALID_DURATION_THRESHOLD_SECONDS,g=(0,a.Qy)(d)||void 0;if(o){try{e=JSON.parse(o)}catch(e){console.log("Parse tracking info from session storage failed",e)}return!e||i?this.resetTrackingProps():(this.setTrackingInfo(e),this.setClickToLoginTimestamp(r),this.setHasDurationSinceClickTimestampUsed(!1),this.setSendInfoBackAfterLoginSuccess("1"===u),void this.setResumeDataSource(void 0))}if(s&&g){try{t=JSON.parse(s)}catch(e){console.log("Parse resume data from session storage failed",e)}return t&&v?this.batchSetResumeInfo(t,g):this.resetTrackingProps()}return this.resetTrackingProps()},t.batchSetResumeInfo=function(e,t){this.setTrackingInfo(e.trackingInfo),this.setClickToLoginTimestamp(e.clickToLoginTimestamp),this.setHasDurationSinceClickTimestampUsed(e.hasDurationSinceClickTimestampUsed),this.setSendInfoBackAfterLoginSuccess(e.sendInfoBackAfterLoginSuccess),this.setLoginSuccessPlatform(e.loginSuccessPlatform),this.setLoginSuccessEnterType(e.loginSuccessEnterType),this.setResumeDataSource(t)},t.setTrackingInfo=function(e){this.trackingInfo=e},t.getTrackingInfo=function(){return this.trackingInfo},t.getResumeDataSource=function(){return this.resumeDataSource},t.setClickToLoginTimestamp=function(e){this.clickToLoginTimestamp=e},t.setLoginSuccessPlatform=function(e){this.loginSuccessPlatform=e},t.setLoginSuccessEnterType=function(e){this.loginSuccessEnterType=e},t.setResumeDataSource=function(e){this.resumeDataSource=e},t.getClickToLoginTimestamp=function(){return this.clickToLoginTimestamp},t.setSendInfoBackAfterLoginSuccess=function(e){this.sendInfoBackAfterLoginSuccess=e},t.getSendInfoBackAfterLoginSuccess=function(){return this.sendInfoBackAfterLoginSuccess},t.resetTrackingProps=function(){this.trackingInfo=void 0,this.clickToLoginTimestamp=void 0,this.sendInfoBackAfterLoginSuccess=void 0,this.hasDurationSinceClickTimestampUsed=!1,this.loginSuccessPlatform=void 0,this.loginSuccessEnterType=void 0,this.resumeDataSource=void 0},t.prepareResumeData=function(e){if(this.trackingInfo){var t=JSON.stringify({trackingInfo:this.trackingInfo,clickToLoginTimestamp:this.clickToLoginTimestamp,sendInfoBackAfterLoginSuccess:this.sendInfoBackAfterLoginSuccess,hasDurationSinceClickTimestampUsed:this.hasDurationSinceClickTimestampUsed,loginSuccessEnterType:this.loginSuccessEnterType,loginSuccessPlatform:this.loginSuccessPlatform});(0,a.J2)(c,t),(0,a.J2)(l,Date.now().toString()),(0,a.J2)(d,e)}},t.clearResumeData=function(){(0,a.X)(c),(0,a.X)(l),(0,a.X)(d)},t.setHasDurationSinceClickTimestampUsed=function(e){this.hasDurationSinceClickTimestampUsed=e},t.getDurationSinceClickTimestampOnce=function(){if(!this.hasDurationSinceClickTimestampUsed)return this.hasDurationSinceClickTimestampUsed=!0,void 0!==this.clickToLoginTimestamp?Date.now()-this.clickToLoginTimestamp:void 0},t.saveLoginSuccessInfo=function(e){var t=e.teaPlatform,n=e.isSignUp;this.trackingInfo&&(this.loginSuccessPlatform=t,this.loginSuccessEnterType=n?o.TZ.ClickSignUp:o.TZ.ClickLogin)},t.getLoginSuccessE2ETrackingProps=function(){if(this.trackingInfo&&this.sendInfoBackAfterLoginSuccess)return{trackingInfo:this.trackingInfo,successTimestamp:Date.now(),successEnterType:this.loginSuccessEnterType,successMethod:this.loginSuccessPlatform}},t.setUpLoginSuccessE2ETracking=function(){if(this.trackingInfo&&this.sendInfoBackAfterLoginSuccess){var e=s.TIMESTAMP,t=s.METHOD,n=s.TRACKING_INFO,r=s.ENTER_TYPE;(0,a.J2)(e,Date.now().toString()),(0,a.J2)(n,JSON.stringify(this.trackingInfo)),this.loginSuccessEnterType&&(0,a.J2)(r,this.loginSuccessEnterType),this.loginSuccessPlatform&&(0,a.J2)(t,this.loginSuccessPlatform),i.A.set("TT_rp_login_track_pram","1",{path:"/",domain:"tiktok.com",secure:!1,sameSite:"lax","max-age":"4"})}},e}(),f=(0,u.U)("LoginTrackingUtilsInstance@tiktok/fe-shared",function(){return new p}),v={CLICK_TIMESTAMP:"logout_btn_click_timestamp",TRACKING_INFO:"logout_tracking_info"},g=new(function(){function e(){(0,r._)(this,e),this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS=1e4}var t=e.prototype;return t.populateTrackingInfoFromSessionStorage=function(){var e,t=(0,a.Qy)(v.CLICK_TIMESTAMP)||void 0,n=t?Number(t):void 0,r=void 0!==n&&Date.now()-n>this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS,i=(0,a.Qy)(v.TRACKING_INFO)||void 0;if(!r){if(i)try{e=JSON.parse(i)}catch(e){console.log("Parse logout tracking info from session storage failed",e)}this.trackingInfo=e}},t.getTrackingInfo=function(){return this.trackingInfo},e}())},98902:function(e,t,n){n.d(t,{i:function(){return u}});var r=n(14631),i=n(95794),o=n(23354),a=n(81314),u=function(e,t,n){if(a.LU.removeAll(),n){n.logoutSubmit(null!=t?t:{});var u,s=null==(u=n.getCommonTrackingInfo)?void 0:u.call(n);s&&((0,i.J2)(o.MM.TRACKING_INFO,JSON.stringify(s)),(0,i.J2)(o.MM.CLICK_TIMESTAMP,Date.now().toString()))}else r.z.logoutSubmit(null!=t?t:{});var c="https://www.tiktok.com/logout";e&&(c+="?redirect_url=".concat(encodeURIComponent(e))),window.location.href=c}},78790:function(e,t,n){n.d(t,{Dy:function(){return S},Sp:function(){return T},az:function(){return A},mE:function(){return L},uZ:function(){return k}});var r,i,o=n(79066),a=n(5377),u=n(45996),s=n(54333),c=n(72516),l=n(71111),d=n(4676),p=n(90542),f=n(48859),v=n(59952),g=n(34412),_=n(58295),h=n(35521),m=n(59384),y={isDocumentPipSupporting:"undefined"!=typeof window&&"documentPictureInPicture"in window&&(i=(r=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\./))?Number(r[1]):-1)>=126&&133!==i,pipWindow:null,isMiniPlayerShowing:!1,itemListKey:null,currentIndex:0,prevPlayMode:null,miniPlayerRef:null,svgChangeObserver:null,enterTimestamp:0,windowHeight:598,windowWidth:306},A=(0,l.atom)(y);A.debugLabel="miniPlayerAtom";var b=(0,l.atom)(function(e){var t=e(A).itemListKey;return(0,_.N)(e,t)}),w=(0,d.i)(A,function(e,t){return{setItemListKey:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{itemListKey:e})})},setCurrentIndex:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{currentIndex:e})})},setPrevPlayMode:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{prevPlayMode:e})})},setIsMiniPlayerShowing:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{isMiniPlayerShowing:e})})},setMiniPlayerRef:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{miniPlayerRef:e})})},setIsLandingIndicatorDismissed:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{isLandingIndicatorDismissed:e})})},initEnableNewLocalStorageKey:function(){t(A,function(e){return(0,u._)((0,a._)({},e),{enableNewLocalStorageKey:!1})})},setIsAfterSwitchTabOrWindowSizeChange:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{isAfterSwitchTabOrWindowSizeChange:e})})},setIsAfterSwitchTabOrWindowSizeChangeIndicatorDismissed:function(e){t(A,function(t){return(0,u._)((0,a._)({},t),{isAfterSwitchTabOrWindowSizeChangeIndicatorDismissed:e})})},updateMiniPlayerSize:function(){var n=e(A).pipWindow;if(n){var r=n.innerHeight,i=n.innerWidth;t(A,function(e){return(0,u._)((0,a._)({},e),{windowHeight:r,windowWidth:i})})}},updateVideoIndex:function(n){var r=n.newIndex,i=n.newId,o=n.playProgress,s=n.isMiniPlayerNotSupported,c=e(A).prevPlayMode;t(A,function(e){return(0,u._)((0,a._)({},e),{currentIndex:r})});var l={currentVideo:{index:r,id:i,mode:s?c:f.ey.MiniPlayer},playProgress:null!=o?o:0};(0,v.LM)().updateVideo(l),e(m.$T).showingBrowserMode&&(0,m.bc)().updateVideoIndex({newId:i,newIndex:r,isIndexInvalid:!1})},closeMiniPlayer:function(n){var r,i,o,s=n.playMode,c=n.enter_method,l=e(A),d=l.currentIndex,g=l.prevPlayMode,_=l.pipWindow,h=l.miniPlayerRef,m=l.svgChangeObserver,y=l.enterTimestamp,w=e(b).list,L=void 0===w?[]:w,S=null!=(i=L[d])?i:"",T=L.findIndex(function(e){return S===e}),k=null!=(o=null==h||null==(r=h.current)?void 0:r.currentTime)?o:0;_&&(null==_||_.close(),p.f.sendEvent("turn_off_mini_player",{play_mode:f.Jr[null!=g?g:"-1"],group_id:S,enter_method:c,stay_duration:(Date.now()-y)/1e3,has_more:d<L.length-1}),(0,v.LM)().updateVideo({currentVideo:{index:T,id:S,mode:null!=s?s:g},playProgress:k}),null==m||m.disconnect(),t(A,function(e){return(0,u._)((0,a._)({},e),{pipWindow:null,isMiniPlayerShowing:!1,itemListKey:null,currentIndex:0,prevPlayMode:null,miniPlayerRef:null,svgChangeObserver:null,enterTimestamp:0})}))},openMiniPlayer:function(n){return(0,o._)(function(){var r,i,o,l,d,y,b,w,L,S,T,k,P,I,C,M,E,O,V,x,R,F,U;return(0,c.__generator)(this,function(c){switch(c.label){case 0:if(r=this,o=void 0===(i=n.index)?0:i,l=n.playMode,d=n.itemListKey,y=n.itemId,b=(0,g.Q3)().getVideoPlayProgressState({itemId:y}).currentTime,L=(w=e(A)).pipWindow,S=w.isDocumentPipSupporting,T=w.windowHeight,k=w.windowWidth,!S||"undefined"==typeof window||null!==L)return[2];P=(0,_.N)(e,d).list,C=(I=e(m.$T)).showingBrowserMode,M=I.isCreatorBrowserMode,E=e(h.JV).browserList,O=C&&!M?E[o]:P[o],c.label=1;case 1:return c.trys.push([1,3,,4]),V=Date.now(),documentPictureInPicture.addEventListener("enter",function(){p.f.sendEvent("enter_mini_player",{latency:Date.now()-V,play_mode:f.Jr[l],group_id:O})},{once:!0}),[4,window.documentPictureInPicture.requestWindow({width:k,height:T})];case 2:return(x=c.sent()).addEventListener("pagehide",function(){r.closeMiniPlayer({playMode:l})},{once:!0}),(0,s._)(document.styleSheets).forEach(function(e){try{var t=(0,s._)(e.cssRules).map(function(e){return e.cssText}).join(""),n=document.createElement("style");n.textContent=t,x.document.head.appendChild(n)}catch(t){var r=document.createElement("link");if(null===e.href)return;r.rel="stylesheet",r.type=e.type,r.media=e.media.toString(),r.href=e.href,x.document.head.appendChild(r)}}),this.createOrUpdateSVGSprite(x),R=document.querySelector("#svg-sprite-container"),F=new MutationObserver(function(){return r.createOrUpdateSVGSprite(x)}),R&&F.observe(R,{subtree:!0,childList:!0}),U={currentVideo:{index:o,id:O,mode:f.ey.MiniPlayer},playProgress:b},(0,v.LM)().updateVideo(U),t(A,function(e){return(0,u._)((0,a._)({},e),{enterTimestamp:Date.now(),itemListKey:d,prevPlayMode:l,isMiniPlayerShowing:!0,currentIndex:o,pipWindow:x,svgChangeObserver:F})}),[3,4];case 3:return console.error("DocumentPIP error",c.sent()),[3,4];case 4:return[2]}})}).call(this)},createOrUpdateSVGSprite:function(e){var t=document.querySelector("#svg-sprite-container");try{var n=e.document.body.querySelector("svg");n||(n=document.createElement("svg"),e.document.body.appendChild(n)),n.innerHTML=(null==t?void 0:t.outerHTML)||""}catch(e){console.log("error to copy svg sprite",e)}},handleNextVideo:function(){try{var t,n=e(A).currentIndex,r=e(b).list,i=n+1,o=null!=(t=r[i])?t:"";if(!r.length||i<0||i>=r.length)return void console.warn("cannot switch to next video for some reasons");this.updateVideoIndex({newIndex:i,newId:o})}catch(e){}},handlePrevVideo:function(){try{var t,n=e(A).currentIndex,r=e(b).list,i=n-1,o=!r.length||i<0||i>=r.length,a=null!=(t=r[i])?t:"";if(o)return void console.warn("cannot switch to prev video for some reasons");this.updateVideoIndex({newIndex:i,newId:a})}catch(e){}}}}),L=w.useServiceState,S=w.useServiceDispatchers,T=w.useAtomService,k=w.getStaticApi},73280:function(e,t,n){n.d(t,{K:function(){return r}});var r=(0,n(82761).$)("SeoABTestContext@tiktok/fe-shared")(null)},4601:function(e,t,n){n.d(t,{F:function(){return O},R:function(){return E}});var r=n(5377),i=n(6586),o=n(2787),a=n(40099),u=n(57886),s=n(48531),c=n(11854),l=n(26930),d=n(10874),p=n(33877),f=n(89786),v=n(59550),g=n(77443),_=n(18576),h=n(73280),m=n(79066),y=n(72516),A=n(71111),b=n(91402),w=n(42646),L=n(57007),S=(0,b.M)({csr:function(e){return(0,m._)(function(){var t;return(0,y.__generator)(this,function(n){switch(n.label){case 0:return t=e.url,[4,w.h.get("/api/seo/redirection/",{query:{url:t}})];case 1:return[2,n.sent()]}})})()},ssr:function(){return Promise.resolve({statusCode:L.s.Ok,redirectURL:void 0})}}),T={needRedirect:!1},k=(0,u.z)({initState:T,rehydrationDataKey:"shared.seo.pageRedirect",fetchAction:function(e,t){return(0,m._)(function(){var e,n,r,i;return(0,y.__generator)(this,function(o){switch(o.label){case 0:e=t.url,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,S(t)];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{needRedirect:!1,loadedURL:e}];case 4:return[2,{pageRedirectURL:i=void 0===(r=n.redirectURL)?void 0:r,loadedURL:e,needRedirect:void 0!==i}]}})})()}}),P=(0,c.pj)(k),I=(0,A.atom)(null,function(e,t){t(P,T)}),C=n(16330),M=(0,r._)({},f.OZ,v.Ob);function E(e,t){return function(n){var c=(0,i._)((0,u.I)(k),2),f=c[0].atomState,v=c[1],g=f.pageRedirectURL,_=f.loadedURL,h=f.needRedirect,m=(0,s.useSetAtom)(I),y=(0,d.useHistory)(),A=(0,d.useLocation)(),b="".concat(p.C).concat(decodeURIComponent(A.pathname)),w=A.search;return(0,l.useIsomorphicEffect)(function(){return[v({url:b}),function(){m()}]},[b]),(0,a.useEffect)(function(){if(g){var e,t=new URL(g);decodeURIComponent(t.pathname)!==decodeURIComponent(A.pathname)&&((e=t.pathname,Object.values(M).some(function(t){return null!==(0,d.matchPath)(e,{path:t})}))?y.push("".concat(t.pathname).concat(w||"")):window.location.href=g)}},[g,y,A.pathname,w]),_!==b||h?(0,o.Y)(o.FK,{children:t}):(0,o.Y)(o.FK,{children:(0,o.Y)(e,(0,r._)({},n))})}}function O(e){return function(t){var n=(0,d.useLocation)().pathname,u="".concat(p.C).concat(n),s=(0,i._)((0,g.S)(C.p),2),f=s[0].abtest,v=s[1],m=(0,i._)((0,_.ZC)(function(e){return e.abtest},{equalityFn:c.bN}),2),y=m[0],A=m[1];return(0,l.useIsomorphicEffect)(function(){return A.setAbtest(u)},[v,u]),(0,a.useEffect)(function(){y&&!f&&v.setAbTest(y)},[y,f]),f?(0,o.Y)(h.K.Provider,{value:f,children:(0,o.Y)(e,(0,r._)({},t))}):null}}},47291:function(e,t,n){n.d(t,{M0:function(){return L},Nk:function(){return I},O9:function(){return A},Tx:function(){return S},dY:function(){return k},lF:function(){return b},wW:function(){return P},yq:function(){return T}});var r=n(5377),i=n(45996),o=n(40099),a=n(11854),u=n(76446),s=n(31292),c=n(77443),l=n(23680),d=n(94614),p=n(18576),f=n(32049),v=n(54363),g=n(93844),_=n(72961),h=n(13610),m=n(19357),y=n(16330),A=function(e,t,n){if(!(!e||e===t||(0,f.fU)())&&n!==u.g.TrendingDetail){var o=location.pathname.replace(/[^\/]+$/,e),a="".concat(o).concat(location.search),s=(0,i._)((0,r._)({},history.state),{as:a});window.history.replaceState(s,"format_kap_page",a)}},b=function(e){var t=P();return(0,s.zh)(e,t)},w=function(e){var t=e.keyword,n=e.keywordList,r=e.removeRelatedKeywords,i=e.t,o=(0,s.zh)(t),a="".concat(i("seo_serp_expansion_num1",{expansion_keywords:o}));if(r)return a;var u=(0,s.gW)(n),c=u?" ".concat(i("seo_aggre_metadesc2",{related_search_keywords:u})):"";return"".concat(a).concat(c)},L=function(e){var t=e.keyword,n=e.relatedWordList,r=(0,v.TQ)("kep_remove_desc_keywords"),i=(0,g.s)();return(0,o.useMemo)(function(){return w({keyword:t,keywordList:n.map(function(e){return e.formattedWord}),t:i,removeRelatedKeywords:r})},[t,i,n])};function S(e){var t=e.pageType,n=e.topic,r=e.language,i=void 0===r?"en":r,a=(0,c.w)(m.E);(0,o.useEffect)(function(){a.setFeedSEOProps({pageType:t,topic:n,language:i})},[a,t,n,i])}function T(){return(0,o.useMemo)(function(){return(0,d.pZ)()},[])}function k(){return(0,o.useMemo)(function(){return(0,d.qA)()},[])}function P(){var e=(0,l.P)(y.p,{selector:function(e){return e.abtest},dependencies:[]});return(0,p.d7)(function(e){return e.abtest},{equalityFn:a.bN})||e}function I(){return!!(0,_.L$)((0,h.U)(function(){return["isBot"]},[])).isBot}},19357:function(e,t,n){n.d(t,{E:function(){return z}});var r,i=n(79066),o=n(48748),a=n(95170),u=n(7120),s=n(5377),c=n(45996),l=n(6586),d=n(54333),p=n(79262),f=n(72516),v=n(72828),g=n.n(v),_=n(80339),h=n(95719),m=n(23999),y=n(63700),A=n(19293),b=n(68710),w=n(35572),L=n(20259),S=n(62564),T=n(24451),k=n(17354),P=n(72916),I=n(82379),C=n(1455),M=n(2999),E=n(76446),O=n(33877),V=n(89786),x=n(90314),R=n(18064),F=n(54160),U=n(57007),j=n(53975),D=n(95692),W=n(29576),B=n(19078),q=n(16330);function N(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function $(e,t){if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var Z=(0,d._)(R.TN).concat((0,d._)(R.Wq)),z=function(e){function t(e,n,r,i){var u;return(0,a._)(this,t),(u=(0,o._)(this,t)).stateModule=e,u.service=n,u.sharingMeta=r,u.t=i,u.defaultState={},u}(0,u._)(t,e);var n=t.prototype;return n.updateSEOState=function(e){var t=e.metaParams,n=e.jsonldList,r=e.disableAlternateLink,i=e.generateAlternateWithCanonical;this.stateModule.updateAtom({metaParams:void 0===t?{}:t,jsonldList:void 0===n?[]:n,disableAlternateLink:void 0!==r&&r,generateAlternateWithCanonical:i})},n.setPCMusicSEOProps=function(e){var t=this;return e.pipe((0,b.Z)(function(e){var n=e.response,r=e.language,i=e.appType;return t.setMusicSEOProps(n,{language:r},i).pipe((0,_.q)(t.terminate("setPCMusicSEOProps")))}))},n.setFeedSEOProps=function(e){var t=this;return e.pipe((0,w.p)(function(e){var n=e.pageType,r=e.topic,i=e.topicType,o=e.language;return t.service.fetchSEOProps({seoProps:{pageId:"",pageType:n},topic:r,topicType:i,language:o},Z).pipe((0,h.M)(function(e){return t.updateSEOState(e)}),(0,b.Z)(function(){return(0,m.of)(t.terminate())}),(0,L.W)(function(e){return(0,m.of)(t.noop(),t.terminate())}))}))},n.setGoLiveSEOProps=function(e){var t=this;return e.pipe((0,w.p)(function(e){var n=e.language,r=e.user,i={seoProps:{pageId:"",pageType:E.g.GoLive},user:r,language:n,t:t.t};return t.service.fetchSEOProps(i,Z).pipe((0,h.M)(function(e){return t.updateSEOState(e)}),(0,b.Z)(function(){return(0,m.of)(t.terminate())}),(0,L.W)(function(){return(0,m.of)(t.noop())}))}))},n.setHomeSEOProps=function(e){var t=this;return this.service.fetchSEOProps({seoProps:{pageId:"",pageType:E.g.Home},language:e},Z).pipe((0,h.M)(function(e){return t.updateSEOState(e)}),(0,b.Z)(function(){return(0,y.h)((0,m.of)(t.sharingMeta.setSharingMetaState({"og:image":O.U})))}))},n.setForyouSEOProps=function(e,t){var n=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var r=(0,c._)((0,s._)({},e,t),{seoProps:{pageType:E.g.Trending},t:this.t});return this.service.fetchSEOProps(r,Z).pipe((0,h.M)(function(e){return n.updateSEOState(e)}),(0,S.T)(function(){return n.noop()}))},n.setVideoSEOProps=function(e,t,n,r,i){var o,a,u,d,p,f,v,g,_=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var A=null!=(v=null==e||null==(a=e.itemInfo)||null==(o=a.itemStruct)?void 0:o.id)?v:"",w=null!=(g=null==e||null==(f=e.itemInfo)||null==(p=f.itemStruct)||null==(d=p.author)||null==(u=d.bioLink)?void 0:u.link)?g:"";return(0,m.of)(e).pipe((0,T.E)(this.stateModule.state$.pipe((0,k.p)(function(e){return void 0!==e.abtest}))),(0,b.Z)(function(o){var a=(0,l._)(o,2),u=(a[0],a[1]),d=(0,c._)((0,s._)({},e,t),{transcriptContent:i,bioLink:w,seoProps:{pageId:A,pageType:E.g.Video,abtest:u.abtest},t:_.t});return _.service.fetchSEOProps(d,Z).pipe((0,h.M)(function(e){return _.updateSEOState(e)}),(0,P.n)(function(t){return(0,y.h)(_.sharingMeta.setVideoSharingMeta(t,e,n,r))}))}))},n.setCollectionSEOProps=function(e,t,n,r,i){var o,a,u,l=this,d=(0,c._)((0,s._)({},e,t),{seoProps:{pageId:null!=(u=null==(a=e.collectionInfo)||null==(o=a.collectionId)?void 0:o.toString())?u:"",pageType:E.g.Collection},t:this.t,items:i});return this.service.fetchSEOProps(d,Z).pipe((0,h.M)(function(e){return l.updateSEOState(e)}),(0,P.n)(function(){var t,i,o;return(0,y.h)(r?(0,m.of)(l.noop()):l.sharingMeta.setCollectionSharingMeta(e,n,null!=(o=null==e||null==(i=e.collectionInfo)||null==(t=i.collectionId)?void 0:t.toString())?o:""))}))},n.setSearchSharingSEOProps=function(e,t,n,r){var i=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var o=(0,c._)((0,s._)({},e,t),{seoProps:{pageType:E.g.SearchReflow},eventName:n,t:this.t});return this.service.fetchSEOProps(o,Z).pipe((0,h.M)(function(e){return i.updateSEOState(e)}),(0,b.Z)(function(t){return(0,y.h)(i.sharingMeta.setSearchSharingMeta(t,e,n,r))}))},n.setQuestionSEOProps=function(e,t,n,r,i,o){var a,u=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var l=(0,c._)((0,s._)({},e,t),{seoProps:{pageId:null==(a=e.questionInfo)?void 0:a.id,pageType:E.g.Question},answers:n,t:this.t,items:o});return this.service.fetchSEOProps(l,Z).pipe((0,h.M)(function(e){return u.updateSEOState(e)}),(0,b.Z)(function(){return(0,m.of)(u.sharingMeta.setQuestionSharingMeta(e,n[0],r,i))}))},n.setVideoPlaylistSEOProps=function(e,t,n,r){var i,o=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var a=(0,c._)((0,s._)({},e,n),{itemList:t,seoProps:{pageId:null==(i=e.mixInfo)?void 0:i.id,pageType:E.g.VideoPlayerList},t:this.t});return this.service.fetchSEOProps(a,Z).pipe((0,h.M)(function(e){return o.updateSEOState(e)}),(0,b.Z)(function(){return(0,m.of)(o.sharingMeta.setVideoPlaylistSharingMeta(e,t,r))}))},n.setUserSEOProps=function(e,t,n,r){var i,o,a,u=this,d=e.userInfo,p=e.statusCode,f=(null==(a=this.stateModule.state.abtest)||null==(o=a.parameters)||null==(i=o.user_og_image)?void 0:i.vid)==="v1";return p===U.s.UnknownError||f?(0,m.of)(this.noop()):(0,m.of)(e).pipe((0,T.E)(this.stateModule.state$),(0,b.Z)(function(i){var o,a,p=(0,l._)(i,2),f=(p[0],p[1]),v=(0,c._)((0,s._)({},e,t),{seoProps:{pageId:null!=(a=null==d||null==(o=d.user)?void 0:o.id)?a:"",pageType:E.g.User,abtest:f.abtest},t:u.t,items:r});return u.service.fetchSEOProps(v,Z).pipe((0,h.M)(function(e){return u.updateSEOState(e)}),(0,P.n)(function(t){return(0,y.h)(u.sharingMeta.setUserSharingMeta(t,e,n))}))}))},n.setChallengeSEOProps=function(e,t,n,r,i){var o,a=this,u=e.statusCode;if(u===U.s.UnknownError)return(0,m.of)(this.noop());var l=(0,c._)((0,s._)({},e,t),{statusCode:u,seoProps:{pageId:null==(o=e.challengeInfo)?void 0:o.challenge.id,pageType:E.g.Challenge},t:this.t,items:r,relatedChallengeList:i});return this.service.fetchSEOProps(l,Z).pipe((0,h.M)(function(e){return a.updateSEOState(e)}),(0,P.n)(function(t){return(0,y.h)(a.sharingMeta.setChallengeSharingMeta(t,e,n))}))},n.setMusicSEOProps=function(e,t,n,r){var i,o=this,a=e.statusCode;if(a===U.s.UnknownError)return(0,m.of)(this.noop());var u=(0,c._)((0,s._)({},e,t),{statusCode:a,seoProps:{pageId:null==(i=e.musicInfo)?void 0:i.music.id,pageType:E.g.Music},items:r,t:this.t});return this.service.fetchSEOProps(u,Z).pipe((0,h.M)(function(e){return o.updateSEOState(e)}),(0,P.n)(function(t){return(0,y.h)(o.sharingMeta.setMusicSharingMeta(t,e,n))}))},n.setMusicPlaylistSEOProps=function(e,t,n){var r,i=this,o=e.status_code;if(o===U.s.UnknownError)return(0,m.of)(this.noop());var a=(0,c._)((0,s._)({},e,t),{status_code:o,seoProps:{pageId:null==(r=e.mc_info)?void 0:r.id_str,pageType:E.g.MusicPlaylist},t:this.t});return this.service.fetchSEOProps(a,Z).pipe((0,h.M)(function(e){return i.updateSEOState(e)}),(0,b.Z)(function(t){return(0,y.h)(i.sharingMeta.setMusicPlaylistSharingMeta(t,e,n))}))},n.setSearchSEOProps=function(e,t,n){var r=this;if(e.status_code===U.s.UnknownError)return(0,m.of)(this.noop());var i=(0,c._)((0,s._)({},e,t,n),{seoProps:{pageId:"",pageType:E.g.SearchResult},t:this.t});return this.service.fetchSEOProps(i,Z).pipe((0,h.M)(function(e){return r.updateSEOState(e)}),(0,S.T)(function(){return r.noop()}))},n.setLiveRoomSEOProps=function(e,t,n){var r,i=this,o=e.userInfo,a=e.statusCode,u=(0,c._)((0,s._)({},e,t),{seoProps:{pageId:null!=(r=null==o?void 0:o.user.id)?r:"",pageType:E.g.LiveRoom},t:this.t});return a===U.s.UnknownError?(0,m.of)(this.noop()):this.service.fetchSEOProps(u,Z).pipe((0,h.M)(function(e){return i.updateSEOState(e)}),(0,b.Z)(function(t){return(0,y.h)(i.sharingMeta.setLiveRoomSharingMeta(t,e,n))}))},n.setFollowingSEOProps=function(e,t,n){var r=this;if(e.statusCode===U.s.UnknownError)return(0,m.of)(this.noop());var i=(0,c._)((0,s._)({},e,t),{seoProps:{pageType:E.g.Following},t:this.t});return this.service.fetchSEOProps(i,Z).pipe((0,h.M)(function(e){return r.updateSEOState(e)}),(0,b.Z)(function(e){return(0,y.h)(r.sharingMeta.setFollowingSharingMeta(e,n))}))},n.setPoiSEOProps=function(e,t,n,r){var i,o,a=this,u=e.statusCode;if(u===U.s.UnknownError)return(0,m.of)(this.noop());var l=(0,c._)((0,s._)((0,c._)((0,s._)({},e,t),{statusCode:u,seoProps:{pageId:null==(o=e.poiInfo)||null==(i=o.poi)?void 0:i.id,pageType:E.g.Poi}}),r),{t:this.t});return this.service.fetchSEOProps(l,Z).pipe((0,h.M)(function(e){return a.updateSEOState(e)}),(0,b.Z)(function(t){return(0,y.h)(a.sharingMeta.setPoiSharingMeta(t,e,n))}))},n.setPoiCategorySEOProps=function(e,t,n,r){var i,o,a=this,u=e.statusCode;if(u===U.s.UnknownError)return(0,m.of)(this.noop());var l=(0,c._)((0,s._)((0,c._)((0,s._)({},e,t),{statusCode:u,seoProps:{pageId:null==(o=e.poiInfo)||null==(i=o.poi)?void 0:i.id,pageType:E.g.PoiCategory}}),r),{t:this.t});return this.service.fetchSEOProps(l,Z).pipe((0,h.M)(function(e){return a.updateSEOState(e)}),(0,b.Z)(function(t){return(0,y.h)(a.sharingMeta.setPoiSharingMeta(t,e,n))}))},n.setEventDetailSEOProps=function(e){var t=this;return e.pipe((0,w.p)(function(e){var n=e.eventTitle,r=e.eventId,i=e.subscriberCount,o=e.language,a={seoProps:{pageId:"",pageType:E.g.LiveEvent},t:t.t,eventTitle:n,language:void 0===o?"en":o,eventId:r,subscriberCount:i};return t.service.fetchSEOProps(a,Z).pipe((0,h.M)(function(e){return t.updateSEOState(e)}),(0,b.Z)(function(){return(0,m.of)(t.terminate())}),(0,L.W)(function(){return(0,m.of)(t.noop())}))}))},n.reportImpressionByEventbus=function(e){return this.service.reportImpressionByEventbus(e)},n.reportImpressionByRpc=function(e){return this.service.reportImpressionByRpc(e)},t}(F.E);N([(0,I.Mj)(),$("design:type",Function),$("design:paramtypes",[void 0===A.c?Object:A.c]),$("design:returntype",void 0)],z.prototype,"setPCMusicSEOProps",null),N([(0,I.Mj)({payloadGetter:function(e,t){var n=e.i18n.getLanguage();return g()(V.no.following).test(e.path)?{pageType:E.g.Following,language:n}:g()(V.no.topics).test(e.path)?{pageType:E.g.Topic,language:n}:g()(V.no.discover).test(e.path)?{pageType:E.g.Discover,language:n}:g()(x.pj.liveDiscover).test(e.path)?{pageType:E.g.LiveDiscover,language:n}:g()(x.pj.liveEvent).test(e.path)?{pageType:E.g.LiveEvent,language:n}:t}}),$("design:type",Function),$("design:paramtypes",[void 0===A.c?Object:A.c]),$("design:returntype",void 0)],z.prototype,"setFeedSEOProps",null),N([(0,I.Mj)({payloadGetter:function(e,t){return(0,i._)(function(){var n,r,i;return(0,f.__generator)(this,function(o){switch(o.label){case 0:if(!g()(x.pj.liveGoLive).test(e.path))return[3,2];return[4,e.service.baseContext.getBaseContext()];case 1:return r=(n=o.sent()).language,i=n.user,[2,{pageType:E.g.GoLive,language:r,user:i}];case 2:return[2,t]}})})()}}),$("design:type",Function),$("design:paramtypes",[void 0===A.c?Object:A.c]),$("design:returntype",void 0===A.c?Object:A.c)],z.prototype,"setGoLiveSEOProps",null),N([(0,I.Mj)(),$("design:type",Function),$("design:paramtypes",[void 0===A.c?Object:A.c]),$("design:returntype",void 0===A.c?Object:A.c)],z.prototype,"setEventDetailSEOProps",null),z=N([(0,C.nV)("SEO"),(r=(0,M.y)(j.hp),function(e,t){r(e,t,3)}),$("design:type",Function),$("design:paramtypes",[void 0===q.p?Object:q.p,void 0===B.F?Object:B.F,void 0===W.e?Object:W.e,void 0===D.I18NTranslate?Object:D.I18NTranslate])],z)},19078:function(e,t,n){n.d(t,{F:function(){return w}});var r,i=n(95170),o=n(5377),a=n(45996),u=n(79262),s=n(69513),c=n(23999),l=n(84772),d=n(2999),p=n(99805),f=n(90651),v=n(56605),g=n(59527),_=n(93830),h=n(56904),m=n(53975),y=n(95692),A=n(96062);function b(e,t){if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var w=function(){function e(t,n){(0,i._)(this,e),this.t=t,this.fetch=n}var t=e.prototype;return t.fetchSEOProps=function(e,t){e.t=this.t;var n,r,i,u,s=null!=(i=null==(n=(0,f.y)(e,t).seoProps)?void 0:n.metaParams)?i:{},l=null!=(u=null==(r=(0,f.d)(e,t).seoProps)?void 0:r.jsonldList)?u:[],d=(0,a._)((0,o._)({},e.seoProps),{metaParams:s,jsonldList:l});return(0,c.of)(d)},t.getUA=function(){return window.navigator.userAgent},t.getTrafficType=function(){return(0,g.q)()},t.getLaunchMode=function(){return(0,_.o7)()},t.fetchABTest=function(e){var t=(0,v.YI)(p.X);return t?(0,c.of)(t):(0,c.of)({pageId:"-1",vidList:[],parameters:{}})},t.reportImpressionByEventbus=function(e){},t.reportImpressionByRpc=function(e){this.fetch.post("/api/discover/client_impression/",{body:JSON.stringify({timestamp:e.Timestamp,visitPageUrl:e.VisitPageUrl,urls:e.Urls,module:e.Module,trafficType:e.TrafficType}),headers:{"content-type":"application/json"},baseUrlType:h.Z4.FixedWww}).subscribe(s.A)},e}();w=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,l._q)(),(r=(0,d.y)(m.hp),function(e,t){r(e,t,0)}),b("design:type",Function),b("design:paramtypes",[void 0===y.I18NTranslate?Object:y.I18NTranslate,void 0===A.p?Object:A.p])],w)},16330:function(e,t,n){n.d(t,{p:function(){return M}});var r,i=n(48748),o=n(95170),a=n(7120),u=n(5377),s=n(45996),c=n(79262),l=n(46657),d=n(23999),p=n(19293),f=n(72916),v=n(74690),g=n(80339),_=n(71111),h=n(62100),m=n(78990),y=n(82379),A=n(1455),b=n(2999),w=n(76446),L=n(60194),S=n(33877),T=n(44703),k=n(19078);function P(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,c._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function I(e,t){if(("undefined"==typeof Reflect?"undefined":(0,c._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return decodeURI(e)}catch(t){return e}},M=function(e){function t(e,n){var r;return(0,o._)(this,t),(r=(0,i._)(this,t)).service=e,r.jotaiStore=n,r.defaultState={abtest:void 0,loading:!1,canonical:void 0,pageType:w.g.Unknown},r}(0,a._)(t,e);var n=t.prototype;return n.updateAtom=function(e){this.jotaiStore.set(T.b,e)},n.setSEOState=function(e,t){return(0,s._)((0,u._)({},e),{metaParams:t.metaParams,jsonldList:t.jsonldList})},n.setAbTest=function(e,t){return(0,s._)((0,u._)({},e),{abtest:t})},n.setLoading=function(e,t){return(0,s._)((0,u._)({},e),{loading:t})},n.setCanonical=function(e,t){return(0,s._)((0,u._)({},e),{canonical:t})},n.setRouterLoading=function(e,t){return(0,s._)((0,u._)({},e),{routerLoading:t})},n.fetchAbTest=function(e){var t=this;return e.pipe((0,f.n)(function(e){return C(e)===C(t.state.canonical)?l.w:t.service.fetchABTest(e).pipe((0,f.n)(function(n){return(0,d.of)(t.getActions().setAbTest(n),t.getActions().setCanonical(e),t.terminate())}),(0,v.Z)(t.getActions().setLoading(!0)),(0,g.q)(t.getActions().setLoading(!1)))}))},t}(m.E);P([(0,y.HI)(),I("design:type",Function),I("design:paramtypes",[void 0===L.k||void 0===L.k.GatewaySEOProps?Object:L.k.GatewaySEOProps,void 0===L.k||void 0===L.k.GatewaySEOProps?Object:L.k.GatewaySEOProps]),I("design:returntype",void 0===L.k||void 0===L.k.GatewaySEOProps?Object:L.k.GatewaySEOProps)],M.prototype,"setSEOState",null),P([(0,y.HI)(),I("design:type",Function),I("design:paramtypes",[void 0===L.k||void 0===L.k.GatewaySEOProps?Object:L.k.GatewaySEOProps,Object]),I("design:returntype",void 0===L.k||void 0===L.k.GatewaySEOProps?Object:L.k.GatewaySEOProps)],M.prototype,"setAbTest",null),P([(0,y.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof State?Object:State,Boolean]),I("design:returntype","undefined"==typeof State?Object:State)],M.prototype,"setLoading",null),P([(0,y.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof State?Object:State,String]),I("design:returntype","undefined"==typeof State?Object:State)],M.prototype,"setCanonical",null),P([(0,y.HI)(),I("design:type",Function),I("design:paramtypes",["undefined"==typeof State?Object:State,Boolean]),I("design:returntype","undefined"==typeof State?Object:State)],M.prototype,"setRouterLoading",null),P([(0,y.Mj)({payloadGetter:function(e){return"".concat(S.C).concat(e.path)}}),I("design:type",Function),I("design:paramtypes",[void 0===p.c?Object:p.c]),I("design:returntype",void 0)],M.prototype,"fetchAbTest",null),M=P([(0,A.nV)("SEOState"),(r=(0,b.y)(h.J7),function(e,t){r(e,t,1)}),I("design:type",Function),I("design:paramtypes",[void 0===k.F?Object:k.F,void 0===_.JotaiStoreType?Object:_.JotaiStoreType])],M)},29576:function(e,t,n){n.d(t,{e:function(){return I}});var r,i=n(48748),o=n(95170),a=n(35383),u=n(7120),s=n(5377),c=n(45996),l=n(6586),d=n(79262),p=n(68710),f=n(23999),v=n(80339),g=n(19293),_=n(82379),h=n(1455),m=n(2999),y=n(76446),A=n(54160),b=n(53975),w=n(95692),L=n(6858),S=n(18311),T=n(98497);function k(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function P(e,t){if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var I=function(e){function t(e,n){var r;return(0,o._)(this,t),(r=(0,i._)(this,t)).t=e,r.stateModule=n,r.defaultState={},r}(0,u._)(t,e);var n=t.prototype;return n.setSharingMetaStateEffect=function(e){var t=this;return e.pipe((0,p.Z)(function(e){return(0,f.of)(t.setSharingMetaState(e)).pipe((0,v.q)(t.terminate("setSharingMetaStateEffect")))}))},n.setSharingMetaState=function(e){return this.stateModule.getActions().setSharingMetaState(e)},n.setVideoSharingMetaEffect=function(e){var t=this;return e.pipe((0,p.Z)(function(e){var n=e.seoProps,r=e.response,i=e.appType,o=e.query;return t.setVideoSharingMeta(n,r,i,o).pipe((0,v.q)(t.terminate("setVideoSharingMetaEffect")))}))},n.setVideoSharingMeta=function(e,t,n,r){var i,o,u,l,d,p,v,g,_,h,m,A,b,w,L,S,k,P,I,C,M,E,O=null==(i=t.itemInfo)?void 0:i.itemStruct,V=null==O?void 0:O.video,x=null==O?void 0:O.imagePost,R=(0,T.QJ)(n).protocal,F=!!(null==O?void 0:O.story),U="".concat(R).concat(F?"story/detail":"aweme/detail","/").concat(null==(o=t.itemInfo)?void 0:o.itemStruct.id,"?").concat(r),j=(0,T.r1)({schema:U,metaParams:e.metaParams,pageType:y.g.Video,shareMeta:null==t?void 0:t.shareMeta,response:t,appType:n}),D=(null==V||null==(u=V.shareCover)?void 0:u[0])||(null!=(w=x?null==(p=x.shareCover)||null==(d=p.imageURL)||null==(l=d.urlList)?void 0:l[0]:null==V||null==(v=V.shareCover)?void 0:v[1])?w:""),W=null!=(S=null!=(L=String(null==x||null==(g=x.shareCover)?void 0:g.imageWidth))?L:null==V?void 0:V.width)?S:"",B=null!=(P=null!=(k=String(null==x||null==(_=x.shareCover)?void 0:_.imageHeight))?k:null==V?void 0:V.height)?P:"",q=(0,c._)((0,s._)({},j),(I={},(0,a._)(I,"og:image",D),(0,a._)(I,"twitter:image",D),(0,a._)(I,"og:image:width",W),(0,a._)(I,"og:image:height",B),I)),N=null==(b=e.jsonldList)||null==(A=b.find(function(e){return"VideoObject"===e[0]}))||null==(m=A[1])||null==(h=m.thumbnailUrl)?void 0:h[0];return N&&Object.assign(q,(E={},(0,a._)(E,"og:image",N),(0,a._)(E,"og:image:width",String(null!=(C=null==V?void 0:V.width)?C:"")),(0,a._)(E,"og:image:height",String(null!=(M=null==V?void 0:V.height)?M:"")),E)),(0,f.of)(this.stateModule.getActions().setSharingMetaState(q))},n.setUserSharingMetaEffect=function(e){var t=this;return e.pipe((0,p.Z)(function(e){var n=e.seoProps,r=e.response,i=e.appType;return t.setUserSharingMeta(n,r,i).pipe((0,v.q)(t.terminate("setUserSharingMetaEffect")))}))},n.setUserSharingMeta=function(e,t,n){var r,i,o,u,l,d=(0,T.QJ)(n).protocal,p=(0,T.r1)({response:t,pageType:y.g.User,schema:"".concat(d,"user/profile/"),metaParams:e.metaParams,appType:n}),v=null==(r=t.userInfo)?void 0:r.user,g=null!=(u=null!=(o=null==v?void 0:v.avatarMedium)?o:null==v?void 0:v.avatarThumb)?u:T.Zw,_=(0,c._)((0,s._)({},p),(l={},(0,a._)(l,"og:image",g),(0,a._)(l,"twitter:image",g),(0,a._)(l,"og:image:width","360"),(0,a._)(l,"og:image:height","360"),(0,a._)(l,"og:image:alt",null==(i=e.metaParams)?void 0:i.title),l));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(_))},n.setMusicSharingMetaEffect=function(e){var t=this;return e.pipe((0,p.Z)(function(e){var n=e.seoProps,r=e.response,i=e.appType;return t.setMusicSharingMeta(n,r,i).pipe((0,v.q)(t.terminate("setMusicSharingMetaEffect")))}))},n.setMusicSharingMeta=function(e,t,n){var r,i,o,u,l,d,p,v=null==(r=t.musicInfo)?void 0:r.music,g=(0,T.QJ)(n).protocal,_=(0,T.r1)({response:t,pageType:y.g.Music,schema:"".concat(g,"user/profile/").concat(null==v?void 0:v.id),metaParams:e.metaParams,appType:n}),h=null!=(u=null!=(o=null==v?void 0:v.coverMedium)?o:null==v?void 0:v.coverThumb)?u:"https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/music-default.png",m=null!=(l=null==v?void 0:v.title)?l:"",A=null!=(d=null==v?void 0:v.authorName)?d:"",b=(0,c._)((0,s._)({},_),(p={},(0,a._)(p,"og:image",h),(0,a._)(p,"twitter:image",h),(0,a._)(p,"og:image:width","720"),(0,a._)(p,"og:image:height","720"),(0,a._)(p,"og:image:alt",null==(i=e.metaParams)?void 0:i.title),(0,a._)(p,"music:duration","0"),(0,a._)(p,"music:album:track",m),(0,a._)(p,"music:musician",A),p));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(b))},n.setMusicPlaylistSharingMeta=function(e,t,n){var r,i,o,u,l,d=t.mc_info,p=(0,T.QJ)(n).protocal,v=(0,T.r1)({schema:"".concat(p,"assmusic/category/").concat(null==d?void 0:d.id_str,"?name=").concat(encodeURIComponent(null!=(u=null==d?void 0:d.name)?u:""),"&previous_page=reflow_playlist&enter_method=reflow_return"),metaParams:(0,c._)((0,s._)({},e.metaParams),{title:null==d||null==(r=d.share_info)?void 0:r.share_title,description:null==d||null==(i=d.share_info)?void 0:i.share_desc}),appType:n}),g=(null==d?void 0:d.share_cover)?(0,L.BO)(null==d?void 0:d.share_cover):"https://p19-aop-sg.tiktokcdn.com/tos-alisg-i-yzb763657w-sg/d2f2b037e19646ad5f2bbd779a550302.png~tplv-yzb763657w-resize:800:800.jpeg",_=(0,c._)((0,s._)({},v),(l={},(0,a._)(l,"og:image",g),(0,a._)(l,"twitter:image",g),(0,a._)(l,"og:image:width","720"),(0,a._)(l,"og:image:height","720"),(0,a._)(l,"og:image:alt",null==(o=e.metaParams)?void 0:o.title),l));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(_))},n.setStickerSharingMeta=function(e,t,n){var r,i,o,u,l,d=(0,T.QJ)(n).protocal,p=null==(r=t.stickerInfo)?void 0:r.sticker,v=(0,T.r1)({pageType:y.g.Challenge,response:t,schema:"".concat(d,"sticker/detail/").concat(null==p?void 0:p.id),metaParams:e.metaParams,appType:n}),g=null==p||null==(o=p.coverUrls)||null==(i=o.urlList)?void 0:i[0],_=(0,c._)((0,s._)({},v),(l={},(0,a._)(l,"og:image",g),(0,a._)(l,"twitter:image",g),(0,a._)(l,"og:image:width","720"),(0,a._)(l,"og:image:height","720"),(0,a._)(l,"og:image:alt",null==(u=e.metaParams)?void 0:u.title),l));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(_))},n.setChallengeSharingMetaEffect=function(e){var t=this;return e.pipe((0,p.Z)(function(e){var n=e.seoProps,r=e.response,i=e.appType;return t.setChallengeSharingMeta(n,r,i).pipe((0,v.q)(t.terminate("setChallengeSharingMetaEffect")))}))},n.setChallengeSharingMeta=function(e,t,n){var r,i,o,u,l,d=(0,T.QJ)(n).protocal,p=null==(r=t.challengeInfo)?void 0:r.challenge,v=(0,T.r1)({pageType:y.g.Challenge,response:t,schema:"".concat(d,"challenge/detail/").concat(null==p?void 0:p.id),metaParams:e.metaParams,appType:n}),g=null!=(u=null!=(o=null==p?void 0:p.profileMedium)?o:null==p?void 0:p.profileThumb)?u:"https://lf16-tiktok-web.ttwstatic.com/obj/ttfe-malisg/tiktok_web/amp/m-hashtag-default.png",_=(0,c._)((0,s._)({},v),(l={},(0,a._)(l,"og:image",g),(0,a._)(l,"twitter:image",g),(0,a._)(l,"og:image:width","720"),(0,a._)(l,"og:image:height","720"),(0,a._)(l,"og:image:alt",null==(i=e.metaParams)?void 0:i.title),l));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(_))},n.setCollectionSharingMeta=function(e,t,n){var r,i,o,u,l,d,p,v,g=(0,T.QJ)(t).protocal,_=e.shareMeta,h=(0,T.r1)({pageType:y.g.Collection,response:e,schema:"".concat(g,"collection/detail?collection_id=").concat(n,"&page_name=reflow_collection"),metaParams:{title:null!=(l=null==_?void 0:_.title)?l:this.t("TikTok | Make Your Day",{},"TikTok | Make Your Day"),description:null!=(d=null==_?void 0:_.desc)?d:this.t("SEO_homepage_desc",{},"TikTok - trends start here. On a device or on the web, viewers can watch and discover millions of personalized short videos. Download the app to get started.")},appType:t}),m=null!=(p=null==e||null==(o=e.collectionInfo)||null==(i=o.cover)||null==(r=i.urlList)?void 0:r[0])?p:"https://sf-static.tiktokcdn.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/poster-square.png",A=(0,c._)((0,s._)({},h),(v={},(0,a._)(v,"og:image",m),(0,a._)(v,"twitter:image",m),(0,a._)(v,"og:image:width","720"),(0,a._)(v,"og:image:height","720"),(0,a._)(v,"og:image:alt",null==(u=e.shareMeta)?void 0:u.title),v));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(A))},n.setSearchSharingMeta=function(e,t,n,r){var i,o,u,l,d,p=(0,T.QJ)(r).protocal,v=(0,T.r1)({schema:"".concat(p,"search?keyword=").concat(null!=(u=null==t||null==(i=t.contentInfo)?void 0:i.query)?u:n),metaParams:e.metaParams,appType:r}),g=null!=(l=null==t||null==(o=t.contentInfo)?void 0:o.thirdPartyPreviewImg)?l:"https://sf-static.tiktokcdn.com/obj/search-static-maliva/maliva/ugvonpsj1631257573250",_=(0,c._)((0,s._)({},v),(d={},(0,a._)(d,"og:image",g),(0,a._)(d,"twitter:image",g),(0,a._)(d,"og:image:width","1200"),(0,a._)(d,"og:image:height","678"),d));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(_))},n.setLiveRoomSharingMeta=function(e,t,n){var r,i,o,u,l,d,p,v,g=(0,T.QJ)(n).protocal,_=(0,T.r1)({schema:"".concat(g,"live?room_id=").concat(null==(i=t.userInfo)||null==(r=i.user)?void 0:r.roomId),metaParams:e.metaParams,pageType:y.g.LiveRoom,appType:n}),h=null==(o=t.userInfo)?void 0:o.user,m=null!=(d=null!=(l=null==h?void 0:h.avatarMedium)?l:null==h?void 0:h.avatarThumb)?d:T.Zw,A=null!=(p=null==h?void 0:h.nickname)?p:null==h?void 0:h.uniqueId,b=null==h?void 0:h.uniqueId,w=(0,c._)((0,s._)({},_),(v={},(0,a._)(v,"og:image",m),(0,a._)(v,"og:image:secure_url",m),(0,a._)(v,"og:image:width","360"),(0,a._)(v,"og:image:height","360"),(0,a._)(v,"og:image:alt",null==(u=e.metaParams)?void 0:u.title),(0,a._)(v,"twitter:creator",A),(0,a._)(v,"twitter:creator:id",b),v));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(w))},n.setQuestionSharingMeta=function(e,t,n,r){var i,o,u,l,d,p,f,v,g,_,h,m=(0,T.QJ)(n).protocal,A=(0,T.r1)({schema:"".concat(m,"qna/detail/").concat(null==(i=e.questionInfo)?void 0:i.id),metaParams:{title:null==(o=e.shareMeta)?void 0:o.title,description:null==(u=e.shareMeta)?void 0:u.desc},pageType:y.g.Question,response:e,appType:n}),b=(null==r?void 0:r.scene)==="qna"?(f={},(0,a._)(f,"og:title",this.t("qaoop_title",{},"Hi friends, I\u2019m inviting you to answer a question on #TikTok!")),(0,a._)(f,"og:description",this.t("qaoop_desc",{},"Share your wisdom!")),f):void 0,w=null!=(g=null!=(v=null==t||null==(l=t.video.shareCover)?void 0:l[1])?v:null==t||null==(d=t.video.shareCover)?void 0:d[0])?g:T.Zw,L=(0,s._)((0,c._)((0,s._)({},A),(h={},(0,a._)(h,"og:image",w),(0,a._)(h,"twitter:image",w),(0,a._)(h,"og:image:alt",null!=(_=null==(p=e.shareMeta)?void 0:p.title)?_:"the cover of first video"),h)),b);return this.stateModule.getActions().setSharingMetaState(L)},n.setVideoPlaylistSharingMeta=function(e,t,n){var r,i,o,u,d,p,f,v,g,_,h=(0,T.QJ)(n).protocal,m="@".concat(null==(i=e.mixInfo)||null==(r=i.creator)?void 0:r.nickname),A=null!=(f=null==(o=e.mixInfo)?void 0:o.name)?f:"Untitled playlist",b=(0,T.r1)({schema:"".concat(h,"mix/detail?id=").concat(null!=(v=null==(u=e.mixInfo)?void 0:u.id)?v:"nan"),metaParams:{title:this.t("playlist_share_title",{Playlist_name:A,username:m},"Playlist ".concat(A," created by ").concat(m)),description:this.t("playlist_share_desc",{},"Enjoy a curated video list and find more videos on TikTok!")},pageType:y.g.VideoPlayerList,response:e,appType:n}),w=(0,l._)(null!=t?t:[],1)[0],L=null!=(g=null==w||null==(d=w.video.shareCover)?void 0:d[1])?g:null==w||null==(p=w.video.shareCover)?void 0:p[0],S=(0,c._)((0,s._)({},b),(_={},(0,a._)(_,"og:image",L),(0,a._)(_,"twitter:image",L),(0,a._)(_,"og:image:alt","first video of ".concat(A)),_));return this.stateModule.getActions().setSharingMetaState(S)},n.setFollowingSharingMeta=function(e,t){var n,r=(0,T.r1)({metaParams:e.metaParams,appType:t}),i=(0,c._)((0,s._)({},r),(n={},(0,a._)(n,"og:title",this.t("serp_following_title")),(0,a._)(n,"og:description",this.t("serp_following_desc")),(0,a._)(n,"og:image",T.Zw),(0,a._)(n,"twitter:image",T.Zw),(0,a._)(n,"twitter:title",this.t("SEO_following_title")),(0,a._)(n,"twitter:description",this.t("SEO_following_desc")),n));return(0,f.of)(this.stateModule.getActions().setSharingMetaState(i))},n.setPoiSharingMeta=function(e,t,n){var r,i=(0,T.QJ)(n).protocal,o=null==(r=t.poiInfo)?void 0:r.poi,a=(0,T.r1)({pageType:y.g.Poi,response:t,schema:"".concat(i,"poi/detail?poi_id=").concat(null==o?void 0:o.id),metaParams:e.metaParams,appType:n});return(0,f.of)(this.stateModule.getActions().setSharingMetaState(a))},t}(A.E);k([(0,_.Mj)(),P("design:type",Function),P("design:paramtypes",[void 0===g.c?Object:g.c]),P("design:returntype",void 0)],I.prototype,"setSharingMetaStateEffect",null),k([(0,_.Mj)(),P("design:type",Function),P("design:paramtypes",[void 0===g.c?Object:g.c]),P("design:returntype",void 0)],I.prototype,"setVideoSharingMetaEffect",null),k([(0,_.Mj)(),P("design:type",Function),P("design:paramtypes",[void 0===g.c?Object:g.c]),P("design:returntype",void 0)],I.prototype,"setUserSharingMetaEffect",null),k([(0,_.Mj)(),P("design:type",Function),P("design:paramtypes",[void 0===g.c?Object:g.c]),P("design:returntype",void 0)],I.prototype,"setMusicSharingMetaEffect",null),k([(0,_.Mj)(),P("design:type",Function),P("design:paramtypes",[void 0===g.c?Object:g.c]),P("design:returntype",void 0)],I.prototype,"setChallengeSharingMetaEffect",null),I=k([(0,h.nV)("SharingMeta"),(r=(0,m.y)(b.hp),function(e,t){r(e,t,0)}),P("design:type",Function),P("design:paramtypes",[void 0===w.I18NTranslate?Object:w.I18NTranslate,void 0===S.J?Object:S.J])],I)},18311:function(e,t,n){n.d(t,{J:function(){return h}});var r=n(48748),i=n(95170),o=n(35383),a=n(7120),u=n(54333),s=n(79262),c=n(96579),l=n(78990),d=n(82379),p=n(1455),f=n(6283),v=n(98497);function g(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function _(e,t){if(("undefined"==typeof Reflect?"undefined":(0,s._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var h=function(e){function t(){for(var e,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return(0,i._)(this,t),(e=(0,r._)(this,t,(0,u._)(o))).defaultState={value:{}},e}return(0,a._)(t,e),t.prototype.setSharingMetaState=function(e,t){var n,r;e.value=(0,c.A)(t,(r={},(0,o._)(r,"og:image",v.Zw),(0,o._)(r,"twitter:image",null!=(n=t["og:image"])?n:v.Zw),r))},t}(l.E);g([(0,d.h5)(),_("design:type",Function),_("design:paramtypes",["undefined"==typeof SharingMetaModuleState?Object:SharingMetaModuleState,void 0===f.r||void 0===f.r.SharingMetaStateStruct?Object:f.r.SharingMetaStateStruct]),_("design:returntype",void 0)],h.prototype,"setSharingMetaState",null),h=g([(0,p.nV)("SharingMetaState")],h)},98497:function(e,t,n){n.d(t,{QJ:function(){return s},Zw:function(){return l},r1:function(){return c}});var r=n(35383),i=n(5377),o=n(96152),a=n(6283),u=n(76446);function s(e){var t=e===o.uC.MUSICALLY;return{isM:t,protocal:t?"snssdk1233://":"snssdk1180://"}}function c(e){var t,n,o,c,l,d,p,f=e.schema,v=void 0===f?"":f,g=e.pageType,_=e.shareMeta,h=e.metaParams,m=s(e.appType).isM,y=a.r.APP_INFO,A=m?y.M_NAME:y.T_NAME,b=m?y.M_STORE:y.T_STORE,w=m?y.M_PACKAGE:y.T_PACKAGE,L=g===u.g.Video?null!=(t=null==_?void 0:_.title)?t:"":null!=(n=null==h?void 0:h.title)?n:"",S=g===u.g.Video?null!=(o=null==_?void 0:_.desc)?o:"":null!=(c=null==h?void 0:h.description)?c:"",T=(l={},(0,r._)(l,"al:ios:url",v),(0,r._)(l,"al:android:url",v),(0,r._)(l,"al:ios:app_store_id",b),(0,r._)(l,"al:ios:app_name",A),(0,r._)(l,"al:android:app_name",A),(0,r._)(l,"al:android:package",w),l),k=(d={},(0,r._)(d,"og:site_name","TikTok"),(0,r._)(d,"og:type","website"),(0,r._)(d,"og:title",L),(0,r._)(d,"og:description",S),(0,r._)(d,"fb:app_id",m?y.M_FACEBOOK_ID:y.T_FACEBOOK_ID),d),P=(p={},(0,r._)(p,"twitter:app:id:iphone",b),(0,r._)(p,"twitter:app:id:googleplay",w),(0,r._)(p,"twitter:card","summary"),(0,r._)(p,"twitter:site","TikTok"),(0,r._)(p,"twitter:title",L),(0,r._)(p,"twitter:description",S),p);return(0,i._)({},T,k,P)}var l="https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/share_img.png"},36075:function(e,t,n){n.d(t,{U:function(){return Y}});var r,i=n(48748),o=n(95170),a=n(7120),u=n(5377),s=n(45996),c=n(16327),l=n(6586),d=n(54333),p=n(79262),f=n(61157),v=n(23999),g=n(46657),_=n(25572),h=n(9543),m=n(19293),y=n(72916),A=n(95719),b=n(68710),w=n(64468),L=n(24451),S=n(62564),T=n(20259),k=n(74690),P=n(35572),I=n(54161),C=n(82379),M=n(1455),E=n(2999),O=n(8561),V=n(48007),x=n(54160),R=n(47149),F=n(4234),U=n(77060),j=n(35702),D=n(35379),W=n(36084),B=n(95285),q=n(57007),N=n(13495),$=n(53975),Z=n(95692),z=n(9659),G=n(6858),K=n(52492);function H(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function Q(e,t){if(("undefined"==typeof Reflect?"undefined":(0,p._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var Y=function(e){function t(e,n){var r;return(0,o._)(this,t),(r=(0,i._)(this,t)).service=e,r.t=n,r.defaultState={users:{},stats:{}},r}(0,a._)(t,e);var n=t.prototype;return n.multiSetUser=function(e,t){(0,D.Gp)().multiSetUser(t)},n.setUser=function(e,t){(0,D.Gp)().setUser(t)},n.setUserRelation=function(e,t){(0,D.Gp)().setUserRelation(t)},n.setUserStats=function(e,t){(0,D.Gp)().setUserStats(t)},n.multiSetUserStats=function(e,t){(0,D.Gp)().multiSetUserStats(t)},n.getUserDetail=function(e){var t=this;return e.pipe((0,y.n)(function(e){return t.service.getUserDetail(e).pipe((0,A.M)(function(e){(e.statusCode===q.s.Ok||e.statusCode===q.s.UserPrivate)&&e.userInfo||console.warn("Get user detail failed for getting wrong response")}),(0,b.Z)(function(e){return(e.statusCode===q.s.Ok||e.statusCode===q.s.UserPrivate)&&e.userInfo?(0,v.of)(t.getActions().setUser((0,s._)((0,u._)({},e.userInfo.user),{extraInfo:{statusCode:e.statusCode}})),t.getActions().setUserStats({stats:(0,s._)((0,u._)({},e.userInfo.stats),{needFix:!1}),uniqueId:e.userInfo.user.uniqueId})):g.w}),(0,z.n)({}))}))},n.postCommitFollowUser=function(e){var t=this;return e.pipe((0,w.$)(function(e){return e.uniqueId}),(0,b.Z)(function(e){return e.pipe((0,L.E)(t.state$),(0,S.T)(function(e){var t=(0,l._)(e,2),n=t[0],r=t[1].users[n.uniqueId],i=r.id,o=r.secUid,a=r.relation,u=void 0===a?O.yf.UNKNOW:a,s=(0,W.gN)(u),d={type:+(s===V.G1Q.Follow),action_type:+(s===V.G1Q.Follow),user_id:i,sec_user_id:void 0===o?"":o,from:18,channel_id:q.F.Hot,from_pre:0},p=n.uniqueId,f=n.useFollowV2,v=n.group_id,g=n.enter_method;return{query:d,type:s,group_id:v,enter_method:void 0===g?R.c.ClickNormalFollow:g,action_position:n.action_position,restReportParams:(0,c._)(n,["uniqueId","useFollowV2","group_id","enter_method","action_position"]),id:i,uniqueId:p,useFollowV2:f,relation:u,targetUser:r}}),(0,y.n)(function(e){var n=e.query,r=e.group_id,i=e.enter_method,o=e.action_position,a=e.restReportParams,c=e.id,l=e.uniqueId,d=e.useFollowV2,p=e.relation,f=e.targetUser;return(d?t.service.postCommitFollowUserV2(n):t.service.postCommitFollowUser(n)).pipe((0,T.W)(function(e){return(0,_.H)(e.json())}),(0,S.T)(function(e){return(0,u._)({status_code:null==e?void 0:e.status_code,follow_status:null==e?void 0:e.follow_status},e)}),(0,A.M)(function(e){var l=e.status_code,d=e.follow_status;if(l===q.s.UserInboxFollowBan?j.F.open({content:t.t("inbox_follow_failed_banned"),duration:3,widthType:"half"}):l===q.s.UnknownError?j.F.open({content:t.t("inbox_follow_failed_noconnection"),duration:3,widthType:"half"}):l!==q.s.Ok?j.F.open({content:t.t("inbox_follow_failed_other"),duration:3,widthType:"half"}):(0,N.G)(l,[q.s.UserInboxFollowBan,q.s.UnknownError,q.s.Ok]),F.ti.handleFollowUser((0,s._)((0,u._)({},a),{status_code:l,follow_status:d,group_id:r,enter_method:i,action_position:o,to_user_id:c,author_id:c,follow_type:d===V.m33.FollowEachOtherStatus?"mutual":"single",is_private:+(d===V.m33.FollowRequestStatus)}),n.type),a.is_ad_event&&a.tag&&a.value&&a.log_extra&&n.type===V.G1Q.Unfollow){var p=a.tag,f=a.value,v=a.log_extra;U.pg.handleFollowCancel({log_extra:v,tag:p,value:f,is_ad_event:"1"})}}),(0,S.T)(function(e){var n=e.follow_status;return e.status_code===q.s.Ok?t.getActions().setUserRelation({uniqueId:l,relation:G.i0[n],shouldUpdateFollowed:!0}):t.getActions().setUserRelation({uniqueId:l,relation:p})}),(0,k.Z)(t.getActions().setUserRelation({uniqueId:l,relation:(0,W.A7)({current:p,targetUser:f})})),(0,z.n)({}))}))}))},n.blockOrUnblockUser=function(e){var t=this;return e.pipe((0,P.p)(function(e){var n=e.secUid,r=e.isBlock,i=e.uniqueId;return t.service.blockUser({sec_user_id:null!=n?n:"",block_type:+!r}).pipe((0,A.M)(function(e){e.status_code===q.s.Ok&&j.F.open({content:t.t(r?"webapp_mig_unblocked":"webapp_mig_blocked"),duration:3,e2eTag:"block-toast"})}),(0,S.T)(function(e){return e.status_code===q.s.Ok?t.getActions().setUserRelation({uniqueId:i,relation:r?O.yf.NONE:O.yf.BLOCK}):t.noop()}),(0,z.n)({}))}))},n.getLiveStatus=function(e){var t=this;return e.pipe((0,y.n)(function(){return(0,h.Y)(6e5).pipe((0,L.E)(t.state$),(0,S.T)(function(e){var t=(0,l._)(e,2);return Object.values((t[0],t[1].users)).filter(function(e){return!!(null==e?void 0:e.roomId)})}),(0,b.Z)(function(e){return v.of.apply(void 0,(0,d._)(e.map(function(e){return t.getActions().getUserDetail({secUid:null==e?void 0:e.secUid})})))}))}))},t}(x.E);Y.jotaiAtom=D.p9,H([(0,C.h5)(),Q("design:type",Function),Q("design:paramtypes",["undefined"==typeof UserModuleState?Object:UserModuleState,Array]),Q("design:returntype",void 0)],Y.prototype,"multiSetUser",null),H([(0,C.h5)(),Q("design:type",Function),Q("design:paramtypes",["undefined"==typeof UserModuleState?Object:UserModuleState,void 0===B.ExtendedUserStruct?Object:B.ExtendedUserStruct]),Q("design:returntype",void 0)],Y.prototype,"setUser",null),H([(0,C.h5)(),Q("design:type",Function),Q("design:paramtypes",[void 0===f.Draft?Object:f.Draft,Object]),Q("design:returntype",void 0)],Y.prototype,"setUserRelation",null),H([(0,C.h5)(),Q("design:type",Function),Q("design:paramtypes",["undefined"==typeof UserModuleState?Object:UserModuleState,"undefined"==typeof StatsPayload?Object:StatsPayload]),Q("design:returntype",void 0)],Y.prototype,"setUserStats",null),H([(0,C.h5)(),Q("design:type",Function),Q("design:paramtypes",["undefined"==typeof UserModuleState?Object:UserModuleState,Array]),Q("design:returntype",void 0)],Y.prototype,"multiSetUserStats",null),H([(0,C.Mj)(),Q("design:type",Function),Q("design:paramtypes",[void 0===m.c?Object:m.c]),Q("design:returntype",void 0)],Y.prototype,"getUserDetail",null),H([(0,C.Mj)(),Q("design:type",Function),Q("design:paramtypes",[void 0===m.c?Object:m.c]),Q("design:returntype",void 0)],Y.prototype,"postCommitFollowUser",null),H([(0,C.Mj)(),Q("design:type",Function),Q("design:paramtypes",[void 0===m.c?Object:m.c]),Q("design:returntype",void 0)],Y.prototype,"blockOrUnblockUser",null),H([(0,C.Mj)(),Q("design:type",Function),Q("design:paramtypes",[void 0===m.c?Object:m.c]),Q("design:returntype",void 0)],Y.prototype,"getLiveStatus",null),Y=H([(0,M.nV)("UserModule"),(r=(0,E.y)($.hp),function(e,t){r(e,t,1)}),Q("design:type",Function),Q("design:paramtypes",[void 0===K.D?Object:K.D,void 0===Z.I18NTranslate?Object:Z.I18NTranslate])],Y),D.p9.__SIGI_MODULE__=Y,(0,I.y)(Y)},52492:function(e,t,n){n.d(t,{D:function(){return v}});var r=n(95170),i=n(35383),o=n(5377),a=n(45996),u=n(79262),s=n(23999),c=n(84772),l=n(64124),d=n(56904),p=n(96062);function f(e,t){if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var v=function(){function e(t){(0,r._)(this,e),this.fetch=t}var t=e.prototype;return t.getUserDetail=function(e){var t=(0,l.Ni)("userDetail");return t?(0,s.of)(t):this.fetch.get("/api/user/detail/",{query:e,baseUrlType:d.Z4.FixedWww})},t.postCommitFollowUser=function(e){return this.fetch.post("/api/commit/follow/user/",{query:(0,a._)((0,o._)({},e),{fromWeb:1}),baseUrlType:d.Z4.FixedWww,headers:(0,i._)({},d.nk,this.fetch.csrfToken)})},t.postCommitFollowUserV2=function(e){return this.fetch.post("/api/follow/",{signal:new AbortController().signal,query:(0,a._)((0,o._)({},e),{fromWeb:1}),baseUrlType:d.Z4.FixedWww,headers:(0,i._)({},d.nk,this.fetch.csrfToken)})},t.blockUser=function(e){return this.fetch.post("/api/user/block/",{query:(0,a._)((0,o._)({},e),{source:3}),baseUrlType:d.Z4.FixedWww,headers:(0,i._)({},d.nk,this.fetch.csrfToken)})},e}();v=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,u._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,c._q)(),f("design:type",Function),f("design:paramtypes",[void 0===p.p?Object:p.p])],v)},37815:function(e,t,n){n.d(t,{t:function(){return o}});var r=n(69513),i=n(43274),o={provide:(0,n(37633).U)("FirstVideoCover@tiktok/fe-shared",function(){return new i.n("FirstVideoCover")}),useValue:r.A}},49244:function(e,t,n){n.d(t,{D:function(){return eu},O:function(){return ea}});var r=n(79066),i=n(48748),o=n(95170),a=n(7120),u=n(5377),s=n(45996),c=n(6586),l=n(54333),d=n(79262),p=n(72516),f=n(61945),v=n(76186),g=n(23999),_=n(63700),h=n(19293),m=n(20259),y=n(72916),A=n(62564),b=n(80339),w=n(24451),L=n(35572),S=n(68710),T=n(95719),k=n(45525),P=n(74690),I=n(76435),C=n(71111),M=n(54161),E=n(62100),O=n(82379),V=n(1455),x=n(2999),R=n(8561),F=n(96152),U=n(89786),j=n(54160),D=n(62650),W=n(35702),B=n(38306),q=n(89458),N=n(83751),$=n(56186),Z=n(57007),z=n(32049),G=n(53975),K=n(82307),H=n(66772),Q=n(95692),Y=n(99067),J=n(54358),X=n(51794),ee=n(729),et=n(37815),en=n(80897);function er(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function ei(e,t){if(("undefined"==typeof Reflect?"undefined":(0,d._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function eo(e,t){return function(n,r){t(n,r,e)}}var ea=function(e){function t(e,n,r,a,u,s,c){var l;return(0,o._)(this,t),(l=(0,i._)(this,t)).service=e,l.item=n,l.videoMask=r,l.bizContext=a,l.jotaiStore=u,l.t=s,l.getFirstVideoCover=c,l.defaultState={},l.createItemListErrorCatcher=function(e){return function(t){return t.pipe((0,m.W)(function(t){return W.F.destroy(),W.F.open({content:l.t("server_error_title"),duration:3,widthType:"padding"}),null==e||e(t),(0,g.of)({statusCode:Z.s.UnknownError})}))}},l}(0,a._)(t,e);var n=t.prototype;return n.resetItemList=function(e,t){var n=t.key,r=t.hasMore,i=t.loading,o=t.cursor;e[n]={list:[],browserList:[],loading:void 0===i||i,statusCode:Z.s.Ok,hasMore:void 0===r||r,cursor:void 0===o?"0":o,preloadList:[]}},n.addItemList=function(e,t){var n,r,i=t.key,o=t.list,a=t.statusCode,u=void 0===a?Z.s.Ok:a,s=t.hasMore,c=t.hasMorePrevious,d=t.hasMoreLatest,p=t.cursor,g=t.level,_=t.preloadList,h=t.addToHead,m=t.liveCardDisplay,y=t.unviewedCursor,A=t.viewedCursor,b=t.unique,w=void 0===b||b,L=i===B.Lz.Topic||i===B.Lz.Messages;e[i]||(e[i]={list:[],browserList:[],loading:!1,statusCode:u,hasMore:!!s,cursor:p,preloadList:[]});var S=e[i].list,T=w?(0,f.A)(o,"id").filter(function(e){return!S.includes(e.id)}):o;if(h)(n=e[i].list).unshift.apply(n,(0,l._)(T.map(function(e){return e.id}))),e[i].browserList=(0,l._)((0,q.bp)({list:T})).concat((0,l._)(e[i].browserList));else{var k=(0,v.A)(e[i].list,T.map(function(e){return e.id}));w?(e[i].list=L?S.concat(o.map(function(e){return e.id})):k,e[i].browserList=L?e[i].browserList.concat((0,q.bp)({list:o})):(0,v.A)(e[i].browserList,(0,q.bp)({list:T}))):(e[i].list=o.map(function(e){return e.id}),e[i].browserList=(0,q.bp)({list:T}))}e[i].statusCode=u,e[i].hasMore=s,e[i].cursor=p,e[i].level=g,e[i].liveCardDisplay=m,e[i].preloadList=(null!=(r=e[i].preloadList)?r:[]).concat(null!=_?_:[]),i===B.Lz.CreatorTab&&(e[i].hasMorePrevious=null!=c?c:e[i].hasMorePrevious,e[i].hasMoreLatest=null!=d?d:e[i].hasMoreLatest),i===B.Lz.Friends&&(e[i].unviewedCursor=null!=y?y:e[i].unviewedCursor,e[i].viewedCursor=null!=A?A:e[i].viewedCursor)},n.setItemListById=function(e,t){var n=t.key,r=t.list,i=t.statusCode,o=void 0===i?Z.s.Ok:i,a=t.hasMore,u=void 0===a||a,s=t.cursor,c=t.level;e[n]||(e[n]={list:[],browserList:[],loading:!1,statusCode:o,hasMore:!!u,cursor:s,preloadList:[]}),e[n].list=r,e[n].browserList=r,e[n].statusCode=o,e[n].hasMore=u,e[n].cursor=s,e[n].level=c},n.removeItemListById=function(e,t){var n,r=t.key,i=t.groupId;(null==(n=e[r])?void 0:n.list)&&(e[r].list=e[r].list.filter(function(e){return e!==i}))},n.setLoading=function(e,t){var n=t.loading,r=t.key;e[r]||(e[r]={list:[],browserList:[],loading:n,statusCode:Z.s.Ok,hasMore:!0,cursor:"0"}),e[r].loading=n},n.setListKeyword=function(e,t){var n=t.keyword,r=t.key;e[r]||(e[r]={keyword:n,list:[],browserList:[],loading:!1,statusCode:Z.s.Ok,hasMore:!0,cursor:"0"}),e[r].keyword=n},n.getTopicList=function(e){var t=this;return e.pipe((0,y.n)(function(e){var n=e.topic,r=e.abTestVersion,i=e.user,o=e.language;return t.service.getTopicList({topic:n,language:o,count:X.Uw,aid:X.xE}).pipe((0,A.T)(function(e){return(0,s._)((0,u._)({},e),{hasMore:!0})}),t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Topic,abTestVersion:r,user:i,language:o}),(0,b.q)(t.terminate()))}))},n.getFollowingList=function(e){var t=this;return e.pipe((0,w.E)(this.state$,this.bizContext.state$),(0,L.p)(function(e){var n,r,i,o=(0,c._)(e,3),a=o[0],u=a.pullType,s=a.abTestVersion,l=a.user,d=a.language,p=o[1],f=o[2],v=null!=(i=p[B.Lz.Following])?i:{},g=v.cursor,_=v.level;return t.service.getFollowingList({aid:X.xE,count:X.rd,language:d,cursor:void 0===g?"":g,pullType:void 0===u?1:u,level:void 0===_?1:_,isResetCounterUsed:!0,isNonPersonalized:!(0,z.fU)()&&(0,N.PJ)(t.jotaiStore.get(N.WH)),coverFormat:null==(r=f.bizContext)||null==(n=r.videoCoverSettings)?void 0:n.format,clientABVersions:null==s?void 0:s.versionName}).pipe(t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Following,language:d,user:l,abTestVersion:s}))}))},n.getFriendsList=function(e){var t=this;return e.pipe((0,w.E)(this.state$,this.bizContext.state$),(0,L.p)(function(e){var n,r,i,o=(0,c._)(e,3),a=o[0],u=a.pullType,s=a.abTestVersion,l=a.user,d=a.language,p=o[1],f=o[2],v=null!=(i=p[B.Lz.Friends])?i:{},g=v.unviewedCursor,_=v.viewedCursor,h=v.level;return t.service.getFriendsList({aid:X.xE,count:X.Ly,language:d,unviewedCursor:void 0===g?"0":g,viewedCursor:void 0===_?"0":_,pullType:void 0===u?1:u,level:void 0===h?1:h,isResetCounterUsed:!0,isNonPersonalized:!(0,z.fU)()&&(0,N.PJ)(t.jotaiStore.get(N.WH)),coverFormat:null==(r=f.bizContext)||null==(n=r.videoCoverSettings)?void 0:n.format,clientABVersions:null==s?void 0:s.versionName}).pipe(t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Friends,language:d,user:l,abTestVersion:s}))}))},n.getQuestionList=function(e){var t=this;return e.pipe((0,S.Z)(function(e){return t.getQuestionList$(e)}))},n.getQuestionList$=function(e){var t=this;return(0,g.of)(e).pipe((0,w.E)(this.state$),(0,L.p)(function(e){var n,r,i=(0,c._)(e,2),o=i[0],a=o.questionID,u=o.abTestVersion,s=o.language,l=o.user,d=i[1];return t.service.getQuestionList({questionID:a,language:s,cursor:null!=(r=null==(n=d[B.Lz.Question])?void 0:n.cursor)?r:"0",aid:X.xE,count:X.vu}).pipe(t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Question,abTestVersion:u,language:s,user:l}))}))},n.getPlaylistVideoList=function(e){var t=this;return e.pipe((0,S.Z)(function(e){return t.getPlaylistVideoList$(e)}))},n.getPlaylistVideoList$=function(e,t){var n=this;return(0,g.of)(e).pipe((0,w.E)(this.state$),(0,L.p)(function(e){var r,i,o=(0,c._)(e,2),a=o[0],u=a.mixId,s=a.key,l=a.abTestVersion,d=a.language,p=a.user,f=a.isPlayList,v=o[1];return n.service.getPlaylistVideoList({mixId:u,language:d,cursor:null!=(i=null==(r=v[null!=s?s:u])?void 0:r.cursor)?i:"0",aid:X.xE,count:X.vu}).pipe(n.createItemListErrorCatcher(),(0,T.M)(function(e){var n;return null==t||null==(n=t.onVideoList)?void 0:n.call(t,e.itemList)}),n.handleListData({key:null!=s?s:u,abTestVersion:l,language:d,user:p,isPlayList:f}))}))},n.getCollectionList=function(e){var t=this;return e.pipe((0,S.Z)(function(e){return t.getCollectionList$(e)}))},n.getCollectionList$=function(e){var t=this;return(0,g.of)(e).pipe((0,w.E)(this.state$),(0,L.p)(function(e){var n,r,i=(0,c._)(e,2),o=i[0],a=o.collectionId,u=o.abTestVersion,s=o.language,l=o.user,d=i[1];return t.service.getCollectionList({collectionId:a,language:s,cursor:null!=(r=null==(n=d[B.Lz.Collection])?void 0:n.cursor)?r:"0",aid:X.xE,count:X.vu,sourceType:113}).pipe(t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Collection,abTestVersion:u,language:s,user:l}))}))},n.getUserVideoListByType=function(e){var t=this;return e.pipe((0,S.Z)(function(e){return t.getUserVideoListByType$(e)}))},n.getUserVideoListByType$=function(e){var t=this;return(0,g.of)(e).pipe((0,w.E)(this.state$),(0,y.n)(function(e){var n,r,i=(0,c._)(e,2),o=i[0],a=o.count,u=void 0===a?X.VD:a,s=o.postItemType,l=void 0===s?R.Ij.PUBLIC:s,d=o.key,p=o.abTestVersion,f=o.language,v=o.user,g=i[1],_={appId:X.xE,count:u,cursor:null!=(r=null==(n=g[d])?void 0:n.cursor)?r:"0",language:f,postItemType:l};return t.service.getUserPostListByType(_).pipe(t.createItemListErrorCatcher(),t.handleListData({key:d,abTestVersion:p,language:f,user:v,otherInfo:{secUid:null==v?void 0:v.secUid}}))}))},n.getPoiList=function(e){var t=this;return e.pipe((0,S.Z)(function(e){return t.getPoiList$(e)}))},n.getPoiList$=function(e){var t=this;return(0,g.of)(e).pipe((0,w.E)(this.state$),(0,L.p)(function(e){var n,r,i=(0,c._)(e,2),o=i[0],a=o.poiId,u=o.abTestVersion,s=o.language,l=o.user,d=i[1];return t.service.getPoiList({poiId:a,language:s,cursor:null!=(r=null==(n=d[B.Lz.Poi])?void 0:n.cursor)?r:"0",aid:X.xE,count:X.vu}).pipe(t.createItemListErrorCatcher(),t.handleListData({key:B.Lz.Poi,abTestVersion:u,user:l,language:s}))}))},n.setDeleteVideo=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=e[u];if(s){var c=s.list.filter(function(e){return e!==t});e[u].list=c,e[u].browserList=s.browserList.filter(function(e){return e!==t})}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},n.deleteLiveItem=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,s=e[u];if(s){var c=s.list.filter(function(e){return e!==t});s.list=c,s.browserList=s.browserList.filter(function(e){return e!==t})}e[u]=s}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},n.setList=function(e){var t=this;return e.pipe((0,w.E)(this.state$,this.videoMask.state$),(0,T.M)(function(e){var t,n,r,i=(0,c._)(e,2),o=i[0],a=o.key,u=o.response,s=o.disableReportMore,l=o.isPlayList;(null!=(n=null==(t=i[1][a])?void 0:t.list)?n:[]).length&&!(void 0!==s&&s)&&D.L.handleListMore({is_success:+(null!=(r=u.itemList)&&!!r.length),error_code:u.statusCode,popup_type:void 0!==l&&l?"playlist":void 0})}),(0,A.T)(function(e){var t,n,r=(0,c._)(e,3),i=r[0],o=i.key,a=i.response,u=i.otherInfo,s=i.user,l=(r[1],r[2]),d=null!=(n=null!=(t=a.itemList)?t:a.items)?n:[];return a.itemList||(a.itemList=d),((null==s?void 0:s.photoSensitiveVideosSetting)===F.ll.CLOSE||!s&&l.photoSensitiveVideosSetting===F.ll.CLOSE)&&(o!==B.Lz.UserPost||(null==s?void 0:s.secUid)!==(null==u?void 0:u.secUid))&&(o!==B.Lz.Video||d.length>1)&&(a.itemList=d.filter(function(e){return e.containerType===R.Kk.CONTAINERTYPE_LIVE||(null==e?void 0:e.maskType)!==$.D.Photosensitive})),a.itemList=a.itemList.map(function(e){if((0,q.Jl)(e)){var t;e.id=(0,q.Qw)(null==(t=e.liveRoomInfo)?void 0:t.roomID)}return e}),{key:o,response:a,otherInfo:u}}),(0,T.M)(function(e){e.key,e.response}),(0,S.Z)(function(e){var n=e.key,r=e.response,i=e.otherInfo,o=r.log_pb,a=r.itemList,u=void 0===a?[]:a,s=r.statusCode,c=void 0===s?Z.s.Ok:s,d=r.hasMore,p=void 0!==d&&d,f=r.hasMorePrevious,v=r.liveCardDisplay,_=r.hasMoreLatest,h=r.cursor,m=r.level,y=r.viewedCursor,A=r.unviewedCursor,b=u.filter(function(e){return e.containerType!==R.Kk.CONTAINERTYPE_LIVE}).map(function(e){var t,n,r,i;return{url:null!=(r=null==(t=e.video)?void 0:t.playAddr)?r:"",id:null!=(i=null==(n=e.video)?void 0:n.id)?i:""}});return c===Z.s.Ok&&n===B.Lz.CreatorTab?g.of.apply(void 0,(0,l._)(t.item.addItems(u,null==o?void 0:o.impr_id)).concat([t.getActions().addItemList({key:n,list:u,statusCode:c,hasMore:p,hasMorePrevious:f,hasMoreLatest:_,preloadList:b,addToHead:null==i?void 0:i.addToHead})])):(c===Z.s.Ok||c===Z.s.FypVideoListLimit)&&n===B.Lz.Friends?g.of.apply(void 0,(0,l._)(t.item.addItems(u,null==o?void 0:o.impr_id)).concat([t.getActions().addItemList({key:n,list:u,statusCode:c,hasMore:p,level:m,preloadList:b,addToHead:null==i?void 0:i.addToHead,viewedCursor:void 0===y?"0":y,unviewedCursor:void 0===A?"0":A})])):c===Z.s.Ok||c===Z.s.FypVideoListLimit?g.of.apply(void 0,(0,l._)(t.item.addItems(u,null==o?void 0:o.impr_id)).concat([t.getActions().addItemList({key:n,list:u,statusCode:c,hasMore:p,cursor:void 0===h?"0":h,level:m,preloadList:b,liveCardDisplay:v})])):(0,g.of)(t.getActions().addItemList({key:n,list:[],statusCode:c,hasMore:!0,preloadList:b}))}))},n.handleListData=function(e){var t=this,n=e.key,r=e.language,i=e.user,o=e.otherInfo,a=e.onResponse,u=e.isPlayList;return function(e){return e.pipe((0,k.w)(X.LA),(0,S.Z)(function(e){var s;return(0,_.h)((0,g.of)(t.getActions().setList({key:n,response:e,otherInfo:o,language:r,user:i,isPlayList:u})),null!=(s=null==a?void 0:a(e))?s:(0,g.of)(t.noop()))}),(0,P.Z)(t.getActions().setLoading({key:n,loading:!0})),(0,b.q)(t.getActions().setLoading({key:n,loading:!1})),(0,I.Q)(t.dispose$))}},t}(j.E);er([(0,O.uk)(),ei("design:type",void 0===h.c?Object:h.c)],ea.prototype,"dispose$",void 0),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"resetItemList",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"addItemList",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"setItemListById",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"removeItemListById",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"setLoading",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,Object]),ei("design:returntype",void 0)],ea.prototype,"setListKeyword",null),er([(0,O.Mj)({payloadGetter:(0,Y.i)([U.OZ.topics],function(e){return(0,r._)(function(){var t,n,r,i,o;return(0,p.__generator)(this,function(a){switch(a.label){case 0:return t=e.params.name,[4,e.service.baseContext.getBaseContext()];case 1:return r=(n=a.sent()).abTestVersion,i=n.user,o=n.language,[2,{topic:(0,J.o)(t),abTestVersion:r,language:o,user:i}]}})})()}),skipFirstClientDispatch:!1}),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getTopicList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getFollowingList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getFriendsList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getQuestionList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getPlaylistVideoList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0===h.c?Object:h.c)],ea.prototype,"getCollectionList",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getUserVideoListByType",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"getPoiList",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,String]),ei("design:returntype",void 0)],ea.prototype,"setDeleteVideo",null),er([(0,O.h5)(),ei("design:type",Function),ei("design:paramtypes",["undefined"==typeof ItemListModuleState?Object:ItemListModuleState,String]),ei("design:returntype",void 0)],ea.prototype,"deleteLiveItem",null),er([(0,O.Mj)(),ei("design:type",Function),ei("design:paramtypes",[void 0===h.c?Object:h.c]),ei("design:returntype",void 0)],ea.prototype,"setList",null),ea=er([(0,V.nV)("ItemList"),eo(4,(0,x.y)(E.J7)),eo(5,(0,x.y)(G.hp)),eo(6,(0,x.y)(et.t.provide)),ei("design:type",Function),ei("design:paramtypes",[void 0===en.j?Object:en.j,void 0===ee.k?Object:ee.k,void 0===K.w?Object:K.w,void 0===H.$?Object:H.$,void 0===C.JotaiStoreType?Object:C.JotaiStoreType,void 0===Q.I18NTranslate?Object:Q.I18NTranslate,void 0===et.GetCoverCallback?Object:et.GetCoverCallback])],ea);var eu=(0,M.y)(ea)},80897:function(e,t,n){n.d(t,{j:function(){return m}});var r=n(95170),i=n(5377),o=n(45996),a=n(79262),u=n(25572),s=n(20259),c=n(84772),l=n(80514),d=n(56904),p=n(2727),f=n(22160),v=n(96062),g=n(89379),_=n(37815);function h(e,t){if(("undefined"==typeof Reflect?"undefined":(0,a._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var m=function(){function e(t,n){(0,r._)(this,e),this.fetch=t,this.slardar=n}var t=e.prototype;return t.getCollectionList=function(e){return this.fetch.get("/api/collection/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getRecommendList=function(e){var t=this,n=(0,p.t)("recommendItemList");if(n)return(0,u.H)(n);var r=(0,f.DV)("recommendItemList");return r?(this.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"unknown",from:"recommendItemList"}),(0,u.H)(r).pipe((0,s.W)(function(){return t.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"fail",from:"recommendItemList"}),t.fetch.get("/api/recommend/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})}))):this.fetch.get("/api/recommend/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getTopicList=function(e){return this.fetch.get("/api/topic/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getFollowingList=function(e){return this.fetch.get("/api/following/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getFriendsList=function(e){return this.fetch.get("/api/friends/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getQuestionList=function(e){return this.fetch.get("/api/question/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getPlaylistVideoList=function(e){return this.fetch.get("/api/mix/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getChallengeList=function(e){return this.fetch.get("/api/challenge/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getUserPostList=function(e){var t=this,n=(0,p.t)("userPostList");if(n)return(0,u.H)(n);var r=(0,f.DV)("userPostList");return r?(this.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"unknown",from:"userPostList"}),(0,u.H)(r).pipe((0,s.W)(function(n){return console.log("-===error",n),t.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"fail",from:"userPostList"}),t.fetch.get("/api/post/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})}))):this.fetch.get("/api/post/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getUserPostListByType=function(e){return this.fetch.get("/api/post/item_list/v1/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getUserPostListBiDirection=function(e){return this.fetch.get("/api/creator/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getUserLikedList=function(e){return this.fetch.get("/api/favorite/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getUserFavoriteList=function(e){return this.fetch.get("/api/user/collect/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getPoiList=function(e){return this.fetch.get("/api/poi/item_list/",{query:(0,o._)((0,i._)({},e),{clientABVersions:(0,l.v)().join(",")}),baseUrlType:d.Z4.FixedWww})},t.getExploreList=function(e){var t=this,n=(0,f.DV)("exploreItemList");return n?(this.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"unknown",from:"exploreItemList"}),(0,u.H)(n).pipe((0,s.W)(function(){return t.slardar.emitEvent("consume_prefetch_data",{now:performance.now()},{status:"fail",from:"exploreItemList"}),t.fetch.get("/api/explore/item_list/",{query:e,baseUrlType:d.Z4.FixedWww})}))):this.fetch.get("/api/explore/item_list/",{query:e,baseUrlType:d.Z4.FixedWww})},t.getFeedCacheList=function(e){return this.fetch.get("/api/preload/item_list/",{query:e,baseUrlType:d.Z4.FixedWww})},t.checkItemValidation=function(e){return this.fetch.get("/api/item/availability/",{query:e,baseUrlType:d.Z4.FixedWww})},e}();m=function(e,t,n,r){var i,o=arguments.length,u=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,a._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(u=(o<3?i(u):o>3?i(t,n,u):i(t,n))||u);return o>3&&u&&Object.defineProperty(t,n,u),u}([(0,c._q)({providers:[_.t]}),h("design:type",Function),h("design:paramtypes",[void 0===v.p?Object:v.p,void 0===g.V$?Object:g.V$])],m)},729:function(e,t,n){n.d(t,{t:function(){return el},k:function(){return ec}});var r=n(48748),i=n(95170),o=n(7120),a=n(5377),u=n(45996),s=n(16327),c=n(6586),l=n(79262),d=n(61157),p=n(87933),f=n(23999),v=n(87662),g=n(46657),_=n(19293),h=n(72916),m=n(24451),y=n(62564),A=n(68710),b=n(95719),w=n(74690),L=n(64468),S=n(76773),T=n(36166),k=n(20259),P=n(71111),I=n(54161),C=n(62100),M=n(82379),E=n(1455),O=n(2999),V=n(8561),x=n(48007),R=n(35144),F=n(54160),U=n(61868),j=n(47149),D=n(50173),W=n(48859),B=n(21916),q=n(50644),N=n(6984),$=n(35702),Z=n(72702),z=n(89458),G=n(57007),K=n(55453),H=n(53975),Q=n(95692),Y=n(9659),J=n(51794),X=n(36075),ee=n(35383),et=n(84772),en=n(56904),er=n(96062);function ei(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var eo=function(){function e(t){(0,i._)(this,e),this.fetch=t}var t=e.prototype;return t.postLikeVideo=function(e){return this.fetch.post("/api/commit/item/digg/",{query:e,baseUrlType:en.Z4.FixedWww,headers:(0,ee._)({},en.nk,this.fetch.csrfToken)})},t.postDislikeVideo=function(e){return this.fetch.post("/api/dislike/item/",{query:e,baseUrlType:en.Z4.FixedWww,headers:(0,ee._)({},en.nk,this.fetch.csrfToken)})},t.collectVideo=function(e){return this.fetch.post("/api/item/collect/",{query:e,baseUrlType:en.Z4.FixedWww,headers:(0,ee._)({},en.nk,this.fetch.csrfToken)})},e}();function ea(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function eu(e,t){if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function es(e,t){return function(n,r){t(n,r,e)}}eo=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if(("undefined"==typeof Reflect?"undefined":(0,l._)(Reflect))==="object"&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}([(0,et._q)(),ei("design:type",Function),ei("design:paramtypes",[void 0===er.p?Object:er.p])],eo);var ec=function(e){function t(e,n,o,a){var u;return(0,i._)(this,t),(u=(0,r._)(this,t)).service=e,u.userModule=n,u.jotaiStore=o,u.t=a,u.defaultState={},u}(0,o._)(t,e);var n=t.prototype;return n.setItem=function(e,t){(0,Z.ud)().setItem(t)},n.updateItem=function(e,t){(0,Z.ud)().updateItem(t)},n.multiSetItem=function(e,t){(0,Z.ud)().multiSetItem(t)},n.setLike=function(e,t){(0,Z.ud)().setLike(t)},n.setCollect=function(e,t){(0,Z.ud)().setCollect(t)},n.setCommentCount=function(e,t){(0,Z.ud)().setCommentCount(t)},n.setResolutionList=function(e,t){(0,Z.ud)().setResolutionList(t)},n.reduceOrIncreaseCommentCount=function(e,t){(0,Z.ud)().reduceOrIncreaseCommentCount(t)},n.addItems=function(e,t){var n=e.filter(function(e){return!!e.author}).map(function(e){return e.author}),r=e.filter(function(e){var t;return!!((null==e||null==(t=e.liveRoomInfo)?void 0:t.ownerInfo)&&(0,z.Jl)(e))}).map(function(e){return(0,u._)((0,a._)({},e.liveRoomInfo.ownerInfo),{roomId:e.liveRoomInfo.roomID})}),i=e.map(function(e){return(0,u._)((0,a._)({},e),{logId:t})});return[this.userModule.getActions().multiSetUser(n.concat(r)),this.getActions().multiSetItem(i)]},n.addItems$=function(e){var t=this;return e.pipe((0,h.n)(function(e){return t.addItems(e)}))},n.postCollectVideo=function(e){var t=this;return e.pipe((0,m.E)(this.state$,this.userModule.state$),(0,y.T)(function(e){var t,n,r,i,o=(0,c._)(e,3),a=o[0],u=o[1],s=o[2],l=a.itemId,d=u[l],p=s.users[null!=(t=null==d?void 0:d.author)?t:""],f=d.collected,v=void 0!==f&&f,g=d.stats,_=Number(null!=(n=null==g?void 0:g.collectCount)?n:0),h=v?V.Pm.ITEM_CANCEL_COLLECT:V.Pm.ITEM_COLLECT,m={aid:J.xE,itemId:l,action:h,secUid:null!=(r=null==p?void 0:p.secUid)?r:""};return{collectCount:_,collected:v,action:h,query:m,group_id:l,author_id:null!=(i=null==p?void 0:p.id)?i:""}}),(0,A.Z)(function(e){var n=e.collectCount,r=e.collected,i=e.query,o=e.group_id,a=e.author_id,u=e.action;return t.service.collectVideo(i).pipe((0,b.M)(function(){U.W.handleFavoriteResult({group_id:o,author_id:a},u)}),(0,A.Z)(function(e){return e.statusCode!==G.s.Ok?(0,p.O)(3e3).pipe((0,y.T)(function(){return t.getActions().setCollect({id:o,collected:r,count:n})})):(0,f.of)(t.noop())}),(0,w.Z)(t.getActions().setCollect({id:o,collected:!r,count:r?Math.max(0,n-1):n+1})),(0,Y.n)({}))}))},n.postLikeVideo=function(e){var t=this;return e.pipe((0,L.$)(function(e){return e.id}),(0,A.Z)(function(e){var n=new v.t(0);return e.pipe((0,m.E)(t.state$,t.userModule.state$,n),(0,A.Z)(function(e){var t,n,r,i=(0,c._)(e,4),o=i[0],a=i[1],u=i[2],l=i[3],d=o.language,p=o.play_mode,v=a[o.id],_=u.users[null!=(t=null==v?void 0:v.author)?t:""],h=(0,R.x)().user,m=v.digged,y=v.stats,A=v.poi,b=v.imagePost,w=v.subVideoMeta,L=v.ad_info,S=v.repostList,T=o.id,k=o.forceLike,P=o.enter_method,I=void 0===P?j.c.Click:P,C=o.channel_id,M=(0,s._)(o,["id","forceLike","enter_method","channel_id"]),E=null!=(n=null==y?void 0:y.diggCount)?n:0,O={aweme_id:T,channel_id:C,friends_upvote:null==S?void 0:S.some(function(e){return e.secUid!==(null==h?void 0:h.secUid)}),type:k?x.u9F.Digg:m?x.u9F.Undigg:x.u9F.Digg};return k&&m?g.w:(0,f.of)({query:O,enter_method:I,diggCount:E,digged:m,author_id:null!=(r=null==_?void 0:_.id)?r:"",group_id:v.id,poi_id:null==A?void 0:A.id,restReportParams:M,changeKey:"".concat(O.type,"_").concat(l),language:d,imagePost:b,play_mode:p,is_sub_only_video:+!!w,ad_info:L})}),(0,S.w)("changeKey"),(0,h.n)(function(e){var r=e.query,i=e.enter_method,o=e.diggCount,s=e.author_id,c=e.group_id,l=e.digged,d=e.poi_id,v=e.imagePost,g=e.is_sub_only_video,_=e.restReportParams,h=e.ad_info,m=!1,L=(0,p.O)(3e3).pipe((0,y.T)(function(){return t.getActions().setLike({id:c,liked:l,count:o})}),(0,T.j)(function(){var e=n.getValue();n.next(e+1)})),S=t.getActions().setLike({id:c,liked:!l,count:l?Math.max(0,o-1):o+1});return t.service.postLikeVideo(r).pipe((0,k.W)(function(){return(0,f.of)({status_code:-1})}),(0,b.M)(function(e){var n,o,l=e.status_code,p=e.status_msg,f=e.log_pb;(l===G.s.VideoLikeFreq||l===G.s.VideoLikeFreq2)&&p&&$.F.open({content:t.t(p),duration:3,widthType:"half"}),m=!0;var y={};h&&(y=(0,D.n5)({ad_info:h,play_mode:null!=(o=_.play_mode)?o:W.Tk.OneColumn})),B.z.handleLikeVideoResult((0,u._)((0,a._)({},_,y),{group_id:c,author_id:s,log_pb:void 0===f?{}:f,enter_method:i,poi_id:d,aweme_type:150*!!v,pic_cnt:null==v||null==(n=v.images)?void 0:n.length,is_sub_only_video:g}),r.type)}),(0,T.j)(function(){var e,t,n={};h&&(n=(0,D.n5)({ad_info:h,play_mode:null!=(e=_.play_mode)?e:W.Tk.OneColumn})),m||B.z.handleLikeVideoResult((0,u._)((0,a._)({},_,n),{group_id:c,author_id:s,log_pb:{},enter_method:i,poi_id:d,aweme_type:150*!!v,pic_cnt:null==v||null==(t=v.images)?void 0:t.length,is_sub_only_video:g}),r.type)}),(0,A.Z)(function(e){var n=e.status_code,i=e.is_digg;return n!==G.s.Ok||i===r.type?L:(0,f.of)(t.noop())}),(0,w.Z)(S),(0,Y.n)({}))}))}))},n.postDislikeVideo=function(e){var t=this;return e.pipe((0,m.E)(this.state$),(0,b.M)(function(e){var n=(0,c._)(e,2),r=n[0],i=n[1],o=r.id,u=r.author_id,s=r.play_mode,l=i[o],d=null==l?void 0:l.ad_info,p={};d&&((p=(0,D.n5)({ad_info:d,play_mode:s})).refer=q.Hq.Button),N.V.handleClickDislike((0,a._)({group_id:o,author_id:u,play_mode:s},p)),$.F.open({content:t.t("webapp_forYoufeed_videoRemoved_toast"),duration:3,widthType:"half",getContainer:K.M,getContainerPosition:"fixed"})}),(0,A.Z)(function(e){var n=(0,c._)(e,1)[0],r=n.id,i=n.author_id;return t.service.postDislikeVideo({item_id:r,item_author_id:i}).pipe((0,k.W)(function(){return(0,f.of)({status_code:-1})}),(0,y.T)(function(){return t.noop()}),(0,Y.n)({}))}))},n.setItemPrivateState=function(e,t){(0,Z.ud)().setItemPrivateState(t)},n.setDeleteVideo=function(e,t){(0,Z.ud)().setDeleteVideo(t)},t}(F.E);ec.jotaiAtom=Z.Pu,ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setItem",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",[void 0===d.Draft?Object:d.Draft,Object]),eu("design:returntype",void 0)],ec.prototype,"updateItem",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,"undefined"==typeof Array?Object:Array]),eu("design:returntype",void 0)],ec.prototype,"multiSetItem",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setLike",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setCollect",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setCommentCount",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setResolutionList",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"reduceOrIncreaseCommentCount",null),ea([(0,M.Mj)(),eu("design:type",Function),eu("design:paramtypes",[void 0===_.c?Object:_.c]),eu("design:returntype",void 0)],ec.prototype,"addItems$",null),ea([(0,M.Mj)(),eu("design:type",Function),eu("design:paramtypes",[void 0===_.c?Object:_.c]),eu("design:returntype",void 0===_.c?Object:_.c)],ec.prototype,"postCollectVideo",null),ea([(0,M.Mj)(),eu("design:type",Function),eu("design:paramtypes",[void 0===_.c?Object:_.c]),eu("design:returntype",void 0)],ec.prototype,"postLikeVideo",null),ea([(0,M.Mj)(),eu("design:type",Function),eu("design:paramtypes",[void 0===_.c?Object:_.c]),eu("design:returntype",void 0)],ec.prototype,"postDislikeVideo",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,Object]),eu("design:returntype",void 0)],ec.prototype,"setItemPrivateState",null),ea([(0,M.h5)(),eu("design:type",Function),eu("design:paramtypes",["undefined"==typeof ItemModuleState?Object:ItemModuleState,String]),eu("design:returntype",void 0)],ec.prototype,"setDeleteVideo",null),ec=ea([(0,E.nV)("ItemModule"),es(2,(0,O.y)(C.J7)),es(3,(0,O.y)(H.hp)),eu("design:type",Function),eu("design:paramtypes",[void 0===eo?Object:eo,void 0===X.U?Object:X.U,void 0===P.JotaiStoreType?Object:P.JotaiStoreType,void 0===Q.I18NTranslate?Object:Q.I18NTranslate])],ec);var el=(0,I.y)(ec)},84897:function(e,t,n){n.d(t,{d:function(){return i}});var r=n(59527),i=function(){return/google|yahoo|yandex|bing|naver|duckduckgo/gi.test((0,r.q)())}}}]);